2005-06-01  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      ext/standard/image.c:
      MFH:  Fixed bug #33210 (relax jpeg recursive loop protection).

    * (PHP_5_0)
      NEWS
      ext/standard/image.c:
      MFH: Fixed bug #33210 (relax jpeg recursive loop protection).

    * ext/standard/image.c:
      Fixed bug #33210 (relax jpeg recursive loop protection).

2005-06-01  Antony Dovgal  <antony@zend.com>

    * ext/session/session.c:
      fix typo
      (see details here: http://news.php.net/php.internals/16350)

2005-06-01  Dmitry Stogov  <dmitry@zend.com>

    * main/streams/streams.c
      main/streams/streams.c:
      Disabled search of recored separator outside of buffer

    * (PHP_5_0)
      NEWS:
      Fixed bug #32941 (Sending structured SOAP fault kills a php)

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/tests/bug30791.phpt
      ZendEngine2/tests/bug30791.phpt
      ZendEngine2/tests/bug30791.phpt
      ext/standard/var.c
      ext/standard/var.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re
      ext/standard/var_unserializer.re:
      Fixed bug #30791 (magic methods (__sleep/__wakeup/__toString) call __call
      if object is overloaded)

    * main/php_variables.c
      main/php_variables.c:
      Fixed "refcount" counting for autoglobals

2005-06-01  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/pcre/pcrelib/pcre.c:
      kill unused var.

2005-05-31  Dmitry Stogov  <dmitry@zend.com>

    * main/php_variables.c
      main/php_variables.c:
      Fixed possible memory corruption on request shutdown
      `valgrind -q --tool=memcheck sapi/cli/php tests/reflection/001.phpt`

2005-05-31  Magnus M‰‰tt‰  <novell@kiruna.se>

    * ZendEngine2/tests/bug27304.phpt:
      Fix test

2005-05-31  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/pcre/php_pcre.c
      ext/pcre/php_pcre.c
      ext/pcre/tests/bug33200.phpt
      ext/pcre/tests/bug33200.phpt
      ext/standard/php_string.h
      ext/standard/php_string.h
      ext/standard/string.c
      ext/standard/string.c:
      MFH: - Fixed bug #33200 (preg_replace(): magic_quotes_sybase=On makes 'e'
      modifier misbehave)

    * ext/pcre/tests/bug33200.phpt
      ext/pcre/tests/bug33200.phpt
      ext/pcre/tests/bug33200.phpt
      ext/standard/php_string.h
      ext/standard/string.c:
        1.1.4;
      - Fixed bug #33200 (preg_replace(): magic_quotes_sybase=On makes 'e'
      modifier misbehave)

    * ext/pcre/php_pcre.c:
      - Fixed bug #33200 (preg_replace(): magic_quotes_sybase=On makes 'e'
      modifier misbehave)

2005-05-31  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_operators.c:
      Reverted wrong fix for bug #30572.
      Seems the bug was already fixed in other way.
      But reverted patch produced a lot of valgrind errors, because IS_TMP_VAR
      operands don't initialize refcount.

2005-05-31  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/standard/var_unserializer.c:
      Touch

    * ext/standard/var_unserializer.re
      ext/standard/tests/serialize/006.phpt:
      - Fixed bug with unserialize() with "exotic" letters in class names

2005-05-31  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_compile.c:
      - Only allow changing return ref agnostic when a script method overrides an
        internal method (found by dmitry)

2005-05-30  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS:
      MFH: Fixed bug #33164 (Soap extension incorrectly detects HTTP/1.1).

2005-05-30  Hartmut Holzgraefe  <hartmut@php-groupies.de>

    * ext/sqlite/config.m4:
      typo fix

2005-05-30  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_5_0)
      NEWS
      ext/sqlite/sess_sqlite.c
      ext/sqlite/sess_sqlite.c
      ext/sqlite/sqlite.c
      ext/sqlite/sqlite.c
      ext/wddx/wddx.c
      ext/wddx/wddx.c:
      - Fixed bug #33185 (--enable-session=shared does not build)

2005-05-30  Hartmut Holzgraefe  <hartmut@php-groupies.de>

    * ext/sqlite/Makefile.frag
      ext/sqlite/config.m4:
      gracefully handle changes of the parse.y lemon file,
      process it with lemon if available, else just keep the .c file from CVS
      not doing so leads to make using its implicit .y->.c rule here and
      bison doesn't really understand lemon syntax

2005-05-30  Jani Taskinen  <jani.taskinen@sci.fi>

    * acinclude.m4:
      - Use libtool also for completely static builds

    * acinclude.m4
      build/libtool.m4
      scripts/phpize.in:
      - Changed the PATH_SEPARATOR check to a macro
      - Made sure we're generating aclocal.m4 in same way with both buildconf
        and phpize.

    * scripts/Makefile.frag:
      Removed the empty $bin_src_SCRIPTS (no longer needed), bug #33166

2005-05-29  Jani Taskinen  <jani.taskinen@sci.fi>

    * configure.in
      TSRM/tsrm.m4
      ZendEngine2/Zend.m4
      ext/bcmath/config.m4
      ext/dba/config.m4
      ext/dbase/config.m4
      ext/dom/config.m4
      ext/fbsql/config.m4
      ext/fdf/config.m4
      ext/filepro/config.m4
      ext/gd/config.m4
      ext/gettext/config.m4
      ext/imap/config.m4
      ext/informix/config.m4
      ext/ldap/config.m4
      ext/mcrypt/config.m4
      ext/mcve/config.m4
      ext/mhash/config.m4
      ext/msql/config.m4
      ext/mssql/config.m4
      ext/mysql/config.m4
      ext/mysqli/config.m4
      ext/ncurses/config.m4
      ext/oci8/config.m4
      ext/odbc/config.m4
      ext/oracle/config.m4
      ext/ovrimos/config.m4
      ext/pfpro/config.m4
      ext/pgsql/config.m4
      ext/pspell/config.m4
      ext/readline/config.m4
      ext/recode/config.m4
      ext/session/config.m4
      ext/snmp/config.m4
      ext/sqlite/config.m4
      ext/standard/config.m4
      ext/sybase/config.m4
      ext/sybase_ct/config.m4
      ext/sysvsem/config.m4
      ext/sysvshm/config.m4
      ext/wddx/config.m4
      ext/xml/config.m4
      ext/xmlrpc/config.m4
      ext/xsl/config.m4
      ext/zlib/config0.m4
      sapi/apache/config.m4
      sapi/apache2filter/config.m4
      sapi/apache2handler/config.m4
      sapi/apache_hooks/config.m4
      sapi/caudium/config.m4
      sapi/cgi/config9.m4
      sapi/cli/config.m4
      sapi/isapi/config.m4
      sapi/roxen/config.m4:
      - Unify the "configure --help" texts

    * ext/mbstring/config.m4:
      Fix VPATH build

2005-05-29  Hartmut Holzgraefe  <hartmut@php-groupies.de>

    * acinclude.m4:
      simplify flex version test

    * ZendEngine2/acinclude.m4:
      forgot to re-add 1.875 as a valid bison version after testing

    * ZendEngine2/acinclude.m4:
      bison may be installed under a different executable name, e.g.
      
        YACC="bison-1.75" configure ...
      
      removing the check for "bison -y" allows for this
      the check was redundant anyway as the following one filters
      for "GNU Bison" in the --version output

    * acinclude.m4
      configure.in
      ZendEngine2/Zend.m4
      ZendEngine2/acinclude.m4:
      avoid code duplication in bison version test

    * acinclude.m4:
      added .cxx extension for C++ for completeness reasons

2005-05-29  Ilia Alshanetsky  <ilia@prohost.org>

    * NEWS
      ext/session/session.c:
      Added an optional remove old session parameter to session_regenerate_id().

2005-05-29  Hartmut Holzgraefe  <hartmut@php-groupies.de>

    * build/libtool.m4:
      m4 comments start with 'dnl', *not* with '#'

2005-05-28  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h:
      - Make zend_do_inheritance ZEND_API

2005-05-28  Sebastian Bergmann  <sb@sebastian-bergmann.de>

    * ext/pcre/config.w32:
      Sync with config.m4 (missing MATCH_LIMIT broke the Win32 build).

2005-05-27  Andrei Zmievski  <andrei@gravitonic.com>

    * (PHP_5_0)
      NEWS
      ext/pcre/config.m4
      ext/pcre/config.m4
      ext/pcre/pcrelib/AUTHORS
      ext/pcre/pcrelib/AUTHORS
      ext/pcre/pcrelib/COPYING
      ext/pcre/pcrelib/COPYING
      ext/pcre/pcrelib/ChangeLog
      ext/pcre/pcrelib/ChangeLog
      ext/pcre/pcrelib/LICENCE
      ext/pcre/pcrelib/LICENCE
      ext/pcre/pcrelib/NEWS
      ext/pcre/pcrelib/NEWS
      ext/pcre/pcrelib/NON-UNIX-USE
      ext/pcre/pcrelib/NON-UNIX-USE
      ext/pcre/pcrelib/README
      ext/pcre/pcrelib/README
      ext/pcre/pcrelib/dftables.c
      ext/pcre/pcrelib/dftables.c
      ext/pcre/pcrelib/get.c
      ext/pcre/pcrelib/get.c
      ext/pcre/pcrelib/internal.h
      ext/pcre/pcrelib/internal.h
      ext/pcre/pcrelib/libpcre.def
      ext/pcre/pcrelib/libpcre.def
      ext/pcre/pcrelib/libpcreposix.def
      ext/pcre/pcrelib/libpcreposix.def
      ext/pcre/pcrelib/maketables.c
      ext/pcre/pcrelib/maketables.c
      ext/pcre/pcrelib/pcre.c
      ext/pcre/pcrelib/pcre.c
      ext/pcre/pcrelib/pcre.h
      ext/pcre/pcrelib/pcre.h
      ext/pcre/pcrelib/pcredemo.c
      ext/pcre/pcrelib/pcredemo.c
      ext/pcre/pcrelib/pcregrep.c
      ext/pcre/pcrelib/pcregrep.c
      ext/pcre/pcrelib/pcreposix.c
      ext/pcre/pcrelib/pcreposix.c
      ext/pcre/pcrelib/pcreposix.h
      ext/pcre/pcrelib/pcreposix.h
      ext/pcre/pcrelib/pcretest.c
      ext/pcre/pcrelib/pcretest.c
      ext/pcre/pcrelib/study.c
      ext/pcre/pcrelib/study.c
      ext/pcre/pcrelib/ucp.c
      ext/pcre/pcrelib/ucp.c
      ext/pcre/pcrelib/ucp.h
      ext/pcre/pcrelib/ucp.h
      ext/pcre/pcrelib/ucpinternal.h
      ext/pcre/pcrelib/ucpinternal.h
      ext/pcre/pcrelib/ucptable.c
      ext/pcre/pcrelib/ucptable.c
      ext/pcre/pcrelib/ucptypetable.c
      ext/pcre/pcrelib/ucptypetable.c
      ext/pcre/pcrelib/doc/Tech.Notes
      ext/pcre/pcrelib/doc/Tech.Notes
      ext/pcre/pcrelib/doc/pcre.txt
      ext/pcre/pcrelib/doc/pcre.txt:
      Upgrade PCRE library to 5.0.

    * ext/pcre/config.m4:
      No need to include ucp.c and ucptypetable.c here.

    * ext/pcre/pcrelib/libpcre.def
      ext/pcre/pcrelib/libpcre.def
      ext/pcre/pcrelib/libpcre.def
      ext/pcre/pcrelib/libpcreposix.def
      ext/pcre/pcrelib/libpcreposix.def
      ext/pcre/pcrelib/libpcreposix.def
      ext/pcre/pcrelib/maketables.c
      ext/pcre/pcrelib/pcre.c
      ext/pcre/pcrelib/pcre.h
      ext/pcre/pcrelib/pcredemo.c
      ext/pcre/pcrelib/pcredemo.c
      ext/pcre/pcrelib/pcredemo.c
      ext/pcre/pcrelib/pcregrep.c
      ext/pcre/pcrelib/pcreposix.c
      ext/pcre/pcrelib/pcreposix.h
      ext/pcre/pcrelib/pcretest.c
      ext/pcre/pcrelib/study.c
      ext/pcre/pcrelib/ucp.c
      ext/pcre/pcrelib/ucp.c
      ext/pcre/pcrelib/ucp.c
      ext/pcre/pcrelib/ucp.h
      ext/pcre/pcrelib/ucp.h
      ext/pcre/pcrelib/ucp.h
      ext/pcre/pcrelib/ucpinternal.h
      ext/pcre/pcrelib/ucpinternal.h
      ext/pcre/pcrelib/ucpinternal.h
      ext/pcre/pcrelib/ucptable.c
      ext/pcre/pcrelib/ucptable.c
      ext/pcre/pcrelib/ucptable.c
      ext/pcre/pcrelib/ucptypetable.c
      ext/pcre/pcrelib/ucptypetable.c
      ext/pcre/pcrelib/ucptypetable.c
      ext/pcre/pcrelib/doc/Tech.Notes
      ext/pcre/pcrelib/doc/pcre.txt:
        1.1.4;
      Upgrade library to version 5.0.

    * NEWS
      ext/pcre/config.m4
      ext/pcre/pcrelib/AUTHORS
      ext/pcre/pcrelib/COPYING
      ext/pcre/pcrelib/ChangeLog
      ext/pcre/pcrelib/LICENCE
      ext/pcre/pcrelib/NEWS
      ext/pcre/pcrelib/NON-UNIX-USE
      ext/pcre/pcrelib/README
      ext/pcre/pcrelib/dftables.c
      ext/pcre/pcrelib/get.c
      ext/pcre/pcrelib/internal.h:
      Upgrade library to version 5.0.

2005-05-27  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug22836.phpt
      ZendEngine2/tests/bug22836.phpt:
      Fixed bug #22836 (returning reference to uninitialized variable)

2005-05-27  Jani Taskinen  <jani.taskinen@sci.fi>

    * scripts/phpize.m4:
      - Make sure EGREP and SED get set early enough.

    * Makefile.global
      acinclude.m4:
      - Use $SED and $EGREP where possible

    * config.guess
      config.sub
      ltmain.sh
      build/libtool.m4:
      - Update bundled libtool to 1.5.18 (latest atm)

    * (PHP_5_0)
      NEWS:
      Move BFN to correct version..

2005-05-27  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      ext/standard/pack.c:
      Fixed bug #33080 (missing MFH of a fix for bug #31465)

2005-05-26  Andrei Zmievski  <andrei@gravitonic.com>

    * ext/standard/reg.c:
      Do a cache flush if we detect possible cache corruption (same as for
      PCRE).

2005-05-26  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute_API.c
      ZendEngine2/tests/bug33116.phpt:
      Fixed bug #33116 (crash when assigning class name to global variable in
      __autoload)

    * ZendEngine2/tests/bug33116.phpt
      ZendEngine2/tests/bug33116.phpt:
      
      Fixed bug #33116 (crash when assigning class name to global variable in
      __autoload).

    * ZendEngine2/zend_execute_API.c:
      Fixed bug #33116 (crash when assigning class name to global variable in
      __autoload).

    * NEWS
      ZendEngine2/zend_API.h
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_language_parser.y
      ZendEngine2/zend_reflection_api.c
      ZendEngine2/tests/array_type_hint_001.phpt:
      Added array type hinting. (This patch requires full re-make)

2005-05-26  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      ZendEngine2/tests/bug27304.phpt
      ZendEngine2/tests/bug32981.phpt:
      - Add new tests

    * ZendEngine2/tests/bug27304.phpt
      ZendEngine2/tests/bug27304.phpt
      ZendEngine2/tests/bug32981.phpt
      ZendEngine2/tests/bug32981.phpt:
      
      - Add new tests

    * (PHP_5_0)
      NEWS:
      - BFN

    * ext/sqlite/sqlite.c:
      - Make SQLiteDatabase derivable by dropping final tag from class and
        making the ctor final to ensure it is being called, which is the
      problem.

2005-05-26  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/standard/url.c
      ext/standard/url.c:
      MFH: Added scheme validation for parse_url().

    * ext/standard/url.c:
      Added scheme validation for parse_url().

2005-05-25  Dmitry Stogov  <dmitry@zend.com>

    * tests/basic/bug29971.phpt
      tests/basic/bug29971.phpt:
      
      file bug29971.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      main/php_variables.c
      main/php_variables.c
      tests/basic/bug29971.phpt:
      Fixed bug #29971 (variables_order behaviour)

2005-05-25  Stanislav Malyshev  <stas@zend.com>

    * (PHP_5_0)
      ext/standard/type.c:
      fix is_object on non-php objects

    * ext/standard/type.c:
      fix is_object() on non-php objects

2005-05-25  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      ext/mime_magic/mime_magic.c:
      MFH: Return error on an invalid input to mime_content_type() function.

    * ext/mime_magic/mime_magic.c:
      Return error on an invalid input to mime_content_type() function.

2005-05-24  Andrei Zmievski  <andrei@gravitonic.com>

    * ext/pcre/php_pcre.c:
      Flush regexp cache if we detect corruption.

2005-05-24  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/standard/basic_functions.c
      main/internal_functions.c.in
      main/internal_functions_nw.c
      main/internal_functions_win32.c:
      nuked unused header file

    * win32/php5dll.dsp
      win32/php5dllts.dsp:
      nuked file

    * main/internal_functions_registry.h:
      - Remove unused file

2005-05-24  Antony Dovgal  <antony@zend.com>

    * main/streams/plain_wrapper.c:
      make it compile on Win32 (thanks to Sebastian for noticing)

2005-05-24  Jani Taskinen  <jani.taskinen@sci.fi>

    * NEWS
      ext/ingres_ii/.cvsignore
      ext/ingres_ii/CREDITS
      ext/ingres_ii/EXPERIMENTAL
      ext/ingres_ii/README
      ext/ingres_ii/config.m4
      ext/ingres_ii/config.w32
      ext/ingres_ii/ii.c
      ext/ingres_ii/ii.h
      ext/ingres_ii/ingres.dsp
      ext/ingres_ii/php_ii.h:
      - Moved ingres_ii to PECL

2005-05-23  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      main/streams.c
      main/streams/plain_wrapper.c:
      MFH: Fixed bug #32810 (temporary files not using plain file wrapper).

    * main/streams/plain_wrapper.c:
      Fixed bug #32810 (temporary files not using plain file wrapper).

2005-05-23  Antony Dovgal  <antony@zend.com>

    * (PHP_4_3)
      NEWS
      NEWS
      main/streams.c
      main/streams/streams.c
      main/streams/streams.c:
      revert by Wez's request

2005-05-23  Grant Croker  <grant.croker@ca.com>

    * ext/ingres_ii/config.m4
      ext/ingres_ii/php_ii.h:
      - Allows the Ingres extenstion to be built on Linux/UNIX as well as
      Windows.

    * ext/ingres_ii/config.m4:
      - Fixed bug #30593 (--with-ingres option generates broken Makefile).

2005-05-23  Antony Dovgal  <antony@zend.com>

    * (PHP_4_3)
      NEWS
      main/streams.c
      main/streams/streams.c:
      MFH: fix bug #32810 (fread after tmpfile() reads only 8192 bytes)

    * (PHP_5_0)
      NEWS:
      BFN

    * main/streams/streams.c:
      fix bug #32810 (fread after tmpfile() reads only 8192 bytes)

    * tests/strings/bug26703.phpt:
      fix test

2005-05-23  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      Makefile.global
      Makefile.global
      NEWS
      NEWS:
      MFH: - Fixed bug #33017 ("make distclean" gives an error with VPATH build).

    * Makefile.global:
      - Fixed bug #33017 (make distclean give error outside of php-src)

    * (PHP_5_0)
      NEWS:
      Missed the bus now..

    * ext/session/session.c:
      CS fix

2005-05-22  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      Zend/zend_highlight.c
      ZendEngine2/zend_highlight.c
      tests/strings/004.phpt:
      MFH: Fixed bug #29338 (unencoded spaces get ignored after certain tags).

    * tests/strings/004.phpt:
      Adjust highlight test.

    * ZendEngine2/zend_highlight.c:
      Fixed bug #29338 (unencoded spaces get ignored after certain tags).

2005-05-22  Antony Dovgal  <tony2001@phpclub.net>

    * ext/session/session.c:
      fix compile warning

2005-05-22  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      Zend/zend.c
      ZendEngine2/zend.c
      ZendEngine2/zend.c:
      fix leak

2005-05-21  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      NEWS
      ext/session/session.c:
      Fixed bug #33072 - Add a safemode/open_basedir check for runtime save_path
      change

    * (PHP_5_0)
      NEWS
      ext/session/session.c:
      MFH Fixed bug 33072 - safemode/open_basedir check for runtime save_path
      change

    * acinclude.m4:
      Avoid syntax errors on some operating systems

    * (PHP_5_0)
      main/main.c:
      Ah, never mind.  Didn't notice a conflict on my last checkout.  Jani's MFH
      was fine.

    * (PHP_5_0)
      main/main.c:
      Roll back Jani's blind MFH here.  zend_call_destructors() is PHP 5.1 only.

    * ext/session/session.c:
      Fixed bug 33072 - safemode/open_basedir check for runtime save_path change

2005-05-21  Georg Richter  <georg@mysql.com>

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli_api.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/bug33090.phpt:
      MFH:
      - fix for bug #33090 (mysqli_prepare doesn't return an error)
      - mysql_set_charset now works for MySQL >= 5.0.6

    * ext/mysqli/tests/bug33090.phpt
      ext/mysqli/tests/bug33090.phpt:
      
      enabled set_charset for MySQL Versions >= 5.0.6
      added testcase for bug #33090

    * ext/mysqli/php_mysqli.h:
      enabled set_charset for MySQL Versions >= 5.0.6
      added testcase for bug #33090

    * ext/mysqli/mysqli_api.c:
      fix for bug #33090 (mysql_prepare doesn't return error)

2005-05-20  Grant Croker  <grant.croker@ca.com>

    * (PHP_4_3)
      ext/ingres_ii/config.m4
      ext/ingres_ii/config.m4:
      - Fixed bug #30593 (--with-ingres option generates broken Makefile).

2005-05-20  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/dom/element.c
      ext/dom/node.c:
      MFH: correct fix for bug #33059
      - fix issue in other methods

    * ext/dom/element.c
      ext/dom/node.c:
      - correct fix for bug #33059
      - fix issue in other methods

2005-05-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      NEWS
      ext/standard/string.c
      ext/standard/tests/strings/bug33076.phpt:
      MFH:
      fix bug #33076 (str_ireplace() incorrectly counts result string length and
      may cause segfault)
      add test

    * ext/standard/tests/strings/bug33076.phpt
      ext/standard/tests/strings/bug33076.phpt:
      
      fix bug #33076 (str_ireplace() incorrectly counts result string length and
      may cause segfault)
      add test

    * ext/standard/string.c:
      fix bug #33076 (str_ireplace() incorrectly counts result string length and
      may cause segfault)
      add test

2005-05-20  Jani Taskinen  <jani.taskinen@sci.fi>

    * build/shtool:
      Update bundled shtool to 2.0.1 (see also bug #33023)

2005-05-20  Derick Rethans  <php@derickrethans.nl>

    * (PHP_4_3)
      NEWS:
      Update NEWS

    * (PHP_5_0)
      NEWS:
      - Update NEWS

    * (PHP_5_0)
      ext/standard/parsedate.y:
      - MFH: Fixed bug #33013: "next month" was handled wrong.

    * (PHP_4_3)
      ext/standard/parsedate.y:
      - Fixed bug #33013: "next month" was done wrong.

2005-05-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/session/session.c
      ext/session/session.c:
      MFH: fix bug #32944 (Disabling session.use_cookies doesn't prevent reading
      session cookies)

    * ext/session/session.c:
      fix bug #32944 (Disabling session.use_cookies doesn't prevent reading
      session cookies)

2005-05-20  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      reorder

2005-05-19  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_5_0)
      NEWS:
      .

    * (PHP_4_3)
      NEWS:
      NEWS file update for Jani

    * (PHP_4_3)
      sapi/apache/mod_php4.c
      sapi/apache/mod_php5.c:
      Fix for bug #33057 - Don't send extraneous entity-headers on a 304 as per
      RFC 2616 section 10.3.5

    * (PHP_5_0)
      sapi/apache/mod_php5.c:
      MFH Fix for bug #33057 - Don't send extraneous entity-headers on a 304 as
      per
      RFC 2616 section 10.3.5

2005-05-19  George Schlossnagle  <george@omniti.com>

    * (PHP_5_0)
      ext/mysql/config.m4:
      support building on new-fangled 64bit linux distros that stick
      libraries in /usr/lib64

2005-05-19  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/dom/element.c:
      MFH: Fixed bug #33059 (crash when moving xml attribute set in dtd).

    * ext/dom/element.c:
      Fixed bug #33059 (crash when moving xml attribute set in dtd).

2005-05-19  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_object_handlers.c:
      Backported fix for bug #30451

    * ZendEngine2/tests/bug31828.phpt
      ZendEngine2/tests/bug31828.phpt
      ZendEngine2/tests/bug32080.phpt
      ZendEngine2/tests/bug32080.phpt:
      Strict warnings

2005-05-18  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      Zend/zend.c
      ZendEngine2/zend.c
      ZendEngine2/zend.c:
      fix for #29890 - part 2

    * (PHP_5_0)
      ZendEngine2/tests/bug29890.phpt:
      test

    * ZendEngine2/tests/bug29890.phpt
      ZendEngine2/tests/bug29890.phpt:
      
      test

    * ZendEngine2/zend_execute_API.c
      ZendEngine2/zend_execute_API.c:
      fix #29890 - crash when function call fails

    * (PHP_4_3)
      Zend/zend_execute_API.c:
      fix #29890 - stack corruption when function call fails

    * ZendEngine2/zend_object_handlers.c:
      revert - seems to be fixed elsewhere

    * ZendEngine2/zend_object_handlers.c:
      fix #30451  	static properties don't work properly

    * ZendEngine2/tests/bug29689.phpt
      ZendEngine2/tests/bug30451.phpt:
      tests

    * ZendEngine2/tests/bug29689.phpt
      ZendEngine2/tests/bug29689.phpt
      ZendEngine2/tests/bug30451.phpt
      ZendEngine2/tests/bug30451.phpt:
      
      file bug29689.phpt was initially added on branch PHP_5_0.

2005-05-17  Magnus M‰‰tt‰  <novell@kiruna.se>

    * ZendEngine2/tests/bug31828.phpt
      ZendEngine2/tests/bug32080.phpt:
      Fix tests.

2005-05-17  Johannes Schl¸ter  <schlueter@phpbar.de>

    * sapi/cli/php_cli.c
      sapi/cli/php_cli_readline.c:
      - Fix readline loop-condition
      - Fix cli_is_valid_code detection

2005-05-17  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/gd/config.m4
      ext/gd/config.m4:
      MFH: gdImageGifCtx() is always available in bundled lib

    * ext/gd/config.m4:
      gdImageGifCtx() is always available in bundled lib

2005-05-16  Sara Golemon  <php@alphaweb.net>

    * TSRM/TSRM.c:
      Unterminated paren group in BETHREADS definition of tsrm_tls_set() macro

2005-05-16  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      ext/standard/basic_functions.c
      main/main.c
      main/php_streams.h
      main/streams.c:
      MFH: fix bug #32742 (segmentation fault when the stream with a wrapper is
      not closed)

    * (PHP_5_0)
      NEWS
      ext/standard/basic_functions.c
      main/main.c
      main/php_streams.h
      main/streams/streams.c:
      MFH: fix bugs #32742 (segmentation fault when the stream with a wrapper
      is not closed), #32171 (Userspace stream wrapper crashes PHP)

    * ext/standard/basic_functions.c
      main/main.c
      main/php_streams.h
      main/streams/streams.c:
      fix bugs #32742 (segmentation fault when the stream with a wrapper is not
      closed),

2005-05-14  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * configure.in
      sapi/cli/config.w32
      sapi/cli/php_cli.c
      sapi/cli/php_cli_readline.c
      sapi/cli/php_cli_readline.h:
      - Add command completion to CLI's -a mode

2005-05-13  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_4_3)
      NEWS
      Zend/zend.c
      ZendEngine2/zend.c:
      MFH: fix bug #29975 (memory leaks when set_error_handler() is used inside
      error handler)

    * ZendEngine2/zend.c:
      fix bug #29975 (memory leaks when set_error_handler() is used inside error
      handler)

2005-05-13  Magnus M‰‰tt‰  <novell@kiruna.se>

    * NEWS
      ext/posix/config.m4
      ext/posix/php_posix.h
      ext/posix/posix.c:
      Added new function: posix_mknod().

2005-05-13  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli_nonapi.c:
      charsets_dir is no longer needed

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli_fe.c
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/065.phpt:
      MFH:
      fixed windows compilation bug
      renamed mysqli_set_character_set_name to mysqli_set_charset

    * ext/mysqli/php_mysqli.h:
      mysql_set_charset now works version undependent for MySQL 4.1.13 and above

    * ext/mysqli/mysqli_fe.c
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/065.phpt:
      - fixed compile error under windows. Functionality for changing the
      character set was moved to libmysql (4.1 bk tree - will be merged into
      5.0 within the next days).
      - renamed mysql_set_character_set to mysqli_set_charset

2005-05-13  Andrey Hristov  <php@hristov.com>

    * NEWS:
      fix NEWS

    * ext/standard/basic_functions.c
      ext/standard/math.c
      ext/standard/php_math.h
      ext/standard/tests/math/math_std_dev.phpt:
      move math_standard_deviation and math_variance to the stats PECL extension

2005-05-12  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_reflection_api.c:
      - Make ReflectionObject::hasProperty() recognize dynamically added props

2005-05-12  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/sockets/sockets.c
      ext/sockets/sockets.c:
      MFH: fix #33019 (socket errors cause memory leaks in php_strerror())
      patch by jwozniak23 at poczta dot onet dot pl

    * ext/sockets/sockets.c:
      fix #33019 (socket errors cause memory leaks in php_strerror())
      patch by jwozniak23 at poczta dot onet dot pl

2005-05-11  Joe Orton  <jorton@redhat.com>

    * (PHP_5_0)
      ext/standard/html.c:
      MFH: - Fixed bug #29119 (html_decode_entities handling of U+0152-U+0192
      range)
      (merge error from 4.3)
      MFH: Mark pointers in entity tables as const.

    * ext/standard/html.c:
      Mark pointers in entity tables as const.

    * ext/standard/html.c:
      - Fixed bug #29119 (html_decode_entities handling of U+0152-U+0192 range)
      (merge error from 4.3)

2005-05-11  Andrey Hristov  <php@hristov.com>

    * NEWS:
      ...

    * ext/standard/array.c
      ext/standard/basic_functions.c
      ext/standard/php_array.h:
      add function array_product()

2005-05-11  Wez Furlong  <wez.php@thebrainroom.net>

    * main/streams/userspace.c:
      fix inverted logic and thus Bug #27508

    * ext/standard/tests/file/bug27508.phpt:
      add test for bug 27508

2005-05-10  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      NEWS
      ext/pgsql/pgsql.c
      ext/pgsql/pgsql.c:
      use & and check for the right value of result_type

    * (PHP_4_3)
      NEWS
      ext/pgsql/pgsql.c:
      use & and check for the right value of result_type
      btw, nobody noticed that result_type wasn't ever working in 4.3, because
      it was absent in parse_params()..
      also, I prefer "Tony" just for uniformity =)

2005-05-10  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS:
      Tony or Antony? :)

    * (PHP_5_0)
      NEWS:
      missing blame tag :)

2005-05-10  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/pgsql/pgsql.c
      ext/pgsql/pgsql.c:
      MFH: fix #32904 (pg_get_notify() ignores result_type parameter)

    * ext/pgsql/pgsql.c:
      fix #32904 (pg_get_notify() ignores result_type parameter)

2005-05-10  Andrey Hristov  <php@hristov.com>

    * ext/standard/tests/math/math_std_dev.phpt:
      fix the test too

    * NEWS:
      fix NEWS

2005-05-10  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_5_0)
      NEWS
      ext/odbc/php_odbc_includes.h
      ext/odbc/php_odbc_includes.h:
      MFB: - Fixed bugs #32800, #32830 (ext/odbc: Problems with 64bit systems)

    * (PHP_4_3)
      NEWS
      ext/odbc/php_odbc_includes.h:
      - Fixed bugs #32800, #32830 (ext/odbc: Problems with 64bit systems)

2005-05-10  Andrey Hristov  <php@hristov.com>

    * ext/standard/basic_functions.c
      ext/standard/math.c
      ext/standard/php_math.h:
      rename math_std_dev to math_standard_deviation (the API wasn't published
      yet)

2005-05-10  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/snmp/snmp.c:
      ws

    * ext/snmp/snmp.c:
      MFB: - Fixed bug #32613 (ext/snmp: use of snmp_shutdown() causes
      snmpapp.conf
        access errors). (Jani, ric at arizona dot edu)

    * (PHP_5_0)
      NEWS
      ext/snmp/snmp.c:
      - Fixed bug #32613 (ext/snmp: use of snmp_shutdown() causes snmpapp.conf
        access errors). (Jani, ric at arizona dot edu)

    * (PHP_4_3)
      ext/snmp/php_snmp.h
      ext/snmp/snmp.c:
      Revert the memleak fix due to net-snmp oddity (see also bug #32613)

2005-05-09  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/mysqli_api.c:
      after throwing an warning bail out

    * ext/mysqli/mysqli.c:
      mysqli won't compile with Zend2 API before 2001 - in these days there was
      no Zend2

    * ext/mysqli/mysqli_api.c:
      MFB

    * (PHP_5_0)
      ext/mysqli/mysqli_api.c:
      warn the user if he wants to prepare before fetching all previous data
      (in case mysqli_stmt_store_result() wasn't called or not enough calls
      to mysqli_stmt_fetch()).

2005-05-09  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/mysqli/tests/connect.inc:
      - We skip tests when the extension is not loaded..in the php.ini

    * ext/mysqli/tests/skipif.inc:
      revert pointless patch

2005-05-09  Georg Richter  <georg@mysql.com>

    * (PHP_4_3)
      NEWS
      ext/mysql/libmysql/config-win.h:
      fix for bug #32116 (mysql compressed connection doesn't work under win)

2005-05-09  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/tests/connect.inc
      ext/mysqli/tests/skipif.inc:
      also test shared builds

2005-05-09  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      ext/sqlite/libsqlite/src/sqlite.w32.h:
      Fix build

2005-05-09  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_5_0)
      ext/posix/config.m4
      ext/posix/config.m4
      ext/posix/php_posix.h
      ext/posix/php_posix.h
      ext/posix/posix.c
      ext/posix/posix.c:
      MFH: - getlogin() / getgroups() are not necessarily available everywhere

    * ext/posix/config.m4
      ext/posix/php_posix.h
      ext/posix/posix.c:
      - getlogin() / getgroups() are not necessarily available everywhere

    * (PHP_4_3)
      ext/standard/basic_functions.c:
      Remove dos crap

2005-05-08  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      ext/standard/basic_functions.c:
      MFH: - Fixed putenv() under win32 (see bug #32957)

2005-05-08  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ext/standard/info.c:
      Fix request_uri XSS on phpinfo() page

    * (PHP_4_3)
      ext/standard/info.c:
      Oops, wrong place.  It was in the logo stuff instead.

    * (PHP_4_3)
      ext/standard/info.c:
      Let's not XSS ourself at least

2005-05-08  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      ext/ldap/config.m4
      ext/ldap/ldap.c
      ext/ldap/php_ldap.h:
      MFH: - Fixed bug #32932 (Oracle LDAP: ldap_get_entries invalid pointer)

    * ext/ldap/config.m4:
      this check was not needed

    * (PHP_5_0)
      NEWS
      ext/ldap/config.m4
      ext/ldap/ldap.c
      ext/ldap/php_ldap.h:
      MFH: - Fixed bug #32932 (Oracle LDAP: ldap_get_entries invalid pointer)

    * ext/ldap/config.m4
      ext/ldap/ldap.c
      ext/ldap/php_ldap.h:
      - Fixed bug #32932 (Oracle LDAP: ldap_get_entries invalid pointer)

    * ext/dba/config.m4:
      no tabs

2005-05-08  Georg Richter  <georg@mysql.com>

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli_fe.c
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/065.phpt:
      added new function mysqli_set_character_set_name
      This function changes also the mysql->charset structure for
      mysql_real_escape_string (see MySQL Bugs #8317 and #9637).
      This bug will probably be fixed in MySQL 5.1

    * ext/mysqli/tests/065.phpt
      ext/mysqli/tests/065.phpt:
      
      Added new function mysqli_set_character_set_name

    * ext/mysqli/mysqli_fe.c
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/php_mysqli.h:
      Added new function mysqli_set_character_set_name

2005-05-07  Jani Taskinen  <jani.taskinen@sci.fi>

    * NEWS:
      this one needs to be upper..

    * ext/standard/math.c:
      ws + cs + proto fixes

2005-05-07  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/ftp_fopen_wrapper.c:
      MFB: Fixed memory leak on error in FTP wrapper.

    * (PHP_5_0)
      ext/standard/ftp_fopen_wrapper.c:
      Fixed memory leak on error in FTP wrapper.

2005-05-07  Jani Taskinen  <jani.taskinen@sci.fi>

    * sapi/cli/php.1.in:
      typofix

2005-05-07  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/pcntl/pcntl.c
      ext/pcntl/pcntl.c
      ext/pcntl/php_pcntl.h
      ext/pcntl/php_pcntl.h
      ext/pcntl/test-pcntl.php
      ext/pcntl/test-pcntl.php:
      MFB: Fix for #32974

    * (PHP_4_3)
      NEWS
      ext/pcntl/pcntl.c
      ext/pcntl/php_pcntl.h
      ext/pcntl/test-pcntl.php:
      Fix #32974

2005-05-07  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * sapi/cli/php.1.in:
      - Update

2005-05-07  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/mysqli_api.c:
      revert this one till we have a better way to inform the user where the
      truncation has occured

    * ext/standard/math.c:
      update protos

2005-05-07  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * NEWS:
      - Update: class File was renamed to FileObject

    * NEWS
      sapi/cli/php_cli.c:
      - Improved interactive mode of CLI (php -a)

2005-05-07  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      ext/standard/ftp_fopen_wrapper.c:
      Fix what I assume was a typo

2005-05-07  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/mysqli_api.c:
      return MYSQLI_DATA_TRUNCATED if data happens to be truncated

    * ext/mysqli/mysqli_api.c:
      return directly

2005-05-07  Georg Richter  <georg@mysql.com>

    * (PHP_5_0)
      ext/mysqli/tests/064.phpt:
      fix for 5_0. Statement constructor doesn't exist in 5_0

2005-05-07  Andrey Hristov  <php@hristov.com>

    * (PHP_5_0)
      ext/mysqli/mysqli_api.c:
      bail out just after detecting incorrect number of paramts to bind (MFH)

    * ext/mysqli/mysqli_api.c:
      bail out when detecting incorrect number of parameters to be bound.

2005-05-07  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/gd/config.m4:
      - Install GD header files

    * Makefile.global
      acinclude.m4
      configure.in
      ext/curl/config.m4
      ext/dom/config.m4
      ext/iconv/config.m4
      ext/interbase/php_ibase_udf.c
      ext/mbstring/config.m4
      ext/odbc/config.m4
      ext/session/config.m4
      ext/sqlite/config.m4
      ext/xml/config.m4
      sapi/embed/config.m4
      scripts/Makefile.frag
      scripts/phpize.m4:
      - Added PHP_INSTALL_HEADERS() macro
      - Fixed several VPATH build issues
      - Changed all awk calls to use $AWK
      - Changed all mkdir calls to use "$php_shtool mkdir"

2005-05-06  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/sqlite/config.m4:
      cleanup

2005-05-06  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/standard/ftp_fopen_wrapper.c
      ext/standard/ftp_fopen_wrapper.c:
      MFH: Check ftp user name for control characters.

    * ext/standard/ftp_fopen_wrapper.c:
      Check ftp user name for control characters.

2005-05-06  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/gd/gd.c
      ext/gd/gd.c
      main/php_open_temporary_file.c
      main/php_open_temporary_file.c:
      MFH: fix off-by-one in _php_image_output()
      and prevent such errors in php_do_open_temporary_file()

    * ext/gd/gd.c
      main/php_open_temporary_file.c:
      fix off-by-one in _php_image_output()
      and prevent such errors in php_do_open_temporary_file()

2005-05-06  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/mysqli_api.c
      ext/mysqli/mysqli_nonapi.c:
      initialize values because the call to zend_parse_parameters may not do it

2005-05-06  Ilia Alshanetsky  <ilia@prohost.org>

    * NEWS
      ext/standard/http_fopen_wrapper.c:
      Added max_redirects context option that specifies how many HTTP redirects
      to follow.

    * ext/standard/http_fopen_wrapper.c:
      Missing bit from previous patch.

    * (PHP_5_0)
      ext/standard/http_fopen_wrapper.c:
      Added missing bit of the previous patch.

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/http_fopen_wrapper.c
      ext/standard/http_fopen_wrapper.c:
      MFH: Fixed bug #32936 (http redirects URLs are not checked for control
      chars).

    * ext/standard/http_fopen_wrapper.c:
      Fixed bug #32936 (http redirects URLs are not checked for control chars).

2005-05-06  Jani Taskinen  <jani.taskinen@sci.fi>

    * tests/lang/inc.inc:
      <? should die..

    * NEWS
      NEWS:
      reorder

    * NEWS:
      - No need to add NEWS entries for bugs that do NOT exist in any released
      version of PHP

    * (PHP_5_0)
      NEWS:
      typo

    * ZendEngine2/zend_object_handlers.h:
      typofix :)

    * NEWS:
      verbose,order,etc.

2005-05-05  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/standard/math.c:
      fix proto

2005-05-05  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/bug31525.phpt
      ZendEngine2/tests/bug31525.phpt
      tests/lang/bug20175.phpt
      tests/lang/bug21600.phpt:
      
      file bug31525.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug31525.phpt
      tests/lang/bug20175.phpt
      tests/lang/bug21600.phpt:
      Fixed bug #31525 (object reference being dropped. $this getting lost)

2005-05-05  Georg Richter  <georg@mysql.com>

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli.c
      ext/mysqli/mysqli_api.c
      ext/mysqli/tests/064.phpt:
      MFH: fix for bug #32956
           fixed memleak in mysql_close
           fixed data truncation in test 009.phpt

    * ext/mysqli/tests/064.phpt
      ext/mysqli/tests/064.phpt:
      
      fixed memleak in mysqli_close
      fixed bug #32956 (mysqli_bind_result doesn't support MYSQL_TYPE_NULL)

    * ext/mysqli/mysqli.c
      ext/mysqli/mysqli_api.c:
      fixed memleak in mysqli_close
      fixed bug #32956 (mysqli_bind_result doesn't support MYSQL_TYPE_NULL)

    * php.ini-dist
      php.ini-recommended:
      fix for bug #32947 (Incorrect option for mysqli default password)

2005-05-04  Stanislav Malyshev  <stas@zend.com>

    * tests/lang/bug32924.phpt
      tests/lang/inc.inc:
      add test

    * NEWS:
      

    * ZendEngine2/zend.c:
      fix bug #32924:	prepend does not add file to included files

    * (PHP_5_0)
      ZendEngine2/zend_execute.c:
      clarify some magic

2005-05-04  Anantha Kesari H Y  <hyanantha@novell.com>

    * ext/standard/dl.c
      ext/standard/dl.c:
      NetWare LibC dlsym works perfectly only thing that each of the extension
      need to export a symbol with FULL capital prefix.

2005-05-04  Dmitry Stogov  <dmitry@zend.com>

    * NEWS
      ZendEngine2/zend_execute.c:
      Fixed bug #30641 (Compile error: error: symbol "zend_error" is used but not
      defined)

    * ZendEngine2/tests/bug30707.phpt
      ZendEngine2/tests/bug30707.phpt:
      
      file bug30707.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug30707.phpt:
      Fixed bug #30707 (Segmentation fault on exception in method)

    * (PHP_5_0)
      ZendEngine2/zend_execute.c:
      ws

    * ZendEngine2/tests/bug30162.phpt
      ZendEngine2/tests/bug30162.phpt:
      
      file bug30162.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug30161.phpt:
      Fixed bug #30162 (Catching exception in constructor couses lose of $this)

2005-05-03  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/dom/php_dom.c:
      MFH: Fix bug #32930 (class extending DOMDocument doesn't clone properly)

    * ext/dom/php_dom.c:
      Fix bug #32930 (class extending DOMDocument doesn't clone properly)

2005-05-03  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/pgsql/pgsql.c:
      Prevent double free.

2005-05-03  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/unset_cv07.phpt:
      Fixed notice message

    * tests/classes/interface_must_be_implemented.phpt:
      Fixed error message

2005-05-03  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      ZendEngine2/tests/bug32252.phpt:
      - Add test

    * (PHP_5_0)
      tests/classes/abstract_derived.phpt
      tests/classes/abstract_not_declared.phpt
      tests/classes/abstract_redeclare.phpt
      tests/classes/interface_must_be_implemented.phpt
      tests/classes/interfaces_002.phpt:
      - Update tests affexted by fix

2005-05-03  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_object_handlers.c:
      Fixed destruction of zval after returning from __call()

2005-05-03  Jani Taskinen  <jani.taskinen@sci.fi>

    * scripts/Makefile.frag:
      - acconfig.h should not be installed. (it is only a template file..)

2005-05-03  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * tests/classes/abstract_derived.phpt
      tests/classes/abstract_not_declared.phpt
      tests/classes/abstract_redeclare.phpt
      tests/classes/interfaces_002.phpt:
      - Fix tests affected by fix

2005-05-03  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/bug32296.phpt
      ZendEngine2/tests/bug32296.phpt:
      
      file bug32296.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_builtin_functions.c
      ZendEngine2/tests/bug32296.phpt:
      Fixed bug #32296 (get_class_methods output has changed between 5.0.2 and
      5.0.3)
      Now get_class_methods() shows accessible private and protected methods if
      it is called from class scope.

2005-05-03  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS:
      Bug fixing news.

    * (PHP_4_3)
      Zend/zend_execute.c:
      MFZE2: Fixed bug #32670 (foreach() does not issue warning on unset array
      arg)

2005-05-02  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.h:
      - Extend API to support real existance test without the need to add any new
        functions or change any behavior

    * (PHP_5_0)
      NEWS:
      - BFN

    * ZendEngine2/zend_execute_API.c:
      -  Part 2 of #30126: Enhancement for error message for abstract classes

    * ZendEngine2/zend_execute_API.c:
      - Part 1 of #30126: Enhancement for error message for abstract classes

2005-05-02  Andrey Hristov  <php@hristov.com>

    * ext/standard/math.c:
      fixed div by zero

    * ext/standard/math.c
      ext/standard/tests/math/math_std_dev.phpt:
      add possibility to calculate the standard deviation and the variance
      on a sample - the formulae are slightly different.

    * NEWS
      ext/standard/basic_functions.c
      ext/standard/math.c
      ext/standard/php_math.h
      ext/standard/tests/math/math_std_dev.phpt:
      add also math_variance() which uses the same calculation as math_std_dev()

    * ext/standard/math.c
      ext/standard/tests/math/math_std_dev.phpt:
      fix division by zero. throw an warning if the array is empty.

2005-05-02  Pierre-Alain Joye  <pierre@dotgeek.org>

    * (PHP_4_3)
      ext/gd/gd.c:
      - MFH (#32893, imagettf crashes)
        uses long for zval

2005-05-02  Andrey Hristov  <php@hristov.com>

    * NEWS:
      FRN

    * ext/standard/basic_functions.c
      ext/standard/math.c
      ext/standard/php_math.h
      ext/standard/tests/math/math_std_dev.phpt:
      add math_std_dev()

2005-05-01  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/standard/html.c:
      MFH: Fixed bug #32608 (html_entity_decode() converts single quotes even if
      ENT_NOQUOTES is given).

    * ext/standard/html.c:
      Fixed bug #32608 (html_entity_decode() converts single quotes even if
      ENT_NOQUOTES is given).

2005-05-01  Pierre-Alain Joye  <pierre@dotgeek.org>

    * ext/gd/libgd/gd.c:
      - MFB: #32891, init old y positions to non possible values. -1 being used
        if the center start a (x,0)

    * (PHP_5_0)
      ext/gd/libgd/gd.c:
        - MFB: #32891, init old y positions to non possible values. -1 being used
          if the center start a (x,0)

    * (PHP_4_3)
      ext/gd/libgd/gd.c:
      - #32891, init old y positions to non possible values. -1 being used if the
        center start a (x,0)

2005-04-30  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      acinclude.m4
      acinclude.m4:
      MFH: - Fix problems with phpized ext/imap

    * acinclude.m4:
      - Fix problems with phpized ext/imap

    * (PHP_4_3)
      NEWS
      NEWS
      configure.in
      configure.in
      scripts/Makefile.frag
      scripts/Makefile.frag:
      MFH: - Added man pages for "phpize" and "php-config" scripts. (Jakub Vrana)

    * configure.in
      scripts/Makefile.frag:
      - Added man pages for "phpize" and "php-config" scripts. (Jakub Vrana)

    * sapi/cli/php.1.in:
      Silence the warnings about weird characters in this man page

    * scripts/dev/phpextdist
      scripts/dev/phpextdist
      scripts/dev/phpextdist:
        1.1.4;
      Moved phpextdist to dev/

    * scripts/Makefile.frag
      scripts/phpextdist:
      Moved phpextdist to dev/

    * acinclude.m4
      configure.in:
      - No need to iterate through the options twice

    * acinclude.m4:
      re2c 0.96 is the one that works (tm)

    * acinclude.m4:
      We do allow 2.0 now too.

2005-04-29  Ilia Alshanetsky  <ilia@prohost.org>

    * main/streams/streams.c:
      Attempt to eliminate seek() prior to every write.

2005-04-29  Jani Taskinen  <jani.taskinen@sci.fi>

    * ZendEngine2/zend_object_handlers.c:
      compile fix

2005-04-29  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/mysqli.c:
      multi_query is no more global

    * (PHP_5_0)
      ext/mysqli/mysqli.c:
      missed to remove that. multi_query is no more a global.

2005-04-29  Jani Taskinen  <jani.taskinen@sci.fi>

    * ZendEngine2/tests/bug30332.phpt
      ZendEngine2/tests/bug32852.phpt:
      Make sure E_STRICT is set always

2005-04-29  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/bug30332.phpt
      ZendEngine2/tests/bug30332.phpt:
      
      file bug30332.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_API.c
      ZendEngine2/zend_API.c
      ZendEngine2/tests/bug30332.phpt:
      Fixed bug #30332 (zend.ze1_compatibility_mode isnt fully compatable with
      array_push())

    * ZendEngine2/tests/bug31828.phpt
      ZendEngine2/tests/bug31828.phpt
      ZendEngine2/tests/bug32080.phpt
      ZendEngine2/tests/bug32080.phpt
      ZendEngine2/tests/bug32852.phpt
      ZendEngine2/tests/bug32852.phpt:
      
      file bug31828.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.c
      ZendEngine2/tests/bug31828.phpt
      ZendEngine2/tests/bug32080.phpt
      ZendEngine2/tests/bug32852.phpt:
      Fixed bug #32852 (Crash with singleton and __destruct when
      zend.ze1_compatibility_mode = On)
      Fixed bug #31828 (Crash with zend.ze1_compatibility_mode=On)
      Fixed bug #32080 (segfault when assigning object to itself with
      zend.ze1_compatibility_mode=On)

2005-04-29  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/sysvmsg/tests/002.phpt:
      typofix

    * (PHP_5_0)
      php.ini-dist
      php.ini-recommended:
      MFH: Add auto_globals_jit entry to php.ini-* (bug #29514)

    * php.ini-dist
      php.ini-recommended:
      Add auto_globals_jit entry to php.ini-* (bug #29514)

    * tests/classes/array_access_003.phpt
      tests/lang/bug22231.phpt
      tests/lang/bug22367.phpt
      tests/lang/bug22510.phpt:
      - Make sure E_STRICT is set when expecting Strict errors..

    * ZendEngine2/tests/bug22836.phpt
      ZendEngine2/tests/bug27641.phpt:
      - Unify error_reporting setting + make sure E_STRICT is set when wanted

    * tests/lang/bug30578.phpt:
      Added test for bug #30578

    * NEWS:
      BFN

2005-04-28  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/mysqli/mysqli_warning.c:
      e* allocation cannot fail.

2005-04-28  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/bug29015.phpt
      ZendEngine2/tests/bug29015.phpt:
      
      file bug29015.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/tests/bug29015.phpt:
      Fixed bug #29015 (Incorrect behavior of member vars(non string
      ones)-numeric mem vars und others)

2005-04-28  Antony Dovgal  <tony2001@phpclub.net>

    * tests/lang/bug32828.phpt
      tests/lang/bug32828.phpt:
      
      add test for bug #32828

2005-04-28  Jani Taskinen  <jani.taskinen@sci.fi>

    * sapi/cgi/cgi_main.c:
      int != long

2005-04-28  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      main/output.c:
      MFH: fix #32828 (Throwing exception in output_callback function with
      ob_start and
      ob_end_clean leads to segfault)

    * main/output.c:
      fix #32828 (Throwing exception in output_callback function with ob_start
      and
      ob_end_clean leads to segfault)

    * (PHP_4_3)
      ext/oci8/oci8.c
      ext/oci8/oci8.c:
      MFH: handle unsupported datatypes and prevent segfault

    * ext/oci8/oci8.c:
      handle unsupported datatype (OCIBindByName segfaults somewhere in OCI lib
      when
      unknown type is provided)

2005-04-28  Jani Taskinen  <jani.taskinen@sci.fi>

    * php.ini-dist
      php.ini-recommended
      sapi/cgi/cgi_main.c:
      - Added fastcgi.logging php.ini option to be able to disable
        logging through the fastcgi connection

2005-04-28  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      ext/xml/php_xml.h
      ext/xml/php_xml.h
      ext/xml/xml.c
      ext/xml/xml.c:
      MFH: Fix bug #32245 (xml_parser_free() in function assigned to the xml
      parser
        gives a segfault)

    * ext/xml/php_xml.h
      ext/xml/xml.c:
      - Fix bug #32245 (xml_parser_free() in function assigned to the xml parser
        gives a segfault)

2005-04-28  Jani Taskinen  <jani.taskinen@sci.fi>

    * main/main.c:
      - Reorder request shutdown calls: Call all __destruct() functions and
        register_shutdown_function() callbacks before flushing output buffers
        and sending headers.
      - Fixes bug #30578 and possibly others related to output buffering.
      

2005-04-28  Wez Furlong  <wez.php@thebrainroom.net>

    * TSRM/TSRM.c:
      consolidate the various tls get/set calls for the different platforms into
      a single macro, at Andi's request.

2005-04-27  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/snmp/snmp.c:
      Better use zval_ptr_dtor() instead (thanks Andi)

    * (PHP_5_0)
      NEWS:
      reword

2005-04-27  Wez Furlong  <wez.php@thebrainroom.net>

    * TSRM/TSRM.c
      TSRM/TSRM.h:
      Add three new TSRM api functions:
      
      TSRM_API void *tsrm_new_interpreter_context(void);
      TSRM_API void *tsrm_set_interpreter_context(void *new_ctx);
      TSRM_API void tsrm_free_interpreter_context(void *context);
      
      These can be used, with a suitable SAPI, to host multiple interpreters on
      the same thread.

2005-04-27  Andrey Hristov  <php@hristov.com>

    * (PHP_5_0)
      NEWS:
      update NEWS

    * main/main.c:
      rename

    * (PHP_4_3)
      main/main.c
      main/main.c:
      change names

    * (PHP_5_0)
      NEWS
      NEWS:
      BFN

    * (PHP_5_0)
      ext/mysqli/mysqli_api.c:
      MFH (fix bug #31023)

    * ext/mysqli/mysqli_api.c:
      fix bug #32013(MySQLi bind_result causes fatal error: memory limit reached)

2005-04-27  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_API.c
      ZendEngine2/zend_API.h
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.h
      ZendEngine2/tests/bug29210.phpt
      ext/standard/basic_functions.c:
      Fixed bug #29210 (Function: is_callable - no support for private and
      protected classes)

    * ZendEngine2/tests/bug29210.phpt
      ZendEngine2/tests/bug29210.phpt
      ext/standard/basic_functions.c:
      
      file bug29210.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_API.c
      ZendEngine2/zend_API.h
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.h:
      Fixed bug #29210 (Function: is_callable - no support for private and
      protected classes).

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.c
      ZendEngine2/tests/bug29104.phpt:
      Fixed bug #29104 (Function declaration in method doesn't work)

    * ZendEngine2/tests/bug29104.phpt
      ZendEngine2/tests/bug29104.phpt:
      
      Fixed bug #29104 (Function declaration in method doesn't work)

2005-04-27  Anantha Kesari H Y  <hyanantha@novell.com>

    * TSRM/threads.m4
      TSRM/threads.m4:
      check should be on host_alias rather than on target_alias, but somehow
      works on configure generated using autoconf 2.57.

2005-04-27  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/dom/config.m4
      ext/simplexml/config.m4
      ext/xml/config.m4
      ext/xmlrpc/config.m4
      ext/xsl/config.m4:
      - Made the libxml related stuff to error out if someone does --disable-all
        or --disable-libxml. Better than silently just leave the ext out..

2005-04-27  Dmitry Stogov  <dmitry@zend.com>

    * NEWS
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug32833.phpt:
      Fixed bug #32833 (Invalid opcode)

2005-04-27  Andrey Hristov  <php@hristov.com>

    * ext/mysqli/mysqli_nonapi.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/bug31668.phpt:
      MFB (fixing bug 31668)

    * ext/mysqli/tests/bug31668.phpt
      ext/mysqli/tests/bug31668.phpt:
      
      file bug31668.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/php_mysqli.h:
      - Fix bug 31668 (multi query fails every other time). The multi_query flag
        was global and not per connection.
      - use ecalloc() instead of calloc() for memory that will be freed with
        efree()

2005-04-27  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/zlib/tests/compress_zlib_wrapper.phpt:
      nuking that file was not very good idea :)

2005-04-27  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/bug32674.phpt
      ZendEngine2/tests/bug32674.phpt:
      
      file bug32674.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug32674.phpt:
      Fixed bug #32674 (exception in iterator causes crash)

2005-04-26  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/tests/bug30889.phpt
      ZendEngine2/tests/bug30889.phpt:
      
      file bug30889.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug30889.phpt:
      Fixed bug #30889 (Conflict between __get/__set and ++ operator)

    * ZendEngine2/tests/bug32429.phpt:
      fix

    * ZendEngine2/tests/bug30702.phpt
      ZendEngine2/tests/bug30702.phpt:
      
      file bug30702.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_API.c
      ZendEngine2/zend_API.c
      ZendEngine2/tests/bug30702.phpt:
      Fixed bug #30702 (cannot initialize class variable from class constant)

    * NEWS
      ZendEngine2/zend_compile.c
      ZendEngine2/tests/bug32427.phpt:
      Fixed bug #32427 (Interfaces are not allowed 'static' access modifier).

    * NEWS
      ZendEngine2/zend_builtin_functions.c
      ZendEngine2/tests/bug32429.phpt:
      Fixed bug #32429 (method_exists() always return TRUE if __call method
      exists)

2005-04-26  Jani Taskinen  <jani.taskinen@sci.fi>

    * acinclude.m4
      acinclude.m4:
      Netware stuff

2005-04-25  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/url.c
      ext/standard/url.c
      ext/standard/tests/strings/url_t.phpt
      ext/standard/tests/strings/url_t.phpt:
      MFH: Fixed bug #32813 (parse_url() does not handle scheme-only urls
      properly).

    * ext/standard/url.c
      ext/standard/tests/strings/url_t.phpt:
      Fixed bug #32813 (parse_url() does not handle scheme-only urls properly).

2005-04-25  Jani Taskinen  <jani.taskinen@sci.fi>

    * tests/classes/serialize_001.phpt:
      Fix test

    * NEWS:
      Reorder

    * (PHP_4_3)
      NEWS
      main/php_variables.c:
      MFH: Revert. Nokia didn't pay me enough. :)

    * (PHP_5_0)
      NEWS:
      rbfn

    * main/php_variables.c:
      Revert. (Nokia is not that important :)

2005-04-25  John Coggeshall  <john@coggeshall.org>

    * NEWS:
      Update

2005-04-25  Andrei Zmievski  <andrei@gravitonic.com>

    * ZendEngine2/zend_object_handlers.c:
      Reverting. Let's not introduce major BC breakage like this without a
      good reason.

2005-04-25  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/zlib/tests/compress_zlib_wrapper.phpt:
      - Added test: For some reason this fails with ZTS mode and
      "outside-src-tree-build"

    * (PHP_5_0)
      NEWS:
      reorder + shorten..

    * NEWS:
      When an entry goes to the PHP_5_0 branch, no entry here

2005-04-25  Stanislav Malyshev  <stas@zend.com>

    * NEWS:
      oops

    * NEWS
      NEWS:
      fix

    * ext/gmp/gmp.c
      ext/gmp/gmp.c
      ext/gmp/tests/bug32773.phpt
      ext/gmp/tests/bug32773.phpt:
      Fix #32773 and make right fix for GMP FPEs

    * (PHP_4_3)
      ext/gmp/gmp.c:
      rm unneeded

    * (PHP_4_3)
      NEWS:
      fix for #32773

    * (PHP_4_3)
      ext/gmp/gmp.c:
      Fix #32773 and made right fix for GMP FPEs

2005-04-25  Pierre-Alain Joye  <pierre@dotgeek.org>

    * ext/gd/tests/bug24155.phpt
      ext/gd/tests/bug27582_1.phpt:
      -  do not use md5, png signature can change between libpng version
         some floating points issue can end to different colors (+/- 1/255)
         tests should work again now.

2005-04-25  Stanislav Malyshev  <stas@zend.com>

    * ext/gmp/tests/bug32773.phpt
      ext/gmp/tests/bug32773.phpt
      ext/gmp/tests/bug32773.phpt:
        1.1.4;
      file bug32773.phpt was initially added on branch PHP_4_3.

2005-04-25  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_4_3)
      NEWS
      tests/lang/bug29944.phpt:
      Test case fnd news entriey for bug #29944

2005-04-25  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      ext/gmp/gmp.c:
      Remove broken fix - second operand of GMP operation certainly can be 0 in
      general case

2005-04-25  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS
      Zend/zend_compile.c
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.c
      ZendEngine2/tests/bug29944.phpt:
      Fixed bug #29944 (Function defined in switch, crashes).

    * ZendEngine2/tests/bug29944.phpt
      ZendEngine2/tests/bug29944.phpt:
      
      Fixed bug #29944 (Function defined in switch, crashes).

2005-04-25  Edin Kadribasic  <edink@emini.dk>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/gd/config.w32:
      MFH: Added T1LIB support on Windows (#32809)

    * ext/gd/config.w32:
      Added T1LIB support on Windows (#32809)

2005-04-25  Jani Taskinen  <jani.taskinen@sci.fi>

    * ZendEngine2/zend_hash.c:
      ws

2005-04-25  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_4_3)
      Zend/zend_hash.c
      ZendEngine2/zend_hash.c
      ext/standard/array.c
      ext/standard/array.c:
      Fixed call to estrndup() with invalid length

    * (PHP_5_0)
      ZendEngine2/zend_hash.c
      ext/standard/array.c:
      Fixed call to estrndup() with invalid lengt

2005-04-25  Sebastian Bergmann  <sb@sebastian-bergmann.de>

    * ZendEngine2/zend_reflection_api.c:
      Correct grammar.

2005-04-24  Ilia Alshanetsky  <ilia@prohost.org>

    * main/php_variables.c:
      MFB: zval** not zval*

    * (PHP_5_0)
      main/php_variables.c:
      zval** not zval*.

    * (PHP_4_3)
      NEWS
      NEWS
      main/php_variables.c
      main/php_variables.c:
      MFH: Fixed bug #32802 (General cookie overrides more specific cookie).

    * main/php_variables.c:
      Fixed bug #32802 (General cookie overrides more specific cookie).

2005-04-24  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_compile.c:
      - Need to copy doc comments correct for properties

2005-04-23  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      typo

    * ext/snmp/snmp.c:
      - Fix memleak

    * (PHP_4_3)
      NEWS
      NEWS
      main/php_variables.c
      main/php_variables.c:
      MFH: - Fixed bug #32111 (Cookies can also be separated by colon)

    * main/php_variables.c:
      - Fixed bug #32111 (Cookies can also be separated by colon)

    * main/php_variables.c:
      ws, pval -> zval

2005-04-23  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/tests/bug29674.phpt
      ZendEngine2/tests/bug30161.phpt
      ZendEngine2/tests/bug30346.phpt
      tests/classes/__set__get_004.phpt:
      - Add new tests

    * acinclude.m4:
      - Change bison check to positive logic and allow bison 2.0

2005-04-22  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      ext/xmlrpc/libxmlrpc/xml_element.c
      ext/xmlrpc/libxmlrpc/xml_element.c:
      MFH: Fixed bug #32797 (invalid C code in xmlrpc extension).

    * ext/xmlrpc/libxmlrpc/xml_element.c:
      Fixed bug #32797 (invalid C code in xmlrpc extension).

2005-04-22  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/mysql/.cvsignore:
      add missing entries in .cvsignore

    * ext/com_dotnet/com_extension.c
      ext/com_dotnet/com_extension.c
      sapi/apache_hooks/mod_php5.c
      sapi/caudium/caudium.c
      sapi/caudium/caudium.c
      sapi/caudium/caudium.c
      sapi/cgi/libfcgi/fcgiapp.c:
      fix C++ comments

2005-04-22  Andrey Hristov  <php@hristov.com>

    * (PHP_4_3)
      main/main.c:
      MFH
      introduce INT_MAX and INT_SIZE

2005-04-21  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/odbc/config.m4:
      - Fix birdstep support (no SQLDataSources() support in it)

2005-04-21  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/curl/interface.c
      ext/dom/attr.c
      ext/dom/document.c
      ext/dom/domimplementation.c
      ext/dom/node.c
      ext/dom/php_dom.c
      ext/dom/php_dom.h
      ext/dom/xml_common.h
      ext/dom/xpath.c:
      php_error() -> php_error_docref().

2005-04-21  Jani Taskinen  <jani.taskinen@sci.fi>

    * configure.in:
      - Allow using --enable-versioning with any SAPI module

    * configure.in
      sapi/cgi/config9.m4
      sapi/cli/config.m4:
      Expose EXEEXT and use for cli/cgi binaries

    * (PHP_4_3)
      NEWS
      ext/standard/basic_functions.c
      ext/standard/basic_functions.c:
      MFH: - Fixed bug #32647 (Using register_shutdown_function() with invalid
      callback can crash PHP)

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/standard/basic_functions.c:
      - Fixed bug #32647 (Using register_shutdown_function() with invalid
      callback can crash PHP)

    * (PHP_4_3)
      ext/standard/tests/general_functions/bug32647.phpt:
      Fix test

    * ZendEngine2/tests/unset_cv05.phpt:
      Fix test when register_long_arrays is off in your php.ini

    * ext/standard/tests/general_functions/bug32647.phpt
      ext/standard/tests/general_functions/bug32647.phpt
      ext/standard/tests/general_functions/bug32647.phpt:
        1.1.4;
      Added test for bug #32647

    * ext/standard/tests/general_functions/bug29038.phpt
      ext/standard/tests/general_functions/bug31190.phpt:
      bug => Bug

2005-04-20  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/fdf/fdf.c:
      Fixed ZTS build of fdf extension.

2005-04-20  Brian France  <list@firehawksystems.com>

    * (PHP_4_3)
      NEWS
      NEWS
      acinclude.m4
      acinclude.m4:
      MFH: Added support for .cc files in extensions.

    * NEWS
      acinclude.m4:
      Added support for .cc files in extensions.

2005-04-20  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli_api.c:
      another fix for last commit (committed from wrong tree) :(

    * ext/mysqli/mysqli.c
      ext/mysqli/tests/009.phpt:
      fixed typo in last commit :(

    * ext/mysqli/mysqli.c
      ext/mysqli/mysqli_api.c:
      added support for data truncation (bind_result) for MySQL 5.0.5

2005-04-20  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #32776 (SOAP doesn't support one-way operations)

2005-04-19  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_5_0)
      NEWS:
      reorder

2005-04-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_API.c
      ZendEngine2/zend_API.h
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_reflection_api.c:
      - Add ReflectionProperty::getDocComment()

2005-04-19  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/openssl/openssl.c:
      - Never use Z_TYPE* macros on non-zvals.

2005-04-19  Andrey Hristov  <php@hristov.com>

    * (PHP_5_0)
      NEWS:
      FN

    * main/main.c:
      add INT_MAX and INT_SIZE constants.

    * ext/mysqli/tests/033.phpt:
      MFB

    * (PHP_5_0)
      ext/mysqli/tests/033.phpt:
      fix test to be able to run not only over Unix socket but also over TCP/IP
      and not only connected to localhost.

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/mysqli/tests/bug32405.phpt
      ext/mysqli/tests/bug32405.phpt:
      
      add a test case for Bug #32405 (the previous commit incorporated a fix
      for it).

    * ext/mysqli/mysqli_api.c:
      - nail down another 64bit problem. this will fix about 14 failing tests
        on amd64 (probably other 64 bit arch).
      - use ulong for this boolean variable, as it was before
      - throw an warning if offset passed to mysqli_stmt_data_seek is negative

    * ext/mysqli/mysqli_api.c
      ext/mysqli/tests/014.phpt:
      - fixing all "long" into "int" fetching problems (cause memory corruption
        on 64 bit)
      - nail down a problem because of the new MYSQL_TYPE_NEWDECIMAL introduced
        in MySQL 5.0+
      - Add more info to the autocommit test

2005-04-19  Jani Taskinen  <jani.taskinen@sci.fi>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_exceptions.c
      sapi/apache/sapi_apache.c
      sapi/apache_hooks/mod_php5.c
      sapi/apache_hooks/sapi_apache.c:
      No c++ comments in C code

    * ext/sqlite/pdo_sqlite2.c:
      - This is not C++ code

2005-04-19  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/com_dotnet/com_com.c
      ext/com_dotnet/com_handlers.c
      ext/com_dotnet/com_typeinfo.c
      ext/com_dotnet/php_com_dotnet_internal.h:
      merge from branch: fixes for #32758 and #32759

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/com_dotnet/com_com.c
      ext/com_dotnet/com_handlers.c
      ext/com_dotnet/com_typeinfo.c
      ext/com_dotnet/php_com_dotnet_internal.h:
      - Fix #32758 Cannot access safearray properties
      - Fix #32759 incorrect determination of default value

2005-04-19  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/sqlite/sqlite.c:
      MFH: Fixed bug #32753 (Undefined constant SQLITE_NOTADB).

    * ext/sqlite/sqlite.c:
      Fixed bug #32753 (Undefined constant SQLITE_NOTADB).

2005-04-18  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/dom/node.c
      ext/dom/tests/bug32615.phpt:
      MFH: Fix bug #32755 Segfault in replaceChild() when DocumentFragment has no
      children
      update test

    * ext/dom/node.c
      ext/dom/tests/bug32615.phpt:
      Fix bug #32755 Segfault in replaceChild() when DocumentFragment has no
      children
      update test

2005-04-18  Andrey Hristov  <php@hristov.com>

    * ext/ncurses/ncurses_functions.c:
      don't null it - let the engine do its magic ;)

2005-04-18  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/com_dotnet/com_handlers.c:
      merge bug fixes from branch

    * (PHP_5_0)
      NEWS
      ext/com_dotnet/com_handlers.c:
      Fix bugs #29583 and #31636

2005-04-18  Anantha Kesari H Y  <hyanantha@novell.com>

    * configure.in:
      PHP_OS and PHP_UNAME need to be hardcoded for cross builds

2005-04-18  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_execute.c:
      Fixed memory leak in debug_backtrace()

2005-04-18  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli.c:
      cursor support for 5.0.4 (STMT_ATTR_CURSOR_TYPE changed to enum)

2005-04-18  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/com_dotnet/com_dotnet.c
      ext/com_dotnet/com_persist.c:
      removed unused vars.

2005-04-17  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * tests/classes/property_exists.phpt:
      - Add more tests

    * ZendEngine2/zend_builtin_functions.c:
      - Fix special cases of property_exists()

    * ZendEngine2/zend_object_handlers.c:
      - Fix logic

2005-04-17  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_5_0)
      NEWS
      ext/ldap/config.w32
      ext/ldap/ldap.c:
      MFH: - Fixed bug #30819 (Better support for LDAP SASL bind)

    * ext/ldap/ldap.c:
      - Fixed bug #30819 (Better support for LDAP SASL bind)

    * NEWS:
      - Removed unnecessary NEWS entry

    * main/php.h:
      - Remove relic

    * (PHP_4_3)
      NEWS
      ext/crack/crack.c:
      - Fixed bug #32730 (ext/crack.c fails to compile with cracklib-2.8.3)

2005-04-17  Derick Rethans  <php@derickrethans.nl>

    * NEWS
      ext/gd/gd.c:
      - Fixed bug #32735 (Compile error in GD extension).

2005-04-17  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      sapi/isapi/php4isapi.c
      sapi/isapi/php5isapi.c:
      MFH: - Fixed bug #31887 (ISAPI: Custom 5xx error does not return correct
      HTTP response message)

    * sapi/isapi/php5isapi.c:
      - Fixed bug #31887 (Custom 5xx error does not return correct HTTP response
      message)

2005-04-16  Sara Golemon  <php@alphaweb.net>

    * ZendEngine2/tests/method_exists.phpt:
      method_exists() regression test

    * ZendEngine2/zend_builtin_functions.c:
      Fix method_exists(), pce is fetched, but ce is used

2005-04-16  Jani Taskinen  <jani.taskinen@sci.fi>

    * NEWS
      NEWS
      NEWS:
      retype

2005-04-16  Pierre-Alain Joye  <pierre@dotgeek.org>

    * NEWS:
      - Typo

    * NEWS:
      - Entry for imageconvolution addition

2005-04-16  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      ext/dotnet/.cvsignore:
      typofix

2005-04-16  Pierre-Alain Joye  <pierre@dotgeek.org>

    * ext/gd/gd.c
      ext/gd/php_gd.h:
      - export imageconvolution to userland, making people happy to do not
        use the predefined ones :)

2005-04-16  Uwe Schindler  <uwe@thetaphi.de>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/md5.c
      ext/standard/md5.c
      ext/standard/sha1.c
      ext/standard/sha1.c:
      MFH: use streams api for md5_file() and sha1_file()

2005-04-16  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ext/gd/libgd/gd.c:
      I think this is a cleaner emboss filter.  Less fringing.

    * (PHP_5_0)
      ext/gd/libgd/gd.c:
      MFH: The emboss and edge detection filter matrices were swapped

    * ext/gd/libgd/gd.c:
      The emboss and edge detection matrices are swapped

    * ext/sqlite/config.m4:
      Don't do PDO here if PDO is disabled

2005-04-15  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/standard/type.c:
      - Fixed bug #32719 (strval() fails to zero terminate strings)

    * ext/standard/tests/strings/strval.phpt:
      Add some more cases

    * ext/standard/tests/strings/strval.phpt
      ext/standard/tests/strings/strval.phpt
      ext/standard/tests/strings/strval.phpt:
        1.1.4;
      Added test for strval() function

    * ext/snmp/snmp.c:
      - Use correct type (bug #32720)

2005-04-15  Frank M. Kromann  <frank@kromann.info>

    * (PHP_5_0)
      ext/ming/ming.c:
      Backporting prebuilt and videostring functions

2005-04-15  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_builtin_functions.c
      tests/classes/property_exists.phpt:
      - Fix even though we already know that the function will be renamed

2005-04-15  Andrei Zmievski  <andrei@gravitonic.com>

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h:
      Fix certain operations to stop relying on presence of read_property and
      write_property handlers. They may be NULL'ed out by certain objects
      pretending to be pure arrays, for example. Do checks first.

2005-04-15  Uwe Schindler  <uwe@thetaphi.de>

    * NEWS
      ext/standard/md5.c
      ext/standard/sha1.c:
      Remove include_path support from md5_file/sha1_file again

    * ext/standard/md5.c
      ext/standard/sha1.c:
      use streams api for md5_file and sha1_file. Added parameter
      use_include_path similar to other PHP file functions. Documentation update
      outstanding

    * (PHP_4_3)
      ext/standard/md5.c
      ext/standard/md5.c
      ext/standard/sha1.c:
      correct copy/paste problem

    * (PHP_4_3)
      ext/standard/md5.c
      ext/standard/md5.c
      ext/standard/sha1.c
      ext/standard/sha1.c:
      MFH: fix various solaris problems by replacing stdio with posix io where
      possible

    * ext/standard/md5.c
      ext/standard/sha1.c:
      fix various solaris problems by replacing stdio with posix io where
      possible

2005-04-14  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c:
      - Regenerated with re2c 0.9.6 (fixes severe bugs)

    * ext/odbc/config.m4
      ext/odbc/php_odbc.h:
      - Add support for latest Birdstep

2005-04-14  Andrey Hristov  <php@hristov.com>

    * ext/skeleton/skeleton.php:
      - don't use short tag
      - detect CLI binary and don't print &lt ;br &lt; in this case

2005-04-14  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      ext/calendar/calendar.c:
      MFH: Fixes & cleanup + some minor new features

2005-04-14  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/datetime.c
      ext/standard/datetime.h
      ext/standard/parsedate.y
      ext/standard/php_parsedate.h:
      MFB43: Fixed bug #31583 (php_std_date() uses short day names in
      non-y2k_compliance mode).
      Fixed bug #31689 (PHPAPI missing for php_std_date() and php_parse_date()).

    * (PHP_5_0)
      NEWS
      ext/standard/datetime.c:
      MFB43: Fixed bug #31583 (php_std_date() uses short day names in
      non-y2k_compliance mode).

    * (PHP_4_3)
      NEWS
      ext/standard/datetime.c:
      Fixed bug #31583 (php_std_date() uses short day names in non-y2k_compliance
      mode).
      
      Patch by: mike at php dot net

2005-04-13  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/calendar/calendar.c:
      Removed unused vars.

2005-04-13  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/pgsql/pgsql.c
      ext/pgsql/pgsql.c:
      MFH: disable pg_cmdtuples() too, if there is no pg_affected_rows()

    * ext/pgsql/pgsql.c:
      disable pg_cmdtuples() too, if there is no pg_affected_rows()

2005-04-13  Derick Rethans  <php@derickrethans.nl>

    * ext/pgsql/pgsql.c
      ext/pgsql/php_pgsql.h:
      - MFH43: Fixed bug #32699 (pg_affected_rows() was defined when it was not
        available).

    * (PHP_5_0)
      NEWS
      ext/pgsql/pgsql.c
      ext/pgsql/php_pgsql.h:
      - MF43: Fixed bug #32699 (pg_affected_rows() was defined when it was not
        available).

    * (PHP_4_3)
      NEWS
      ext/pgsql/pgsql.c
      ext/pgsql/php_pgsql.h:
      - Fixed bug #32699 (pg_affected_rows() was defined when it was not
      available).

2005-04-13  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      Zend/zend_ini.c:
      MF5: fix memory corruption if one on the on_modify handlers errors out

2005-04-13  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS:
      - Commit the pending patch (bug #32311).

2005-04-13  Antony Dovgal  <tony2001@phpclub.net>

    * ext/standard/tests/array/bug30833.phpt
      ext/standard/tests/array/bug30833.phpt
      ext/standard/tests/array/bug30833.phpt:
        1.1.4;
      add testcase for bug #30833

2005-04-13  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      NEWS:
      - MFH: commit the pending patch (bug #32311).

2005-04-12  Frank M. Kromann  <frank@kromann.info>

    * (PHP_4_3)
      ext/mssql/php_mssql.c
      ext/mssql/php_mssql.c:
      MFH: Fix for #32682. Error on module shutdown when called from activescript

    * ext/mssql/php_mssql.c:
      Fix for #32682. Error on module shutdown when called from activescript

2005-04-12  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/readline/readline.c:
      Fixed compiler warning.

2005-04-12  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      NEWS
      ext/standard/array.c:
      MFH: fix #30833 (array_count_values modifying input array)

    * ext/standard/array.c:
      fix #30833 (array_count_values modifying input array)

2005-04-12  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/zend_ini.c:
      fix memory corruption if one on the on_modify handlers errors out

    * (PHP_5_0)
      ZendEngine2/zend_ini.c:
      fi memory corruption if one on the on_modify handlers errors out

2005-04-11  Frank M. Kromann  <frank@kromann.info>

    * ext/fbsql/php_fbsql.c:
      Don't truncate the .options file when a database is started without the
      optional options parameter.

2005-04-11  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_5_0)
      sapi/apache2filter/sapi_apache2.c:
      fix typo (bug #32673)

2005-04-11  Antony Dovgal  <tony2001@phpclub.net>

    * main/streams/streams.c:
      revert the patch, the problem seems to be somewhere else

2005-04-11  Harrie Hazewinkel  <harrie@lisanza.net>

    * ext/snmp/snmp.c:
      Converting the usage of the integer based internal commands into
      MACROS to ease future extensions.

    * ext/snmp/snmp.c:
      Adding support for a getbulk oriented walk.
      The getbulk can only be used for SNMPv2c and SNMPv3.

2005-04-11  Dmitry Stogov  <dmitry@zend.com>

    * ext/wddx/wddx.c
      ext/wddx/wddx.c:
      Fixed SIGSEGV on serializing data with circular references

    * (PHP_5_0)
      NEWS:
      Fixed bug #31502 (Wrong deserialization from session when using WDDX
      serializer )

    * ext/wddx/wddx.c
      ext/wddx/wddx.c:
      Support for encoding/decoding of private and protected members

2005-04-10  Andrey Hristov  <php@hristov.com>

    * NEWS:
      news

    * ext/dom/document.c
      ext/gd/gd.c:
      fix memory corruption on 64bit in imagefttext(),
      domdocument::load() and domdocument::loadxml()

    * ext/ncurses/ncurses_functions.c:
      fix proto. return true instead of null

    * ext/calendar/calendar.c:
      simplify code (no need of local variable - return directly)

2005-04-10  Jani Taskinen  <jani.taskinen@sci.fi>

    * sapi/apache2handler/config.m4:
      - Say in the help too this is the handler module..

    * sapi/apache2filter/config.m4:
      Might not be obvious for everyone :)

    * ext/odbc/config.m4:
      - This was supposed to be escaped with \

    * ext/odbc/config.m4:
      Add more detailed failure msg. (bug #32649)

    * ext/bz2/bz2.dsp
      ext/gd/gd.dsp:
      - Make VC6 happy

2005-04-10  Ilia Alshanetsky  <ilia@prohost.org>

    * NEWS
      ext/standard/basic_functions.c
      ext/standard/basic_functions.h:
      Added time_sleep_until() function, which is a high precision mechanism of
      making a script sleep until specified timestamp.

2005-04-09  Sara Golemon  <php@alphaweb.net>

    * main/streams/streams.c:
      Fold validation into an inlined function per Andi's suggestion

2005-04-08  Jani Taskinen  <jani.taskinen@sci.fi>

    * win32/php_modules.dsw:
      - Nuked some PECLed extensions

    * win32/php5ts.dsw:
      Removed non-existing sapi/activescript dsp

    * (PHP_4_3)
      NEWS
      NEWS
      sapi/apache2filter/sapi_apache2.c
      sapi/apache2filter/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c:
      MFH: - Fixed bug #32587 (Apache2: errors sent to error_log do not include
      timestamps)

    * sapi/apache2filter/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c:
      - Fixed bug #32587 (Apache2: errors sent to error_log do not include
      timestamps)

    * (PHP_4_3)
      ext/standard/url_scanner_ex.c:
      regenerated with re2c 0.9.4

    * (PHP_4_3)
      ext/standard/url_scanner_ex.re:
      typo

    * (PHP_4_3)
      ext/standard/url_scanner_ex.re:
      Missing $Id$ tag

    * (PHP_5_0)
      ext/standard/url_scanner_ex.c:
      regenerate with correct re2c version

2005-04-08  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/dom/node.c
      ext/dom/tests/bug32615.phpt:
      - MFH Fixed bug #32615 (Segfault in replaceChild() using fragment when
        previousSibling is NULL)
      - add test

    * ext/dom/tests/bug32615.phpt
      ext/dom/tests/bug32615.phpt:
      
      - Fixed bug #32615 (Segfault in replaceChild() using fragment when
        previousSibling is NULL)
      - add test

    * ext/dom/node.c:
      - Fixed bug #32615 (Segfault in replaceChild() using fragment when
        previousSibling is NULL)
      - add test

2005-04-08  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: Missing part of the patch for bug #32589

    * ext/imap/php_imap.c:
      Missing part of the patch for bug #32589

2005-04-08  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_operators.c:
      - Fix memory corruption found by rob

    * ZendEngine2/tests/bug22836.phpt:
      - Ensure we see all errors. No need for () in return

2005-04-08  Jani Taskinen  <jani.taskinen@sci.fi>

    * configure.in:
      remove duplicate entry

2005-04-08  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * tests/classes/property_exists.phpt:
      - Add new test

    * ZendEngine2/zend_builtin_functions.c:
      - Add property_exits()

    * ZendEngine2/zend_object_handlers.c:
      - No E_ERROR when we just check (where did my 0->1 change go on first
      commit?)

2005-04-08  Rob Richards  <rrichards@ctindustries.net>

    * ext/dom/tests/dom003.phpt
      ext/dom/tests/dom003.phpt:
      fix test

2005-04-08  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_object_handlers.c:
      - No E_ERROR when we just check, here visibility simply means there is none

    * ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.h:
      - Simplify getting property info and make it an api function

2005-04-08  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      main/snprintf.c
      main/snprintf.h
      main/spprintf.c:
      MFH and Fixes bug #32482 (ap_php_snprintf broken)

2005-04-07  Jon Parise  <jon+php@csh.rit.edu>

    * build/buildcheck.sh:
      Spell "overridden" correctly.

2005-04-07  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/standard/proc_open.c:
      MFH: Fixed bug #32533 (proc_get_status() returns the incorrect process
      status).

    * ext/standard/proc_open.c:
      Fixed bug #32533 (proc_get_status() returns the incorrect process status).

2005-04-07  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_5_0)
      ext/mysql/php_mysql.c:
      MFH: - Fixed bug #32591 (ext/mysql: Unsatisfied symbol: ntohs with HP-UX)

    * ext/mysql/php_mysql.c
      ext/mysql/php_mysql.c:
      - Fixed bug #32591 (ext/mysql: Unsatisfied symbol: ntohs with HP-UX)

    * scripts/phpize.in:
      Fix the echo/backquote issues + aclocal

    * (PHP_5_0)
      build/build2.mk
      build/buildcheck.sh
      scripts/phpize.in:
      MFH: Use PHP_AUTOCONF / PHP_AUTOHEADER environment variables

    * acinclude.m4:
      - Cleanup a bit. And make use of shtool mkdir

    * run-tests.php:
      - Reword the send-report-part a bit. (bug #32624)

    * ZendEngine2/zend_alloc.c
      ZendEngine2/zend_alloc.h:
      - Nuke the code duplication

    * ZendEngine2/zend_alloc.h:
      Fix build when USE_ZEND_ALLOC is 0

2005-04-07  Dmitry Stogov  <dmitry@zend.com>

    * ext/calendar/calendar.c
      ext/calendar/calendar.c:
      Fixed indentation

    * ext/calendar/calendar.c
      ext/calendar/calendar.c:
      Fixed wrong result of cal_days_in_month() with bad dates

2005-04-07  Derick Rethans  <php@derickrethans.nl>

    * (PHP_4_3)
      Zend/zend_alloc.h:
      - Doh, this should not have been in of course :)

    * (PHP_4_3)
      Zend/zend_alloc.c
      Zend/zend_alloc.h:
      - Fixed bug with estrndup when the Zend Allocator was not in use.

2005-04-07  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_alloc.c
      ZendEngine2/zend_alloc.h:
      MFH (Fix strdup() bug when USE_ZEND_ALLOC was disabled)

    * ZendEngine2/zend_alloc.c
      ZendEngine2/zend_alloc.h:
      Fix strdup() bug when USE_ZEND_ALLOC is disabled

2005-04-07  Uwe Schindler  <uwe@thetaphi.de>

    * (PHP_4_3)
      main/streams.c
      main/streams/plain_wrapper.c
      main/streams/plain_wrapper.c:
      Bug #32614 - prevent from crahsing with segfault on solaris if fdopen()
      fails - this fixes NOT the stdio-problem on solaris!

2005-04-07  Jani Taskinen  <jani.taskinen@sci.fi>

    * scripts/phpize.in:
      - Added the $PHP_AUTOCONF/$PHP_AUTOHEADER usage to phpize

2005-04-06  Jani Taskinen  <jani.taskinen@sci.fi>

    * run-tests.php:
      - Not every OS has ldd..

    * ext/standard/url_scanner_ex.c:
      Regenerated with re2c 0.9.4

    * NEWS:
      Keep removed stuff in top..

2005-04-06  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS:
      bug fixing news.

    * (PHP_5_0)
      main/php_streams.h:
      MFH: Fixed bug #32553 (mmap loads only the 1st 2000000 bytes on Win32).

    * (PHP_5_0)
      NEWS
      ext/standard/basic_functions.c
      ext/standard/basic_functions.h:
      MFH: Removed php_check_syntax() function, it never worked properly. For now
      use shell_exec("php -l script_name") or similar.

    * NEWS
      ext/standard/basic_functions.c
      ext/standard/basic_functions.h:
      Removed php_check_syntax() function, it never worked properly. For now
      use shell_exec("php -l script_name") or similar.

    * (PHP_5_0)
      NEWS
      ext/standard/file.c
      main/streams/plain_wrapper.c:
      MFH: Fixed bug #31363 (broken non-blocking flock()).

    * ext/standard/file.c
      main/streams/plain_wrapper.c:
      Fixed bug #31363 (broken non-blocking flock()).
      

2005-04-06  Christian Stocker  <chregu@bitflux.ch>

    * NEWS
      ext/xsl/php_xsl.c
      ext/xsl/php_xsl.h
      ext/xsl/xsltprocessor.c:
      - Added optional first parameter to XsltProcessor::registerPHPFunctions to
      only
        allow certain functions to be called from XSLT.

2005-04-06  Antony Dovgal  <tony2001@phpclub.net>

    * main/streams/streams.c:
      do not try to read after EOF

2005-04-06  Georg Richter  <georg@mysql.com>

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli.c:
      MFH: fix for #32282 (segfault in mysqli_fetch_array on 64-bit)

    * ext/mysqli/mysqli.c:
      fix for bug #32282 (segfault in mysqli_fetch_array on 64-bit)

2005-04-05  Antony Dovgal  <tony2001@phpclub.net>

    * ext/ldap/ldap.c:
      remove proto, it's internal func

2005-04-05  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: Fixed bug #32589 (Possible crash inside imap_mail_compose, with
      charsets).

    * ext/imap/php_imap.c:
      Fixed bug #32589 (Possible crash inside imap_mail_compose, with charsets).

2005-04-05  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/tests/serialize/005.phpt:
      - Add new test

    * ZendEngine2/zend_interfaces.c:
      - Just return FAILURE & allow NULL without emmidiate error

2005-04-05  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      main/streams/streams.c:
      MFH: Fixed bug #30362 (stream_get_line() not reading data correctly).

    * main/streams/streams.c:
      Fixed bug #30362 (stream_get_line() not reading data correctly).

2005-04-04  Sara Golemon  <php@alphaweb.net>

    * (PHP_4_3)
      main/streams.c:
      MFH rev 1.72 (of main/streams/streams.c)

    * main/streams/streams.c:
      BugFix #32563
      
      This could have been done in stream_wrapper_register()
      without introducing the slight performance hit on
      wrapper registration since anyone registering a wrapper
      in an extension should know better.
      
      The important thing is that since locate_wrapper makes
      the assumption that all schemes will be /^[a-z0-9+.-]+$/i
      Anything which registers them should make the same assumption as well.

2005-04-04  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      ext/standard/credits_ext.h:
      update

    * (PHP_5_0)
      NEWS
      ext/standard/credits_ext.h
      ext/standard/credits_sapi.h:
      - Update

    * ext/standard/credits_ext.h:
      Update credits

    * ext/standard/tests/file/bug30362.txt
      ext/standard/tests/file/bug30362.txt:
      
      remove empty lines

    * ext/standard/tests/file/bug30362.phpt
      ext/standard/tests/file/bug30362.phpt
      ext/standard/tests/file/bug30362.txt:
      
      Added testcase for bug #30362

2005-04-04  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/zend_builtin_functions.c:
      MF50: fix backtraces - non-Zend classes have names too

    * (PHP_5_0)
      ZendEngine2/zend_builtin_functions.c:
      fix backtraces - non-Zend classes have names too

2005-04-04  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      ext/gmp/gmp.c:
      fix #32567 (ext/gmp fails to compile with thread safety enabled)

2005-04-04  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * main/SAPI.c
      main/SAPI.h
      main/main.c
      main/php_variables.c
      sapi/apache/mod_php5.c
      sapi/apache_hooks/mod_php5.c:
      added a server variable PHP_AUTH_DIGEST to support HTTP Digest
      Authentication.

2005-04-04  Uwe Schindler  <uwe@thetaphi.de>

    * NEWS
      NEWS
      NEWS
      main/rfc1867.c
      main/rfc1867.c
      main/rfc1867.c:
      Bug #32491 (File upload error - unable to create a temporary file) -
      Changing file upload from stdio to posix

2005-04-04  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      NEWS
      ext/odbc/config.m4:
      MFH: configure looks for incorrect db2 library

    * ext/odbc/config.m4:
      fix #32560 (configure looks for incorrect library - libdb2.so instead of
      libdb2.a,
      which is used actually)

2005-04-04  Jani Taskinen  <jani.taskinen@sci.fi>

    * php.ini-recommended:
      - If this is supposed to be the configuration we recommend,
        we've been recommending to not use short-open-tag for a long time.
        E_STRICT too for 5.1 since it promotes the right ways (tm) to do things.

2005-04-04  Jon Parise  <jon+php@csh.rit.edu>

    * NEWS
      build/build2.mk
      build/buildcheck.sh:
      Adding the ability to override the autotools executables used by the
      buildconf script via the PHP_AUTOCONF and PHP_AUTOHEADER environmental
      variables.

2005-04-03  Jani Taskinen  <jani.taskinen@sci.fi>

    * NEWS:
      MBFN2B

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute_API.c:
      MFH: - Fixed bug #28839 (SIGSEGV in interactive mode (php -a)).
      MFH:   (kameshj at fastmail dot fm)

2005-04-03  Uwe Schindler  <uwe@thetaphi.de>

    * sapi/nsapi/nsapi.c:
      Add sapi.get_request_time() to NSAPI

2005-04-03  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/string.c
      ext/standard/string.c
      ext/standard/tests/strings/chunk_split.phpt
      ext/standard/tests/strings/chunk_split.phpt:
      MFH: Fixed bug #32530 (chunk_split() does not append endstr if chunklen is
      longer then the original string).

    * ext/standard/string.c
      ext/standard/tests/strings/chunk_split.phpt:
      Fixed bug #32530 (chunk_split() does not append endstr if chunklen is
      longer then the original string).

2005-04-03  Antony Dovgal  <tony2001@phpclub.net>

    * ext/pgsql/config.m4:
      fix typo

    * (PHP_4_3)
      ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.re
      ext/standard/url_scanner_ex.re:
      MFH: fix output_reset_rewrite_vars() returning false

    * ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.re:
      fix output_reset_rewrite_vars() returning false everytime

    * (PHP_5_0)
      main/php_variables.c:
      MFH patch previously commited by Ilia
      (memory leak when "S" is not listed in variable_order)

2005-04-03  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      ext/dbase/dbase.c
      ext/dbase/dbf_rec.c:
      - Sync with HEAD:
        . php_error -> php_error_docref (fixes test)
        . pval -> zval
        . use modern parameter parsing

    * ext/gd/tests/bug19366.phpt:
      Fix another title

    * ext/gd/tests/bug27582_1.phpt:
      fix description

2005-04-03  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS:
      - Reorder.

2005-04-03  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/xml/tests/bug32001.phpt:
      Partial fix test: It is still possible to use expat libs with ext/xml..

2005-04-02  Greg Beaver  <greg@chiaraquartet.net>

    * (PHP_4_3)
      pear/go-pear.bat:
      allow local install, remove -n switch

    * (PHP_5_0)
      pear/go-pear.bat:
      remove -n switch

    * pear/go-pear.bat:
      update to support local install, remove -n switch

2005-04-02  Jani Taskinen  <jani.taskinen@sci.fi>

    * pear/package-Archive_Tar.xml
      pear/package-Console_Getopt.xml
      pear/package-PEAR.xml:
      Fix the name (and thus make sure PEAR will not install atm)

    * pear/package-Archive_Tar.xml:
      Fixed: [PEAR] Archive_Tar: XML error: not well-formed (invalid token) at
      line 22

    * php.ini-dist
      php.ini-recommended:
      Make sure php_mbstring.dll is first to getting loaded..(bug #32552)

    * (PHP_4_3)
      NEWS
      ext/swf/swf.c:
      - Fixed bug #32538 (ext/swf/swf.c does not compile with gcc-3.4.x or newer)

2005-04-01  Greg Beaver  <greg@chiaraquartet.net>

    * pear/PEAR/RunTest.php
      pear/PEAR/RunTest.php:
      add missing file

2005-04-01  Jani Taskinen  <jani.taskinen@sci.fi>

    * run-tests.php:
      - Fixed bug #32504 (shtool problem on make test)

2005-04-01  Joe Orton  <jorton@redhat.com>

    * ext/mssql/config.m4:
      Use PHP_LIBDIR.

2005-03-31  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/session/tests/007.phpt
      ext/session/tests/008-php4.2.3.phpt
      ext/session/tests/009.phpt:
      These tests require register_long_arrays=1

    * pear/tests/pear_config.phpt
      pear/tests/pear_config_1.1.phpt
      pear/tests/pear_registry.phpt
      pear/tests/pear_registry_1.1.phpt:
      fix some skip conditions..

2005-03-31  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      ZendEngine2/zend_API.c:
      - MFH: internal_function->fn_flags is not initialized at this point

2005-03-31  Jani Taskinen  <jani.taskinen@sci.fi>

    * (PHP_4_3)
      NEWS
      Zend/zend_config.w32.h
      Zend/zend_operators.c
      Zend/zend_operators.h
      ext/standard/array.c:
      MFH: Added SORT_LOCALE_STRING for array sorting

    * main/snprintf.h:
      C++ fix

2005-03-30  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      configure.in
      main/php_version.h:
      - Back to dev so that we have working snapshots again.

2005-03-30  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      configure.in
      main/php_version.h:
      back to dev.

2005-03-30  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      NEWS
      configure.in
      main/php_version.h:
      Roll 5.0.4

2005-03-30  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      configure.in
      main/php_version.h:
      Tag 4.3.11

2005-03-30  Joe Orton  <jorton@redhat.com>

    * ext/mysqli/mysqli_driver.c
      ext/mysqli/mysqli_prop.c:
      Mark more private functions as static.

2005-03-30  Edin Kadribasic  <edink@emini.dk>

    * INSTALL
      INSTALL
      win32/install.txt
      win32/install.txt:
      Updated install instructions from the documentation project (Philip Olson)

    * (PHP_5_0)
      INSTALL
      win32/install.txt:
      Update instruction from the documentation project (Philip Olson)

2005-03-30  Joe Orton  <jorton@redhat.com>

    * ext/mysqli/mysqli_prop.c:
      Mark private functions as static.

2005-03-29  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS:
      patch reverted.

    * (PHP_4_3)
      NEWS:
      patch was reverted.

2005-03-29  Sara Golemon  <php@alphaweb.net>

    * ext/standard/streamsfuncs.c
      main/streams/filter.c
      main/streams/php_stream_filter_api.h:
      BugFix #31137 stream_filter_remove() segfaults when stream already closed

2005-03-28  Ilia Alshanetsky  <ilia@prohost.org>

    * main/php_variables.c:
      Proper fix for the memory leak.

    * main/php_variables.c:
      Fixed memory leak when variables_order does not contain 'S'.

2005-03-28  Greg Beaver  <greg@chiaraquartet.net>

    * pear/packages/HTML_Template_IT-1.1.tar
      pear/packages/HTML_Template_IT-1.1.tar
      pear/packages/Net_UserAgent_Detect-2.0.1.tar
      pear/packages/Net_UserAgent_Detect-2.0.1.tar
      pear/packages/XML_RPC-1.1.0.tar
      pear/packages/XML_RPC-1.2.2.tar
      pear/packages/XML_RPC-1.2.2.tar:
      
      update to current bundle ideal

    * (PHP_4_3)
      pear/packages/DB-1.6.2.tar
      pear/packages/HTML_Template_IT-1.1.tar
      pear/packages/HTTP-1.2.2.tar
      pear/packages/Mail-1.1.3.tar
      pear/packages/Net_SMTP-1.2.6.tar
      pear/packages/Net_Socket-1.0.1.tar
      pear/packages/Net_UserAgent_Detect-2.0.1.tar
      pear/packages/XML_Parser-1.0.1.tar
      pear/packages/XML_RPC-1.1.0.tar
      pear/packages/XML_RPC-1.1.0.tar
      pear/packages/XML_RPC-1.2.2.tar:
      update to current bundle ideal

    * pear/packages/HTML_Template_IT-1.1.tar
      pear/packages/HTML_Template_IT-1.1.tar
      pear/packages/Net_UserAgent_Detect-2.0.1.tar
      pear/packages/Net_UserAgent_Detect-2.0.1.tar
      pear/packages/XML_RPC-1.2.2.tar
      pear/packages/XML_RPC-1.2.2.tar:
      
      file HTML_Template_IT-1.1.tar was initially added on branch PHP_4_3.

    * pear/PEAR/RunTest.php
      pear/PEAR/RunTest.php
      pear/PEAR/Command/Auth.php
      pear/PEAR/Command/Build.php
      pear/PEAR/Command/Common.php
      pear/PEAR/Command/Config.php
      pear/PEAR/Command/Install.php
      pear/PEAR/Command/Mirror.php
      pear/PEAR/Command/Package.php
      pear/PEAR/Command/Registry.php
      pear/PEAR/Command/Remote.php:
      
      file RunTest.php was initially added on branch PHP_4_3.

    * pear/PEAR.php
      pear/PEAR.php
      pear/PEAR.php
      pear/System.php
      pear/package-PEAR.xml
      pear/package-PEAR.xml
      pear/package-PEAR.xml
      pear/package.dtd
      pear/package.dtd
      pear/package.dtd
      pear/template.spec
      pear/template.spec
      pear/template.spec
      pear/Archive/Tar.php
      pear/Console/Getopt.php
      pear/OS/Guess.php
      pear/OS/Guess.php
      pear/OS/Guess.php
      pear/PEAR/Autoloader.php
      pear/PEAR/Builder.php
      pear/PEAR/Builder.php
      pear/PEAR/Builder.php
      pear/PEAR/Command.php
      pear/PEAR/Common.php
      pear/PEAR/Common.php
      pear/PEAR/Common.php
      pear/PEAR/Config.php
      pear/PEAR/Dependency.php
      pear/PEAR/Dependency.php
      pear/PEAR/Dependency.php
      pear/PEAR/Downloader.php
      pear/PEAR/Downloader.php
      pear/PEAR/ErrorStack.php
      pear/PEAR/ErrorStack.php
      pear/PEAR/ErrorStack.php
      pear/PEAR/Exception.php
      pear/PEAR/Exception.php
      pear/PEAR/Exception.php
      pear/PEAR/Exception.php
      pear/PEAR/Installer.php
      pear/PEAR/Installer.php
      pear/PEAR/Installer.php
      pear/PEAR/Packager.php
      pear/PEAR/Registry.php
      pear/PEAR/Registry.php
      pear/PEAR/Registry.php
      pear/PEAR/Remote.php
      pear/PEAR/Command/Install.php
      pear/PEAR/Command/Package.php
      pear/PEAR/Command/Package.php
      pear/PEAR/Frontend/CLI.php
      pear/scripts/pear.in
      pear/scripts/pearcmd.php
      pear/scripts/pearcmd.php
      pear/scripts/pearcmd.php
      pear/tests/pear_config.phpt
      pear/tests/pear_config_1.1.phpt
      pear/tests/pear_registry_1.1.phpt:
      merge in PEAR 1.3.5

2005-03-28  Pierre-Alain Joye  <pierre@dotgeek.org>

    * ext/gd/libgd/gd.c:
      - remove "debug" code

    * ext/gd/libgd/gd.c:
      - MFB, imagerectangle draws 2x each corners (alpha channel uglyness)

2005-03-28  Joey Smith  <joeysmith@gmail.com>

    * php.ini-dist
      php.ini-recommended:
      Adding comments to .ini files at philip@php.net's request.

2005-03-28  Edin Kadribasic  <edink@emini.dk>

    * ext/xmlrpc/libxmlrpc/xml_element.c
      ext/xmlrpc/libxmlrpc/xmlrpc.c:
      Reshufle includes to make it compile on windows

2005-03-27  Pierre-Alain Joye  <pierre@dotgeek.org>

    * ext/gd/gd.c
      ext/gd/libgd/gd.c
      ext/gd/libgd/gd.h:
      - allow to keep or ignore the transparent color in imagerotate (thx
        Ken Coar to report this "bug")
      - be sure to restore alphablending in imagefill
      - use zend_parse_parameter in imagerotate

2005-03-27  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/file.c:
      revert copy patch.

2005-03-26  Edin Kadribasic  <edink@emini.dk>

    * pear/make-pear-bundle.php:
      Script that creates PEAR bundle dir for distribution

2005-03-26  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      configure.in
      main/php_version.h:
      - Back to -dev

2005-03-26  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/xml/compat.c
      ext/xml/expat_compat.h
      ext/xmlrpc/config.m4
      ext/xmlrpc/libxmlrpc/xml_element.c
      ext/xmlrpc/libxmlrpc/xmlrpc.c
      main/php_compat.h:
      - Made it possible to build ext/xmlrpc with libxml2

    * configure.in
      build/libtool.m4:
      - Prevent compiling shared extensions when --enable-versioning is used
      - Fix -export-symbols in Linux in the bundled libtool.m4:
        o http://lists.gnu.org/archive/html/libtool/2002-07/msg00029.html

    * NEWS:
      BFN

    * ZendEngine2/zend_execute_API.c:
      - Fixed bug #28839 (SIGSEGV in interactive mode (php -a))
        (kameshj at fastmail dot fm)

    * ext/ingres_ii/config.m4
      ext/ingres_ii/config.w32
      ext/ingres_ii/ii.c
      ext/ingres_ii/php_ii.h:
      - Fix windows build (using config.w32 and keeping sync with config.m4)

    * main/php.h:
      Fix path

2005-03-25  Jani Taskinen  <jani.taskinen@sci.fi>

    * NEWS:
      These entries do not belong in NEWS file (internal issues)

2005-03-25  Andi Gutmans  <andi@zend.com>

    * LICENSE:
      - Increment year in copyright notice

2005-03-25  Christopher Kings-Lynne  <chriskl@users.sourceforge.net>

    * NEWS
      ext/pgsql/config.m4
      ext/pgsql/config.w32
      ext/pgsql/pgsql.c
      ext/pgsql/tests/08escape.phpt
      ext/pgsql/tests/25async_query_params.phpt:
      (PHP pg_unescape_bytea) Use libpq version of PQunescapeBytea if it exists.
      

2005-03-25  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/pgsql/pgsql.c:
      Slightly safer code.

2005-03-24  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_vm_execute.h:
      - Second part of removing temp solution

    * ZendEngine2/zend_vm_def.h:
      - Remove potential bad solution for now

2005-03-24  Jani Taskinen  <jani.taskinen@sci.fi>

    * scripts/Makefile.frag:
      Remove: Has not existed for ages..

2005-03-24  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      NEWS
      configure.in
      main/php_version.h:
      Roll RC2

2005-03-24  Andi Gutmans  <andi@zend.com>

    * main/main.c
      main/main.c:
      - Fix typos

2005-03-24  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      ext/session/session.c:
      MFH: fix leak when register_long_arrays is off

    * ext/session/session.c:
      fix leak when register_long_arrays is off

2005-03-23  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      NEWS:
      - Temporary reversion as per release masters' requests.

    * (PHP_5_0)
      NEWS:
      - Temporary reversion.

    * (PHP_4_3)
      NEWS:
      - Reorder.

    * (PHP_5_0)
      NEWS:
      - BFN.

    * (PHP_4_3)
      NEWS:
      - MFH: fix bug #32311 (mb_encode_mimeheader() does not properly escape
        characters).

    * (PHP_5_0)
      ext/iconv/iconv.c
      ext/iconv/tests/iconv004.phpt:
      - MFH: Add sanity check in iconv_mime_encode(). Leaving the third parameter
        unspecified would yield bus error.
      - MFH: Add testcase for the bug.

    * ext/iconv/tests/iconv004.phpt
      ext/iconv/tests/iconv004.phpt:
      
      - Add test case for iconv_mime_encode().

    * ext/iconv/iconv.c:
      - Add sanity check in iconv_mime_encode(). Leaving the third parameter
        unspecified would yield bus error.

2005-03-23  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      configure.in
      main/php_version.h:
      Back to dev.

2005-03-23  Andrei Zmievski  <andrei@gravitonic.com>

    * ZendEngine2/zend_execute.c:
      Consolidate: call _get_zval_ptr_var() for IS_VAR case in
      _get_zval_ptr().

2005-03-23  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      configure.in
      main/php_version.h:
      4.3.11RC2

2005-03-23  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      main/main.c:
      - MFH Notices shouldn't be treatedas errors and thus not being conidered to
        be converted to exceptions.

    * main/main.c:
      - Notices shouldn't be treatedas errors and thus not being conidered to be
        converted to exceptions.

2005-03-23  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #31695 (Cannot redefine endpoint when using WSDL)

2005-03-23  Christopher Kings-Lynne  <chriskl@users.sourceforge.net>

    * ext/pgsql/tests/02connection.phpt
      ext/pgsql/tests/03sync_query.phpt
      ext/pgsql/tests/23sync_query_params.phpt
      ext/pgsql/tests/24sync_query_prepared.phpt
      ext/pgsql/tests/25async_query_params.phpt
      ext/pgsql/tests/26async_query_prepared.phpt:
      - Ensure that ext/pgsql tests work when linked against 7.2 or lower libpq

2005-03-23  Jani Taskinen  <jani.taskinen@sci.fi>

    * tests/run-test/.cvsignore:
      Missing line

    * NEWS:
      clean

2005-03-22  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * ext/mbstring/config.m4
      ext/mbstring/config.w32
      ext/mbstring/mbstring.c
      ext/mbstring/mbstring.dsp:
      - Add Armenian encoding / NLS (patch by Hayk Chamyan)

2005-03-22  Edin Kadribasic  <edink@emini.dk>

    * (PHP_4_3)
      ext/exif/exif.c
      ext/exif/exif.dsp
      ext/mbstring/mbstring.dsp:
      Fix exif win32 build

2005-03-22  Jani Taskinen  <jani.taskinen@sci.fi>

    * ext/standard/tests/array/locale_sort.phpt:
      Added SKIPIF

    * ext/standard/tests/array/locale_sort.phpt
      ext/standard/tests/array/locale_sort.phpt:
      
      Addded test for locale aware sort

2005-03-22  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      NEWS
      sapi/cli/php_cli.c
      sapi/cli/php_cli.c:
      MFH: fix #28803 (enabled debug causes bailout errors with CLI on AIX
      because of fflush() called on already closed filedescriptor)

    * sapi/cli/php_cli.c:
      fix #28803 (enabled debug causes bailout errors with CLI on AIX
      because of fflush() called on already closed filedescriptor)

2005-03-22  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/microtime.c:
      Fixed compiler warning.

2005-03-22  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #30106 (SOAP cannot not parse 'ref' element. Causes Uncaught
      SoapFault exception)

2005-03-22  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      README.CVS-RULES
      README.CVS-RULES:
      - MFH: Changed to reflect "current practise"

    * README.CVS-RULES:
      - Changed to reflect "current practise"

2005-03-22  Christopher Kings-Lynne  <chriskl@users.sourceforge.net>

    * NEWS
      ext/pgsql/CREDITS
      ext/pgsql/config.m4
      ext/pgsql/config.w32
      ext/pgsql/pgsql.c
      ext/pgsql/php_pgsql.h
      ext/pgsql/tests/06copy.phpt
      ext/pgsql/tests/07optional.phpt:
      Tweak some #if's to be more orthogonal.
      
      (PHP pg_set_error_verbosity) New function to set PostgreSQL error
      verbosity
      
      (PHP pg_copy_from) Use non-deprecated API if it is available
      
      (PHP pg_copy_to) Use non-deprecated API if it is available

2005-03-22  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/array.c:
      Simplify argument checking code for array_combine().

2005-03-21  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS:
      - Fixed bug #32394 offsetUnset() segfaults in a foreach

2005-03-21  Andi Gutmans  <andi@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_execute.c:
      - Fix memset() bug (Joe Orton)

2005-03-21  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      ext/standard/html.c:
      NetWare can make use of configure generated php_config.h

    * (PHP_5_0)
      ext/standard/dl.c
      ext/standard/file.c
      ext/standard/ftp_fopen_wrapper.c
      ext/standard/http_fopen_wrapper.c
      ext/standard/pack.c:
      NetWare LibC headers have sys/param.h

2005-03-21  Andrei Zmievski  <andrei@gravitonic.com>

    * main/php.h:
      Define PHP_ABSTRACT_ME

    * ZendEngine2/zend_API.c:
      internal_function->fn_flags is not initialized at this point

2005-03-20  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/tests/bug31102.phpt:
      - Added missing description (thanks jani)

    * ZendEngine2/tests/bug31102.phpt:
      - Add new test

2005-03-20  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      run-tests.php:
      MFH: Detect shtool properly when build-dir != php source dir.

    * run-tests.php:
      Detect shtool properly when build-dir != php source dir.

2005-03-20  Zeev Suraski  <zeev@zend.com>

    * TSRM/TSRM.c:
      Merge

    * (PHP_5_0)
      TSRM/TSRM.c:
      Fix the lock (the other patch would probably also work, but it's more error
      prone and it's better to be on the safe side)

2005-03-20  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/pgsql/pgsql.c:
      - Fixed a warning (might also be an error with some exotic compiler)

2005-03-20  Christopher Kings-Lynne  <chriskl@users.sourceforge.net>

    * ext/pgsql/pgsql.c
      ext/pgsql/tests/03sync_query.phpt:
      Two of the diagnostic definitions were added in 8.0.  Add appropriate
      #ifdefs.

2005-03-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_object_handlers.c:
      - More fixes to gracefully act on exception thrown in overload methods

    * ZendEngine2/zend_object_handlers.c:
      - Fix #31185

2005-03-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS:
      less wordy

    * (PHP_5_0)
      NEWS:
      reorder

2005-03-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * main/main.c:
      - We don't need to block those here (works as it works with normal error
        overloading)

    * ZendEngine2/zend_execute_API.c:
      - Fix all incarnations of bug #30266

    * ext/standard/array.c
      ext/standard/tests/array/bug30266.phpt:
      - Check another incarnation of bug #30266

2005-03-19  Antony Dovgal  <tony2001@phpclub.net>

    * ext/bz2/bz2.c:
      fix #32373 (segfault in bzopen('/wrong/path'))

2005-03-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/pgsql/tests/24sync_query_prepared.phpt
      ext/pgsql/tests/26async_query_prepared.phpt:
      - Add missing skipif part

    * NEWS:
      - ext/pgsql was updated

2005-03-19  Christopher Kings-Lynne  <chriskl@users.sourceforge.net>

    * ext/pgsql/pgsql.c:
      Another oversight - make sure constants related to pg_result_error_field
      are #if'd as well as the function itself

    * ext/pgsql/tests/02connection.phpt
      ext/pgsql/tests/03sync_query.phpt:
      Add regression tests for pg_transaction_status and pg_result_error_field

    * ext/pgsql/pgsql.c:
      Minor oversight in #if for an internal function

2005-03-19  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * ext/mbstring/php_mbregex.c:
      oniguruma updated to 3.7.1 and changed UChar to OnigUChar.

2005-03-19  Andi Gutmans  <andi@zend.com>

    * ZendEngine2/zend_interfaces.c
      ZendEngine2/zend_interfaces.h:
      - Fix typos

2005-03-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/ingres_ii/config.w32
      ext/ingres_ii/config.w32:
      
      Added config.w32 (modified version, original by: Grant.Croker at ca dot
      com)

2005-03-18  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * run-tests.php:
      - Readd revised version of Jani's fix:
        'errors with -d having a check for invalid ini entries'
      - Add -v for verbose mode

2005-03-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * sapi/cli/php_cli.c:
      Revert bad idea. (no more error for invalid -d options)

    * run-tests.php:
      revert

    * run-tests.php:
      Fix stupid typos

    * run-tests.php:
      Fix errors with -d having a check for invalid ini entries

2005-03-18  Greg Beaver  <greg@chiaraquartet.net>

    * (PHP_5_0)
      pear/go-pear-list.php:
      update to newest packages

    * pear/go-pear-list.php
      pear/go-pear-list.php:
      update to Archive_Tar 1.3.1

2005-03-18  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      ext/mbstring/mbstring.dsp:
      - Add missing entries.

2005-03-17  Harrie Hazewinkel  <harrie@lisanza.net>

    * (PHP_5_0)
      NEWS:
      Added SNMPv2 support.

    * (PHP_5_0)
      ext/snmp/php_snmp.h
      ext/snmp/snmp.c:
      Adding SNMPV2 functions for data retrieval.

2005-03-17  Antony Dovgal  <tony2001@phpclub.net>

    * ext/mysqli/mysqli_api.c:
      fix typo in error message

2005-03-17  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/exif/exif.c:
      MFH: Fixed build of exif extension on win32.

    * ext/exif/exif.c:
      MFB: Fixed build of exif extension on win32.

    * (PHP_5_0)
      ext/exif/exif.c:
      Fixed build of exif extension on win32.

    * ext/ftp/ftp.c:
      Fixed compiler warning on win32.

2005-03-17  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * main/streams/cast.c:
      Silence a warning here on systems where off_t is a long long.

2005-03-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * sapi/cli/php_cli.c:
      - Made CLI option -d output error and exit if an non-existing (or
      unmodifyable) entry is passed

2005-03-17  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_4_3)
      NEWS:
      BFN

    * (PHP_4_3)
      ext/domxml/php_domxml.c:
      Fixed bug #32340 (insert_before($node,NULL) does not return)

2005-03-17  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      NEWS
      configure.in
      main/php_version.h:
      RC1 -> RC2-dev

2005-03-17  Rob Richards  <rrichards@ctindustries.net>

    * ext/standard/dl.h:
      export php_dl to fix windows cli build

2005-03-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * scripts/phpize.m4:
      Removed unused DEFS subst

    * configure.in:
      Fixed build properly

    * TSRM/TSRM.h
      TSRM/tsrm_config_common.h
      ext/mbstring/mb_gpc.c
      ext/mbstring/mbstring.c:
      Revert bad fix

    * (PHP_5_0)
      scripts/phpize.m4:
      MFB: remove unused subst

    * (PHP_4_3)
      scripts/phpize.m4:
      remove unused subst

    * (PHP_4_3)
      configure.in
      configure.in:
      fix build

2005-03-17  Derick Rethans  <php@derickrethans.nl>

    * sapi/cli/php_cli.c:
      - ZTS fixes

2005-03-17  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ext/mbstring/mb_gpc.c
      ext/mbstring/mbstring.c:
      Build fixes

2005-03-16  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * TSRM/TSRM.h
      TSRM/tsrm_config_common.h
      main/php.h:
      Fix Jani breakage

2005-03-16  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS:
      MFH: Fixed bug #32326 (Check values of Connection/Transfer-Encoding
      case-incentively)

2005-03-16  Harrie Hazewinkel  <harrie@lisanza.net>

    * ext/snmp/php_snmp.h
      ext/snmp/php_snmp.h
      ext/snmp/snmp.c
      ext/snmp/snmp.c:
      Adding SNMPv2 community based (i.e. protocol version) functions.

2005-03-16  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      configure.in
      configure.in
      scripts/php-config.in
      scripts/php-config.in:
      MFH: - Remove these relics from era when TSRM was optional.

    * configure.in
      scripts/php-config.in:
      - Remove these relics from era when TSRM was optional.

2005-03-16  Wez Furlong  <wez.php@thebrainroom.net>

    * (PHP_5_0)
      ZendEngine2/zend_API.c:
      MFH: don't call rshutdown twice for dl()'d modules.

    * ZendEngine2/zend_API.c:
      don't call rshutdown twice for dl()'d modules.
      Spotted by Andrei.

2005-03-15  Wez Furlong  <wez.php@thebrainroom.net>

    * ZendEngine2/zend.c
      ZendEngine2/zend_API.c
      ZendEngine2/zend_modules.h:
      fix shutdown so that dl()'d modules are unloaded after all the dtors have
      been called.

2005-03-15  Andrei Zmievski  <andrei@gravitonic.com>

    * sapi/cli/php_cli.c:
      Make it possible to load shared extensions from command line via
      -dextension= mechanism.

2005-03-15  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/sqlite/pdo_sqlite2.c:
      remove debuging code

    * ext/sqlite/sqlite.c:
      I'm a PECL citizen; even though I am HEAD of pecl/sqlite, don't assume that
      I
      am being built against HEAD of php-src.

2005-03-15  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      Zend/zend_operators.h:
      Fixed duplicate zend_strtod.h inclusion.

    * (PHP_4_3)
      ext/openssl/openssl.c
      ext/openssl/openssl.c:
      MFH: Fixed possible usage of str without being initialized.

    * ext/openssl/openssl.c:
      Fixed possible usage of str without being initialized.

2005-03-15  Greg Beaver  <greg@chiaraquartet.net>

    * (PHP_4_3)
      pear/go-pear-list.php:
      add go-pear-list (probably won't do anything, but it's worth a try)

2005-03-14  Greg Beaver  <greg@chiaraquartet.net>

    * pear/go-pear-list.php
      pear/go-pear-list.php:
      
      this needs updating

2005-03-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * configure.in:
      - Fixed bug #32200 (prevent using both --with-apxs2 and --with-apxs2filter)

    * (PHP_4_3)
      NEWS
      ext/openssl/openssl.c
      ext/openssl/openssl.c:
      MFH: - Fixed bug #18613 (Multiple OUs in x509 certificate not handled
      properly)

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/openssl/openssl.c:
      - Fixed bug #18613 (Multiple OUs in x509 certificate not handled properly)

2005-03-14  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * main/SAPI.c
      main/SAPI.h
      sapi/aolserver/aolserver.c
      sapi/apache/mod_php5.c
      sapi/apache2filter/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c
      sapi/apache_hooks/mod_php5.c
      sapi/cgi/cgi_main.c
      sapi/thttpd/thttpd.c
      sapi/tux/php_tux.c:
      Fix for bug #32263
      This adds proto_num to request_info.  It is defaulted to HTTP 1.0 (1000)
      such that it has a valid value even if the underlying sapi doesn't set it
      correctly.  It is then used to determine if a 302 or a 303 should be sent
      on a Location redirect.  Any non GET/HEAD HTTP 1.1 redirect will get a 303
      instead of a 302 to be compatible with the HTTP spec.

2005-03-14  Zeev Suraski  <zeev@zend.com>

    * ZendEngine2/zend_ini.c:
      Clarify logic

    * win32/registry.c:
      Merge registry fix

    * (PHP_4_3)
      win32/registry.c:
      Fix an age old bug in parsing paths when reading
      INI values from the registry

2005-03-14  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      ext/session/session.c:
      NetWare specific stat structure changes

    * (PHP_5_0)
      main/php.h:
      PHP_OS and PHP_UNAME for NetWare are getting populated from the
      ph_config.h(configure.in)

    * (PHP_5_0)
      configure.in:
      For cross compiler uname's output while running on build machine can not be
      stored in PHP_OS and PHP_UNAME

2005-03-14  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_builtin_functions.c:
      ws

2005-03-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      ext/curl/curl.c:
      MFH: - Fixed bug #30609 (cURL functions bypass open_basedir)

    * (PHP_5_0)
      NEWS
      ext/curl/interface.c
      ext/curl/interface.c:
      - Fixed bug #30609 (cURL functions bypass open_basedir)

2005-03-14  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      NEWS:
      RC1

2005-03-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS:
      -sigh*

2005-03-14  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * ext/xml/tests/bug32001.phpt
      ext/xml/tests/bug32001.phpt:
      - Turn off incorrect case folding to let test over.

2005-03-13  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      configure.in
      main/php_version.h:
      Back to dev.

    * (PHP_4_3)
      NEWS
      configure.in
      main/php_version.h:
      4.3.11RC1

2005-03-13  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      configure.in
      main/php_version.h:
      Prepare to roll 5.0.4RC1

2005-03-13  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/zend_stream.c
      ZendEngine2/zend_stream.c:
      Do not convert ZEND_HANDLE_FP to ZEND_HANDLE_STREAM but allow using
      reader/closer
      on it

2005-03-13  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/streamsfuncs.c:
      Fixed compiler warning.

2005-03-13  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_interfaces.c:
      - More exact signatures (even though complete correct not possible atm)

2005-03-13  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_builtin_functions.c:
      Fix get_extension_funcs() - extension names are now lowercased, so should
      be function arguments.

2005-03-13  Andrey Hristov  <php@hristov.com>

    * NEWS:
      credits to Ilia

2005-03-13  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS:
      - BFN

    * ZendEngine2/zend_execute_API.c:
      - Actually this is a much better error decription

    * ZendEngine2/zend_execute_API.c
      ZendEngine2/tests/bug32290.phpt
      ZendEngine2/tests/bug32290.phpt:
      - Bugfix #32290

2005-03-12  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h:
      - If an exception is pending we don't bail out but show the unhandled
      exception

2005-03-12  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/string.c
      ext/standard/tests/strings/str_word_count.phpt:
      A more performance friendly version of Andrey's patch.

2005-03-12  Andrey Hristov  <php@hristov.com>

    * NEWS:
      FRN

    * ext/standard/string.c
      ext/standard/tests/strings/str_word_count.phpt:
      added an optional third parameter to str_word_count(), which is used as
      a list of characters which are considerd "is_alpha()". Thus V14GR4 can
      be extracted as one word if the user supplies "14" as charlist.
      FR #31560

2005-03-12  Wez Furlong  <wez.php@thebrainroom.net>

    * sapi/cli/php_cli.c:
      it's 2005 already

2005-03-12  Andrey Hristov  <php@hristov.com>

    * ext/standard/string.c:
      - type is either 1 or 2 if second parameter is set. if not set then type
      is 0.
      - use the lvalue for the second rvalue

    * ext/standard/tests/strings/str_word_count.phpt:
      add a test file

    * ext/pcre/tests/pcre_count.phpt:
      add test

    * NEWS
      ext/pcre/php_pcre.c
      ext/pcre/php_pcre.h
      main/SAPI.c
      win32/sendmail.c:
      FR 32275 - fifth parameter to preg_replace() to count number of replaces
      made.

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/standard/array.c
      ext/standard/array.c:
      Fixed #30871

2005-03-12  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/wddx/tests/wddx.xml:
      - Fix test

    * ext/wddx/wddx.c:
      - Fix another memleak

    * ext/wddx/wddx.c:
      - Fix memleak

2005-03-12  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/sqlite/config.w32:
      build sqlite2 pdo driver on win32

2005-03-12  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/sqlite/pdo_sqlite2.c:
      - Errcode might be empty

2005-03-12  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/sqlite/pdo_sqlite2.c:
      Fix crappy whitespace

2005-03-11  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/sqlite/config.m4
      ext/sqlite/config.w32
      ext/sqlite/pdo_sqlite2.c
      ext/sqlite/sqlite.c:
      Implement a PDO driver for sqlite 2

2005-03-11  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      main/streams/userspace.c:
      removing redundant CLIB_STAT_PATCH

    * (PHP_5_0)
      ext/standard/filestat.c:
      removing redundant NEW_LIBC checks
      In NetWare statfs f_bavail member is known as f_bfree
      NetWare LibC has pwd.h

    * (PHP_5_0)
      ext/standard/file.c:
      NetWare LibC has pwd.h and removing redundant CLIB_STAT_PATCH

    * (PHP_5_0)
      TSRM/TSRM.c:
      NetWare has a proper pthreads support

    * (PHP_5_0)
      TSRM/TSRM.h:
      NetWare can make use autoconf generated tsrm_config.h

    * (PHP_5_0)
      TSRM/tsrm_virtual_cwd.c
      TSRM/tsrm_virtual_cwd.h:
      NetWare LibC has lstat

    * (PHP_5_0)
      TSRM/tsrm_config_common.h:
      Netware can make use of autoconf generated tsrm_config.h

    * (PHP_5_0)
      sapi/cli/php_getopt.h:
      As NetWare LibC has optind and optarg macros defined in unistd.h our local
      variables were getting mistakenly preprocessed so undeffing optind and
      optarg

    * (PHP_5_0)
      configure.in:
      NetWare don't have sendmail binary so need this sendmail.c smarthost
      implementation

    * (PHP_5_0)
      netware/sendmail_nw.h:
      changing the windows style directory  seperator in netinet\in.h to
      netinet/in.h

    * (PHP_5_0)
      win32/sendmail.c:
      time.h is available in NetWare LibC.
      path sperator has been changed from \ to / while including
      netware\sendmail_nw.h

    * (PHP_5_0)
      ext/standard/datetime.c:
      removed redundant NEW_LIBC checks for NetWare

    * (PHP_5_0)
      ext/standard/proc_open.c:
      In NetWare LibC WTERMSIG is avaliable as WIFTERMSIG

    * (PHP_5_0)
      ext/standard/link.c
      main/fopen_wrappers.c:
      NetWare LibC has pwd.h

    * (PHP_5_0)
      main/php_open_temporary_file.c:
      Netware LibC has mkstemp

    * (PHP_5_0)
      main/network.c:
      removed NetWare specific NEW_LIBC checks

    * (PHP_5_0)
      main/php_scandir.c:
      NetWare LibC does not have search.h

    * (PHP_5_0)
      ZendEngine2/acconfig.h:
      NetWare LibC's sys/types.h does not include sys/select.h implicitly as it
      is the case with Linux LibC

2005-03-11  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/tests/bug32252.phpt:
      - Add new test

    * ZendEngine2/tests/bug27145.phpt
      ZendEngine2/tests/bug27145.phpt:
      - Irrelevant

    * (PHP_5_0)
      NEWS
      ext/xml/xml.c:
      - Bugfix #30266

    * ext/xml/xml.c:
      - Fix #30266

    * ZendEngine2/zend_object_handlers.c:
      - Don't touch refcount/is_ref

    * ext/standard/tests/serialize/bug31402.phpt:
      - Times have changed - php 5 relevant version now

    * ext/standard/array.c
      ext/standard/streamsfuncs.c
      ext/standard/type.c:
      - Do not touch return_valu's refcount or is_ref

    * ext/standard/tests/serialize/bug31402.phpt:
      - Allow to work under php 5

2005-03-10  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/string.c:
      - Cosmetics

    * ext/standard/string.c:
      - Do not touch return_valu's refcount or is_ref

2005-03-10  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/ftp/ftp.c
      ext/ftp/php_ftp.c:
      Final set of fixes for bug #27633.
      

2005-03-10  Rob Richards  <rrichards@ctindustries.net>

    * acinclude.m4:
      require libxml 2.6.0 or higher

2005-03-10  Zeev Suraski  <zeev@zend.com>

    * ext/standard/basic_functions.c:
      Oops, revert.

    * ext/standard/basic_functions.c:
      Fix prototype

2005-03-10  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * run-tests2.php
      server-tests.php
      server-tests.php
      server-tests.php:
      - Rename test script

    * run-tests2.php:
      - Make this work under 5

2005-03-10  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      main/php_compat.h:
      NetWare can use of ./configure generated php_config.h

    * (PHP_5_0)
      ext/standard/ftp_fopen_wrapper.c:
      NetWare Specific stat member changes

2005-03-10  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/tests/bug28442.phpt
      ZendEngine2/tests/bug28442.phpt:
      
      - Bugfix #28442

    * ZendEngine2/zend_compile.c:
      - Bugfix #28442

2005-03-10  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      ext/standard/pageinfo.c:
      NetWare LibC has pwd.h and removing the redundant NEW_LIBC checks

    * (PHP_5_0)
      ext/standard/pack.c
      ext/standard/rand.c:
      NetWare LibC has pwd.h

    * (PHP_5_0)
      ext/standard/basic_functions.c:
      NetWare LibC has netdb.h

    * (PHP_5_0)
      ext/session/mod_files.c:
      NetWare stat structure difference has been handled

2005-03-10  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      sapi/apache2handler/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c:
      MFH: - Fixed bug #31717: Reject PATH_INFO if "AcceptPathInfo off" is used.

2005-03-10  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      ZendEngine2/acconfig.h:
      Autoconf based build can be used for NetWare

    * (PHP_5_0)
      main/php.h:
      NetWare LibC has param.h and pwd.h

    * (PHP_5_0)
      ZendEngine2/zend.h:
      NetWare can make use of ./configure generated zend_config.h

2005-03-10  Joe Orton  <jorton@redhat.com>

    * ext/standard/html.c:
      Fix /*-within-comment warning from GCC.

    * sapi/apache2handler/sapi_apache2.c:
      - Fixed bug #31717: Reject PATH_INFO if "AcceptPathInfo off" is used.

2005-03-10  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      TSRM/threads.m4:
      This fix is needed for cross compilation to go through

    * (PHP_5_0)
      ZendEngine2/Zend.m4:
      This patch is needed for cross compilation to go through

2005-03-10  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_vm_execute.h:
      - #31562 2nd part

    * ZendEngine2/zend_vm_def.h:
      - Fix #31562

    * (PHP_4_3)
      NEWS
      NEWS
      NEWS
      NEWS:
      - BFN

    * ext/standard/var_unserializer.c:
      - Wrong order of action - touch

    * ext/standard/var_unserializer.re:
      - Fix #31442 unserialize broken on 64-bit systems
      - Fix one warning

2005-03-09  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/var_unserializer.c:
      - Fix #31442 unserialize broken on 64-bit systems
      - Fix one warning

2005-03-09  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/ftp/ftp.c:
      Fixes to ascii downloads on win32.

2005-03-09  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * (PHP_4_3)
      Zend/zend_language_scanner.l:
      fixed #31987: possible zend-multibyte crash in ZTS.

2005-03-09  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      NEWS
      ext/standard/html.c
      ext/standard/html.c:
      - MF43: Fixed bug #28067 (partially incorrect utf8 to htmlentities
      mapping).

    * (PHP_4_3)
      NEWS
      ext/standard/html.c:
      - Fixed bug #28067 (partially incorrect utf8 to htmlentities mapping).
      (Derick,
        Benjamin Greiner)

2005-03-09  Magnus M‰‰tt‰  <novell@kiruna.se>

    * run-tests.php:
      Since in_array is case sensitive we need to convert the names to lowercase
      otherwise it won't run tests for extensions where the case of the name
      differ from the
      extension name.

2005-03-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * main/main.c
      main/php.h:
      This makes more sense. (Someone might actually use php_error_docref0() :)

2005-03-08  Johannes Schl¸ter  <schlueter@phpbar.de>

    * (PHP_5_0)
      NEWS:
      - BFN

2005-03-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * main/php.h:
      - This was not needed (said Marcus)

2005-03-08  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/html.c:
      Improve the performance of htmlspecialchars_decode() by 20-30%.

2005-03-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/standard/var_unserializer.c:
      update

    * NEWS:
      reorder

2005-03-07  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * NEWS:
      - Add some more news

    * tests/classes/serialize_001.phpt:
      - Add test

    * ext/standard/var_unserializer.re:
      - Update signature

    * ZendEngine2/zend.h
      ZendEngine2/zend_compile.c
      ZendEngine2/zend_interfaces.c
      ZendEngine2/zend_interfaces.h:
      - New Interface Serializeable
      - Change signature of unserialize() callback to ease inheritance and
        support code reuse of handlers

    * ext/standard/file.c:
      - Fix proto
      - Do not try to write zero bytes

    * ext/standard/file.c:
      - Length needs to be positive

    * ext/standard/file.c:
      - Make maic qutes runtime work if length is specified too

    * ext/standard/file.c:
      - Delay memory allocation, speeds up faiure case

2005-03-07  Ilia Alshanetsky  <ilia@prohost.org>

    * NEWS
      ext/standard/basic_functions.c
      ext/standard/html.c
      ext/standard/html.h:
      Added htmlspecialchars_decode() function for fast conversion from
      htmlspecialchars() generated entities back to characters.

2005-03-07  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/tests/bug32226.phpt
      ZendEngine2/tests/bug32226.phpt:
      
      - Add updated description

    * ZendEngine2/zend_builtin_functions.c
      ZendEngine2/tests/bug32226.phpt:
      - Fix #32226

2005-03-07  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      RBFN

2005-03-07  Zeev Suraski  <zeev@zend.com>

    * (PHP_4_3)
      tests/basic/bug31672.phpt:
      Remove test case for a Won't Fix bug

    * (PHP_4_3)
      Zend/zend_language_scanner.l
      ZendEngine2/zend_language_scanner.l
      ZendEngine2/zend_language_scanner.l:
      Revert // </script> patch

2005-03-07  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/standard/proc_open.c
      ext/standard/proc_open.c:
      Fixed bug #32210 (proc_get_status() sets "running" always to true).

2005-03-07  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * tests/classes/__set__get_005.phpt:
      - Add new test

    * (PHP_5_0)
      ext/standard/file.c:
      - MFH Allow length 0 as default (e.g. skip param)

    * ext/standard/file.c:
      - Allow length 0 as default (e.g. skip param)

2005-03-06  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * sapi/cgi/config9.m4
      sapi/cgi/config9.m4:
      MFB: Fix VPATH build

2005-03-06  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/image.c:
      - Actuall the comments were correct

    * ZendEngine2/zend_reflection_api.c:
      - Fix by Tim

    * ext/mysqli/mysqli.c:
      - Bugfix #28840 __destruct of a class that extends mysqli not called

2005-03-06  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      ext/standard/html.c:
      MFH: Make html_entity_decode() 15-20% faster by avoiding pointless string
      duplication.

    * ext/standard/html.c:
      Make html_entity_decode() 15-20% faster by avoiding pointless string
      duplication.

2005-03-06  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS
      ext/fam/.cvsignore
      ext/fam/CREDITS
      ext/fam/config.m4
      ext/fam/fam.c
      ext/fam/package.xml
      ext/fam/php_fam.h
      ext/mnogosearch/.cvsignore
      ext/mnogosearch/CREDITS
      ext/mnogosearch/README
      ext/mnogosearch/config.m4
      ext/mnogosearch/index.php
      ext/mnogosearch/php_mnogo.c
      ext/mnogosearch/php_mnogo.h:
      - Moved ext/fam and ext/mnogosearch to PECL

2005-03-06  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/image.c
      ext/standard/image.c:
      MFH: Fixed bug #29424 (width and height inverted for JPEG2000 files).

    * ext/standard/image.c:
      Fixed bug #29424 (width and height inverted for JPEG2000 files).

2005-03-06  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.c:
      Fixed compile warning (bug #32046)

    * ZendEngine2/zend_mm.c:
      Fix compile warning (bug #32047)

2005-03-05  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      ext/exif/exif.c:
      wtf?

2005-03-05  John Coggeshall  <john@coggeshall.org>

    * ext/skeleton/tests/001.phpt:
      Opps.

2005-03-05  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      NEWS:
      - Make sure to note that this involves SOAP.

2005-03-05  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * NEWS
      main/SAPI.c
      main/php_content_types.c
      main/php_content_types.h:
      - Fixed bug #32109 ($_POST is not populated in multithreaded environment).

2005-03-05  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #32115 (dateTime encoding of timezone incorrect)

2005-03-05  John Coggeshall  <john@coggeshall.org>

    * ext/skeleton/tests/001.phpt:
      Starting tests....

2005-03-05  Andrei Zmievski  <andrei@gravitonic.com>

    * ext/standard/array.c:
      Check that object can actually return a class entry. I need this for a
      class-entry-less helper objects that should not be present in the class
      table.

2005-03-04  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * sapi/apache_hooks/config.m4:
      Merge from sapi/apache/config.m4 and cleanup

    * sapi/apache/config.m4:
      Do not set apache stuff if not building apache

    * acinclude.m4:
      This did not work for some reason, better revert it

    * scripts/phpize.m4:
      Add missing subst

2005-03-04  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      ext/mbstring/mb_gpc.c:
      Removed unused variables.

2005-03-03  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS:
      - BFN

2005-03-03  Johannes Schl¸ter  <schlueter@phpbar.de>

    * (PHP_4_3)
      ext/standard/incomplete_class.c:
      - Remove <b>-Tag from error message

2005-03-03  Zeev Suraski  <zeev@zend.com>

    * main/logos.h:
      New egg

2005-03-03  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/file.c
      ext/standard/file.c:
      MFH: Fixed bug #32160 (file truncation in copy() when source & destination
      are
      the same).

    * ext/standard/file.c:
      Fixed bug #32160 (file truncation in copy() when source & destination are
      the same).

2005-03-02  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      sapi/cli/php.1.in:
      typofix

2005-03-02  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * ext/xml/tests/bug32001.phpt
      ext/xml/tests/bug32001.phpt:
      
      - Add testcases for bug #32001

2005-03-02  Rob Richards  <rrichards@ctindustries.net>

    * NEWS
      NEWS:
      BFN

    * ext/xsl/php_xsl.c
      ext/xsl/php_xsl.h
      ext/xsl/xsltprocessor.c:
      Fixed bug #31033 (php:function(string, nodeset) with xsl:key crashes PHP)
       - only in 5.1 branch for now due to significance of change

2005-03-02  Stefan Esser  <sesser@suspekt.org>

    * ext/exif/exif.c:
      Fixed possible bufferoverflow

2005-03-02  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/xml/compat.c:
      MFH: Fixed bug #32001 (xml_parse_into_struct() exceeds maximum execution
      time)

    * ext/xml/compat.c:
      Fixed bug #32001 (xml_parse_into_struct() exceeds maximum execution time)

2005-03-01  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_interfaces.c:
      - Support statuc methods/functions

2005-03-01  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/var_unserializer.c:
      touch

2005-03-01  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/microtime.c
      ext/standard/microtime.c:
      MFH: Fixed bug #31792 (getrusage() does not provide ru_nswap value).

    * ext/standard/microtime.c:
      Fixed bug #31792 (getrusage() does not provide ru_nswap value).

2005-03-01  Andrei Zmievski  <andrei@gravitonic.com>

    * pear/Console/Getopt.php
      pear/Console/Getopt.php
      pear/Console/Getopt.php:
      Allow = sign in long option argument.
      Fixes PEAR bug #1831.

2005-03-01  Anantha Kesari H Y  <hyanantha@novell.com>

    * ext/standard/string.c
      ext/standard/string.c:
      NetWare allows directory seperator as \ and /

2005-03-01  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/image.c:
      Handle last or broken JP2 boxes correctly.

2005-03-01  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      ext/gmp/gmp.c:
      MFH: checks for negative values to gmp_sqrt(), gmp_powm(), gmp_sqrtrem()
      and gmp_fact() to prevent SIGFPE
      changed zend_error() to php_error_docref()

    * (PHP_5_0)
      NEWS
      ext/gmp/gmp.c:
      MFH: checks for negative values to gmp_sqrt(), gmp_powm(), gmp_sqrtrem()
      and gmp_fact() to prevent SIGFPE

    * ext/gmp/gmp.c:
      fix SIGFPE in gmp_powm(), gmp_sqrt() & gmp_sqrtrem() when using negative
      values
      do not allow negative value to be passed to gmp_fact()

2005-03-01  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/image.c:
      - MFB

    * (PHP_5_0)
      ext/standard/image.c:
      - Fix warning

    * (PHP_5_0)
      NEWS:
      - BFN

2005-03-01  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c:
      update

    * scripts/Makefile.frag:
      ws

    * (PHP_4_3)
      NEWS
      Zend/zend_language_scanner.l
      tests/basic/bug31672.phpt:
      MFH: - Fixed bug #31672 (</script> not considered closing tag if
      MFH:   preceded by one-line comment

    * tests/basic/bug31672.phpt
      tests/basic/bug31672.phpt
      tests/basic/bug31672.phpt:
        1.1.4;
      file bug31672.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_language_scanner.l:
      MFH: - Fixed bug #31672 (</script> not considered closing tag if
      MFH:   preceded by one-line comment)

    * ZendEngine2/zend_language_scanner.l:
      Fix the fix for one line comments with <script..> </script> tags

2005-03-01  Johannes Schl¸ter  <schlueter@phpbar.de>

    * php.ini-dist
      php.ini-recommended:
      - Change comment: Syntax highlighter uses <span> instead of <font>

2005-02-28  Ilia Alshanetsky  <ilia@prohost.org>

    * php.ini-dist
      php.ini-recommended:
      Added notes about ignore_user_abort to php.ini*

2005-02-28  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_builtin_functions.c:
      - Add support for methods dynamically added through object handlers

2005-02-28  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS:
      reorder

    * (PHP_5_0)
      NEWS:
      typo

2005-02-28  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/var_unserializer.re:
      This way around for correct error messages

    * ext/standard/var_unserializer.re:
      Drop invalid arrays

2005-02-28  Wez Furlong  <wez.php@thebrainroom.net>

    * scripts/Makefile.frag:
      Let's install the mbstring headers.
      Fixes PECL #3516

2005-02-28  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * acinclude.m4:
      - Fix typo

2005-02-27  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/simplexml/tests/016a.phpt
      ext/simplexml/tests/022.phpt:
      - Add tests

    * ZendEngine2/zend_object_handlers.c:
      - If silence if wanted we do not error out

    * ZendEngine2/zend_reflection_api.c:
      - Add two new methods
      - Fix signature, no need to cast it

    * ZendEngine2/zend_API.h:
      - These must be initailized

2005-02-27  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * TSRM/tsrm_virtual_cwd.c:
      Add a comment to remind me to have a look at this at some point.

2005-02-27  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/ftp_fopen_wrapper.c
      ext/standard/image.c:
      Fixed compiler warnings.

2005-02-27  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_builtin_functions.c:
      - Update method_exists to new handlers and allow first parameter as string

2005-02-27  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * main/main.c:
      cs fix (really annoying :)

    * acinclude.m4
      ZendEngine2/Zend.m4:
      - Cache the version check results

2005-02-27  Stanislav Malyshev  <stas@zend.com>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      fix typo

2005-02-27  Sara Golemon  <php@alphaweb.net>

    * ext/standard/info.c:
      Enum filters in phpinfo()

2005-02-26  Wez Furlong  <wez.php@thebrainroom.net>

    * run-tests.php:
      let the test-suite run from an alternate build dir

2005-02-26  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/dba/config.m4:
      - Make detection work for macros

    * ext/dba/dba_db1.c:
      - Simplify

2005-02-26  Greg Beaver  <greg@chiaraquartet.net>

    * pear/go-pear-list.php:
      use 1.3.5

2005-02-26  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/dba/config.w32:
      - Prepare for db1.85 emulation with db3

2005-02-25  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/dba/config.m4
      ext/dba/dba.c
      ext/dba/dba_db1.c
      ext/dba/php_db1.h
      ext/dba/tests/dba_db1.phpt:
      - Add support for db1 through emulation

2005-02-25  Frank M. Kromann  <frank@kromann.info>

    * (PHP_5_0)
      ext/mssql/php_mssql.c:
      MFH: FreeTDS does not have support for DBTEXTLIMIT

    * ext/mssql/php_mssql.c
      ext/mssql/php_mssql.c:
      FreeTDS does not have support for DBTEXTLIMIT

2005-02-25  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_4_3)
      NEWS
      ext/domxml/php_domxml.c:
      no message

2005-02-25  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/dba/config.m4:
      - Align

2005-02-25  Antony Dovgal  <tony2001@phpclub.net>

    * ext/oci8/config.m4:
      fix bug preventing from building oci8 as shared module
      (patch by stanislav dot voroniy at portavita dot nl)

2005-02-25  Georg Richter  <georg@mysql.com>

    * ext/mysqli/tests/bug30967.phpt
      ext/mysqli/tests/bug30967.phpt:
      fix for bug #31939

2005-02-25  Anantha Kesari H Y  <hyanantha@novell.com>

    * netware/sendmail_nw.h:
      changing the windows style path seperator in netinet\in.h to netinet/in.h

    * win32/sendmail.c:
      time.h is available in NetWare LibC.
      path sperator has been changed from \ to / while including
      netware\sendmail_nw.h

2005-02-25  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/exif/config.w32:
      - Change to enable (synch with unix build system)

2005-02-24  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli_nonapi.c:
      MFH: Fixed bug #32081 (default socket value is not being used).

    * ext/mysqli/mysqli_nonapi.c:
      Fixed bug #32081 (default socket value is not being used).

2005-02-24  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/image.c:
      - Little speed up

    * ext/standard/image.c:
      - This must be == 1

2005-02-24  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * acinclude.m4
      configure.in
      ext/iconv/config.m4:
      - Fixed all buildconf warnings + cross-compiling issues

2005-02-24  Andi Gutmans  <andi@zend.com>

    * ZendEngine2/zend_language_scanner.l:
      - Make one line comments work the same with <script ...> </script> as with
      - other tags. This will break scripts that have whitespace at the end
      - of the closing tag </script    > but this is barely used as it is
      - and I doubt ppl used whitespace. (patch by Jani)

2005-02-24  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * TSRM/threads.m4:
      - cross-compile fix

2005-02-24  Andi Gutmans  <andi@zend.com>

    * ZendEngine2/zend_objects_API.h:
      - This part of the patch was right

2005-02-24  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * acinclude.m4
      configure.in
      scripts/phpize.m4:
      - Restructured and added a few comments here and there.
      - Made macros of couple of tests previously littering configure.in
        (e.g. PHP_PROG_AWK, PHP_PROG_LEX, PHP_PROG_BISON..)
      - Moved all PHP_SUBST() calls into their respective macros.
        (no point adding empty entries in Makefile if macro is not used)

    * ext/standard/var_unserializer.c:
      - Generated with re2c 0.9.4

2005-02-24  Stanislav Malyshev  <stas@zend.com>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      fix typo

2005-02-24  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h:
      Fixed bug in ZEND_POST_INC/ZEND_POST_DEC handlers.
      These opcodes assume IS_TMP_VAR as result.

2005-02-24  Andi Gutmans  <andi@zend.com>

    * ZendEngine2/zend_modules.h:
      - Need zend_Compile.h for struct _zend_arg_info  definiton (thanks to Joe
      Orton)

    * main/streams/mmap.c:
      - Fix comment

    * ZendEngine2/zend_objects.c
      ZendEngine2/zend_objects.h
      ZendEngine2/zend_objects_API.h:
      - Revert following patch until we decide what is the right way to handle
      - this:
       - Fix signatures they are all meant to be able to deal with any type in
      any
          object storage (though we are still missing several parts)

2005-02-24  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/image.c:
      - Prevent superflous memory allocation

2005-02-23  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/image.c:
      Additional safety checks.

2005-02-23  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/image.c:
      - Slightly redesign

2005-02-23  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      main/streams/mmap.c:
      MFH: Increase maximum mmapable file size to 2mb from 1mb.

    * main/streams/mmap.c:
      Increase maximum mmapable file size to 2mb from 1mb.

    * (PHP_4_3)
      TODO_SEGFAULTS:
      pack() issues were resolved.

2005-02-23  Ard Biesheuvel  <a.k.biesheuvel@ewi.tudelft.nl>

    * ext/interbase/interbase.c:
      Fixed bug #31597: ibase_connect() - incorrect warning

2005-02-23  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/dir.c:
      Fixed compiler warning.

    * (PHP_5_0)
      ext/bz2/bz2.c:
      MFB_4_3: Fixed bug #29521 (compress.bzip2 returns error when used with http
      wrapper)

    * ext/bz2/bz2.c:
      MFB_4_3: Fixed bug #29521 (compress.bzip2 returns error when used with http
      wrapper).

2005-02-23  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      Correcting bounds check before someone uses this code

2005-02-23  Derick Rethans  <php@derickrethans.nl>

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_reflection_api.c:
      - MFH: fixed bug #32076 (ReflectionMethod :: isDestructor() always return
        true).

    * ZendEngine2/zend_reflection_api.c:
      - Fixed bug #32076 (ReflectionMethod :: isDestructor() always return true)
        (Patch by Antony Dogval)

2005-02-23  Stanislav Malyshev  <stas@zend.com>

    * ext/standard/var.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      Custom object serializer infrastructure - PHP implementation

    * ZendEngine2/zend.h
      ZendEngine2/zend_compile.c:
      Custom object serializer infrastructure

2005-02-23  Anantha Kesari H Y  <hyanantha@novell.com>

    * main/php_syslog.h:
      NetWare can make use of Autoconf generated header file

    * main/php_open_temporary_file.c:
      NetWare LibC has mkstemp implementation

    * main/php_compat.h:
      NetWare can make use autoconf generated header file

    * main/fopen_wrappers.c:
      NetWare LibC has pwd.h

2005-02-23  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ZendEngine2/Zend.m4:
      Hack the planet

2005-02-23  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * run-tests.php:
      - Use PHP not C semantics

    * ZendEngine2/zend_interfaces.c:
      - Allow to convert Traversable into Aggregate

2005-02-22  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/mysql/php_mysql.c
      ext/mysql/php_mysql.c:
      MFH: Fixed bug #31288 (Possible crash in mysql_fetch_field(), if
      mysql_list_fields() was not called previously).

    * ext/mysql/php_mysql.c:
      Fixed bug #31288 (Possible crash in mysql_fetch_field(), if
      mysql_list_fields() was not called previously).

2005-02-22  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_objects_API.c:
      - We cannot provide this fallback becuase it requires zend_object ptr's.

2005-02-22  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      main/SAPI.c
      main/SAPI.c:
      MFH: nuke unused variables when PCRE is not compiled statically into PHP

    * ZendEngine2/Zend.m4:
      Fix cross-compile

    * ZendEngine2/acconfig.h:
      Fix build (it was #ifNdef NETWARE..)

2005-02-22  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_objects.c
      ZendEngine2/zend_objects.h
      ZendEngine2/zend_objects_API.h:
      - Fix signatures they are all meant to be able to deal with any type in any
        object storage (though we are still missing several parts)

    * ZendEngine2/zend_objects_API.c:
      - Force calling of dtors unless otherwise specified (fixes several
      __destruct bugs)

2005-02-22  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      NEWS:
      - MFH: fix bug #32063 (mb_convert_encoding ignores named entity 'alpha')

    * (PHP_5_0)
      NEWS:
      - One more entry to go.

    * (PHP_5_0)
      NEWS:
      - Reorder.

    * (PHP_5_0)
      NEWS:
      - MFH: fix bug #32063 (mb_convert_encoding() ignores named entity 'alpha')

2005-02-22  Anantha Kesari H Y  <hyanantha@novell.com>

    * ZendEngine2/zend.h:
      NetWare can include autoconf generated config headers

    * ZendEngine2/acconfig.h:
      NetWare can make use of the configure script generated header file.

    * TSRM/tsrm_config.nw.h:
      NetWare can use Autoconf based build system.

2005-02-22  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * main/SAPI.c:
      - Silly typo.

2005-02-22  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      NEWS
      ext/standard/dir.c
      main/php_streams.h
      main/streams/streams.c:
      MFH: Fixed bug #31515 (Improve performance of scandir() by factor of 10 or
      so).

    * ext/standard/dir.c
      main/php_streams.h
      main/streams/streams.c:
      Fixed bug #31515 (Improve performance of scandir() by factor of 10 or so).

2005-02-21  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_5_0)
      ext/mysqli/tests/skipif.inc:
      Added missing skipif.inc (bug #31940)

    * main/SAPI.c:
      Nuke unused variables when PCRE is not compiled in

    * main/SAPI.c:
      Remove the useless TSRM_FETCH calls

2005-02-21  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * NEWS
      NEWS:
      - BFN

    * ext/mbstring/mbstring.c
      ext/mbstring/mbstring.c:
      - WS fix.

    * ext/mbstring/mb_gpc.c
      ext/mbstring/mbstring.c
      main/SAPI.c
      main/SAPI.h
      main/main.c
      main/php_content_types.c
      main/php_content_types.h:
      - Fix bug #28568 (known_post_content_types is not thread safe).

    * ZendEngine2/Makefile.am:
      - Add missing entry.

2005-02-21  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      Zend/zend_execute.c:
      fix overloaded objects via TMP_VAR

    * (PHP_4_3)
      main/SAPI.c:
      packport fix from PHP5: read post data if they wreen't read

2005-02-21  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS
      ext/mbstring/php_mbregex.c:
      - MFH: fix bug #30868 (evaluated pointer comparison in mbregex causes
      compile
        failure).

    * ext/mbstring/php_mbregex.c:
      - Fix bug #30868 (evaluated pointer comparison in mbregex causes compile
        failure).

    * (PHP_4_3)
      NEWS:
      - MFH: fix bug #30573 (compiler warning due to invalid type cast).

2005-02-21  Anantha Kesari H Y  <hyanantha@novell.com>

    * TSRM/tsrm_virtual_cwd.h:
      NetWare LibC has lstat implementation

    * TSRM/tsrm_config_common.h:
      NetWare can make use of autogenerated config header file

    * TSRM/TSRM.c:
      NetWare has pthreads implementation

    * TSRM/TSRM.h:
      NetWare can use the tsrm_config.h

    * TSRM/tsrm_virtual_cwd.c:
      NetWare LibC has a lstat implementation

    * ext/standard/proc_open.c:
      In NetWare LibC WTERMSIG is avaliable as WIFTERMSIG

2005-02-21  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS:
      - MFH: fix bug #29989 (type re_registers redefined in oniguruma.h)

2005-02-21  Anantha Kesari H Y  <hyanantha@novell.com>

    * ext/standard/pageinfo.c:
      NetWare LibC has pwd.h. Removed unwanted extern basic_globals_id
      declaration for Netware.

    * ext/standard/pack.c:
      NetWare has pwd.h and removed unwanted check on NEW_LIBC while including
      param.h

    * ext/standard/link.c:
      NetWare LibC has pwd.h

    * ext/standard/filestat.c:
      In NetWare statfs f_bavail member is known as f_bfree

2005-02-21  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * ext/mbstring/mbstring.c:
      - Fix compiler warnings.

    * (PHP_4_3)
      ext/mbstring/tests/bug28220.phpt
      ext/mbstring/tests/bug30549.phpt
      ext/mbstring/tests/bug31911.phpt:
      - MFH: add testcases for bug #28220, #30549 and #31911.

    * (PHP_5_0)
      ext/mbstring/tests/bug28220.phpt
      ext/mbstring/tests/bug30549.phpt:
      - MFH: add testcases for bug #28220 and #30549.

    * ext/mbstring/tests/bug28220.phpt
      ext/mbstring/tests/bug30549.phpt:
        1.1.4;
      - Add testcases for bug #28220 and #30549.

    * (PHP_4_3)
      NEWS
      ext/mbstring/config.m4:
      - Upgrade libmbfl (fixers bug #28220, #30549 and #31911).

2005-02-21  Greg Beaver  <greg@chiaraquartet.net>

    * (PHP_5_0)
      pear/go-pear-list.php:
      upgrade to PEAR 1.3.5

2005-02-20  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS:
      - BFN & some

    * (PHP_5_0)
      ext/mbstring/config.m4
      ext/mbstring/config.w32
      ext/mbstring/php_mbregex.c
      ext/mbstring/tests/bug31911.phpt:
      - MFH: Update libmbfl
      - MFH: Update oniguruma to 3.7.0.

    * ext/mbstring/tests/bug31911.phpt:
      
      - Update libmbfl (fixes bug #30549 and #31911).
      - Update oniguruma to 3.7.0

    * ext/mbstring/config.m4
      ext/mbstring/config.w32
      ext/mbstring/php_mbregex.c:
      - Update libmbfl (fixes bug #30549 and #31911).
      - Update oniguruma to 3.7.0

2005-02-20  Rob Richards  <rrichards@ctindustries.net>

    * ext/dom/domexception.c
      ext/dom/php_dom.h:
      use new error handling when not throwing exceptions

2005-02-20  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/imap/php_imap.c:
      Simplify Code.

2005-02-20  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_compile.c:
      Fixed possible memory corruption

2005-02-19  Rui Hirokawa  <rui_hirokawa@ybb.ne.jp>

    * (PHP_5_0)
      ZendEngine2/zend_language_scanner.l:
      MFH: fixed #31987 zend-multibyte in ZTS.

    * ZendEngine2/zend_language_scanner.l:
      fixed #31987 zend-multibyte in ZTS.

2005-02-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/sqlite/tests/sqlite_oo_031.phpt
      ext/sqlite/tests/sqlite_oo_032.phpt
      ext/sqlite/tests/sqlite_spl_001.phpt
      ext/sqlite/tests/sqlite_spl_002.phpt
      ext/sqlite/tests/sqlite_spl_003.phpt:
      - Regroup and add a test

2005-02-18  Derick Rethans  <php@derickrethans.nl>

    * (PHP_4_3)
      ext/standard/tests/array/bug32021.phpt:
      - Added test case for bug #32021.

    * (PHP_5_0)
      NEWS
      ext/standard/array.c
      ext/standard/tests/array/bug32021.phpt:
      - MFH: Fixed bug #32021: Crash caused by range('', 'z')

    * ext/standard/array.c:
      - Fixed bug #32021: Crash caused by range('', 'z')

    * ext/standard/tests/array/bug32021.phpt:
        1.1.4;
      - Fixed bug #32021: Crash caused by range('', 'z')

2005-02-18  Rob Richards  <rrichards@ctindustries.net>

    * ext/dom/documentfragment.c:
      Fragment must have associated document to append xml otherwise it is
      read-only

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/dom/node.c:
      MFH: Fixed bug #32011 (Fragments which replaced Nodes are not globaly
      useable)

    * ext/dom/node.c:
      Fixed bug #32011 (Fragments which replaced Nodes are not globaly useable)

2005-02-17  Andi Gutmans  <andi@zend.com>

    * (PHP_5_0)
      NEWS:
      - Commit fix:
      - Fixed bug #31960 (msql_fetch_row() and msql_fetch_array() dropping
      columns
        with NULL values). (Daniel Convissor)

    * (PHP_4_3)
      NEWS:
      - Commit NEWS Entry for:
      - Fixed bug #31960 (msql_fetch_row() and msql_fetch_array() dropping
      columns
        with NULL values). (Daniel Convissor)

2005-02-17  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_API.c:
      - A little optimization to prevent problems when trying to reimplement an
        interface inherited from an interfaces that was just implemented......

    * ZendEngine2/zend_API.c:
      - No C++ ruleZ here

    * ZendEngine2/zend_API.c:
      - Actually we must do this in two steps: 1st resize the table and set all
        interfaces, 2nd implement the interfaces

    * ZendEngine2/zend_API.c:
      - Incrementation is done elsewhere

    * ZendEngine2/zend_API.c:
      - Fix windows build (funny MS compiler)

2005-02-17  Andi Gutmans  <andi@zend.com>

    * ext/msql/php_msql.c:
      - Fix Bug #31960: msql_fetch_row() and msql_fetch_array() dropping columns
      with NULL values

2005-02-17  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/ftp/ftp.c
      ext/ftp/ftp.c:
      MFH: Fixed bug #27633 (Double \r problem on ftp_get in ASCII mode on
      Win32).

    * ext/ftp/ftp.c:
      Fixed bug #27633 (Double \r\r problem on ftp_get in ASCII mode on Win32).

2005-02-17  Joe Orton  <jorton@redhat.com>

    * ext/xml/compat.c:
      Declare error_mapping array as static and more const.

2005-02-17  Anantha Kesari H Y  <hyanantha@novell.com>

    * ext/standard/filestat.c:
      NetWare LibC has pwd.h

    * ext/standard/file.c:
      NetWare libc has pwd.h

2005-02-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/openssl/openssl.c:
      ws/cs

2005-02-17  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/standard/credits.c:
      George too

    * ext/standard/credits.c
      ext/standard/credits_ext.h:
      ran ./scripts/dev/credits to update credits to reflect recent removals and
      additions.

2005-02-17  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      main/main.c:
      MFH: MFH: Fixed bug #31440 ($GLOBALS can be overwritten via GPC when
      register_globals is enabled).

    * (PHP_5_0)
      NEWS
      main/php_variables.c:
      MFH: Fixed bug #31440 ($GLOBALS can be overwritten via GPC when
      register_globals is enabled).

2005-02-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      Zend/Zend.m4
      Zend/zend_strtod.c
      ZendEngine2/Zend.m4
      ZendEngine2/zend_strtod.c:
      MFH: - Compile fix for systems without int32_t typedef

    * ZendEngine2/Zend.m4
      ZendEngine2/zend_strtod.c:
      - Compile fix for systems without int32_t typedef

2005-02-17  Ilia Alshanetsky  <ilia@prohost.org>

    * main/php_variables.c:
      Fixed bug #31440 ($GLOBALS can be overwritten via GPC when register_globals
      is enabled).

2005-02-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/pspell/config.m4
      ext/pspell/config.m4:
      MFH:- Fixed bug #29554 (compile failure when using
      --with-pspell=/usr/local)

    * ext/pspell/config.m4:
      - Fixed bug #29554 (compile failure when using --with-pspell=/usr/local)

2005-02-16  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/exif/exif.c:
      PHP_WIN32 is defined or not defined.

2005-02-16  Edin Kadribasic  <edink@emini.dk>

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/exif/exif.c:
      Enable mbstring use on windows. We were linking against mbstring for
      some time now, but have never actually used it on Windows.
      Fixes #31980.

2005-02-15  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/exif/exif.c
      ext/exif/exif.c:
      MFH: Fixed bug #31986 (Max nesting limit set too low).

    * ext/exif/exif.c:
      Fixed bug #31986 (Max nesting limit set too low).

2005-02-15  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/sqlite/config.m4
      ext/sqlite/config.w32
      ext/sqlite/sqlite.c
      ext/sqlite/tests/sqlite_oo_032.phpt:
      - SQLite depends on SPL if it is present
      - Add SQLiteResult::count()
      - SQLiteResult implements Countable if present

2005-02-15  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * config.guess
      config.sub
      ltmain.sh
      build/libtool.m4:
      - Applied some patches to fix issues with e.g. ia_64 and s390

    * ext/dom/config.m4:
      No tabs here

    * ext/xmlrpc/libxmlrpc/.cvsignore:
      Missing .libs entry

2005-02-15  Ilia Alshanetsky  <ilia@prohost.org>

    * main/rfc1867.c:
      Prune uploaded file names to \ on all OSes, read comments for explanation.

2005-02-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/sockets/sockets.c:
      - More sock->error resets

2005-02-14  Edin Kadribasic  <edink@emini.dk>

    * ext/pgsql/pgsql.c:
      ws fix

    * NEWS
      ext/pgsql/pgsql.c
      ext/pgsql/php_pgsql.h:
      Added pg_field_type_oid() function

    * ext/pgsql/config.w32:
      Added missing defines (#31751)

2005-02-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/sockets/sockets.c:
      Fix typo

    * (PHP_4_3)
      ext/sockets/sockets.c:
      MFH: - Removed duplicate error + reset error in new sockets

    * ext/sockets/sockets.c:
      - Removed duplicate error + reset error in new sockets

2005-02-14  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/var_unserializer.c:
      - Disallow illegal class names (.c part)

    * ext/standard/var_unserializer.re:
      - Disallow illegal class names

2005-02-14  Anantha Kesari H Y  <hyanantha@novell.com>

    * main/php.h:
      NetWare Libc has php.h so no need of having netware specific block here

2005-02-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_5_0)
      php.ini-dist
      php.ini-recommended
      ext/sockets/php_sockets.h:
      MFH: nuke unused code + non-existing ini option

    * php.ini-dist
      php.ini-recommended:
      Nuke non-existing ini option

    * ext/sockets/php_sockets.h:
      Nuke unused code

2005-02-13  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_execute_API.c
      ZendEngine2/zend_reflection_api.c:
      - Be more gracious in reflection API

2005-02-13  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/tests/general_functions/sunfuncts.phpt:
      Fixed test.

2005-02-13  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/session/mod_files.h
      ext/session/mod_mm.h
      ext/session/mod_user.h
      ext/session/php_session.h:
      - Missing $Id$ tags

    * (PHP_4_3)
      ext/session/session.c:
      MFH: - Added the alias session_commit() (more intuitive name for
      session_write_close())
      MFH: - Partial sync of the file by adding macro SESSION_CHECK_ACTIVE_STATE

2005-02-13  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_language_scanner.l:
      - Fix doc comment handling

2005-02-13  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/session/php_session.h:
      MFB_4_3: cvs diff -r1.84.2.5 -r1.84.2.6 php_session.h

2005-02-13  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/sqlite/config.m4:
      same fix here

2005-02-12  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/snmp/snmp.c:
      Missed one place..

    * ext/snmp/snmp.c:
      This was not good idea.

    * (PHP_4_3)
      NEWS
      ext/sockets/config.m4
      ext/sockets/php_sockets_win.h
      ext/sockets/sockets.c:
      - Fixed bug #31936 (set_h_errno() is redefined incompatibly)

    * ext/sockets/php_sockets_win.h
      ext/sockets/sockets.c:
      Remove unused set_h_errno

2005-02-12  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS
      tests/lang/bug30862.phpt:
      - BFN and add test

    * ZendEngine2/zend_execute_API.c:
      - Bugfix #30682 (autoconversion from false/true to 0/1 missing in case of
        static property default value)

2005-02-11  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_language_parser.y:
      - Cleanup foreach handling

2005-02-11  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      TSRM/TSRM.c
      TSRM/TSRM.h
      TSRM/tsrm_config.nw.h
      TSRM/tsrm_config_common.h
      TSRM/tsrm_nw.c
      TSRM/tsrm_nw.h
      TSRM/tsrm_virtual_cwd.c
      TSRM/tsrm_virtual_cwd.h
      TSRM/tsrm_win32.c
      TSRM/tsrm_win32.h:
      Revert

    * (PHP_4_3)
      NEWS
      sapi/cgi/cgi_main.c:
      Revert broken patch

    * (PHP_5_0)
      NEWS
      sapi/cgi/cgi_main.c:
      Revert this patch

    * sapi/cgi/cgi_main.c:
      Revert previous patch

2005-02-10  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/standard/array.c:
      MFH: fix segfault in array_walk when retval_ptr is empty
       - such as when exception thrown

    * ext/standard/array.c:
      fix segfault when retval_ptr is empty - such as when exception thrown

2005-02-10  Hartmut Holzgraefe  <hartmut@php-groupies.de>

    * ext/xml/tests/bug30266.phpt:
      test case for Bug #30266

2005-02-10  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      TSRM/TSRM.c
      TSRM/TSRM.h
      TSRM/tsrm_config.nw.h
      TSRM/tsrm_config_common.h
      TSRM/tsrm_nw.c
      TSRM/tsrm_nw.h
      TSRM/tsrm_virtual_cwd.c
      TSRM/tsrm_virtual_cwd.h
      TSRM/tsrm_win32.c
      TSRM/tsrm_win32.h:
      MFH: - Multiple fixes for nasty leaks in ZTS mode

    * configure.in
      configure.in
      configure.in
      Zend/zend_strtod.c
      ZendEngine2/zend_strtod.c
      ZendEngine2/zend_strtod.c:
      - Fixed bug #31920 (zend_strtod.c error: conflicting types for 'int8_t')

2005-02-10  Antony Dovgal  <tony2001@phpclub.net>

    * ext/session/session.c:
      hm..
      fix #28324 _properly_

    * ext/session/session.c:
      fix bug #28324 (HTTP_SESSION_VARS appear when register_long_arrays is Off)

2005-02-10  Pierre-Alain Joye  <pierre@dotgeek.org>

    * ext/standard/sunfuncs.c:
      - fix #30745 and #31853 (php-bugs at demark dot org, pierre)

2005-02-10  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/mbstring/mb_gpc.c
      ext/mbstring/mbstring.c:
      Removed unused vars.

2005-02-10  Dmitry Stogov  <dmitry@zend.com>

    * NEWS
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug30407.phpt:
      Fixed bug #30407 (Strange behaviour of default arguments)

2005-02-09  Frank M. Kromann  <frank@kromann.info>

    * (PHP_4_3)
      ext/fbsql/php_fbsql.c
      ext/fbsql/php_fbsql.c:
      MFH: change return value from false to true, when a statement was executed
      with warnings

    * ext/fbsql/php_fbsql.c:
      change return value from false to true, when a statement was executed with
      warnings

    * (PHP_4_3)
      ext/fbsql/php_fbsql.c
      ext/fbsql/php_fbsql.c:
      MFH: Check for warnings and return the warning texts

    * ext/fbsql/php_fbsql.c:
      Check for warnings and return the warning texts

2005-02-09  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ext/curl/config.m4:
      Fix for bug #31901

2005-02-09  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_5_0)
      ext/dom/php_dom.c:
      MFH: Fixed bug #31878 (Segmentation fault using clone keyword on nodes)

    * ext/dom/php_dom.c:
      Fixed bug #31878 (Segmentation fault using clone keyword on nodes)

2005-02-09  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * acinclude.m4:
      - Complement for Jani's fix. Likely fix the iconv issue.

2005-02-08  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/shmop/php_shmop.h
      ext/shmop/shmop.c:
      Removed pointless operations/declarations.

    * NEWS
      ext/standard/file.c:
      Added optional maxlen parameter to file_get_contents().

2005-02-08  Antony Dovgal  <tony2001@phpclub.net>

    * NEWS
      ext/cpdf/.cvsignore
      ext/cpdf/CREDITS
      ext/cpdf/config.m4
      ext/cpdf/config.w32
      ext/cpdf/cpdf.c
      ext/cpdf/cpdf.dsp
      ext/cpdf/package.xml
      ext/cpdf/php_cpdf.h:
      move ext/cpdf to PECL

2005-02-08  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_5_0)
      ext/fam/fam.c
      ext/fam/php_fam.h
      ext/hwapi/hwapi.cpp
      ext/hwapi/php_hwapi.h
      ext/xml/xml.c:
      MFH eliminating a few more useless R* calls

2005-02-07  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ext/fam/fam.c
      ext/fam/php_fam.h
      ext/hwapi/hwapi.cpp
      ext/hwapi/php_hwapi.h
      ext/mono/php_mono.c
      ext/msession/msession.c
      ext/msession/php_msession.h
      ext/ncurses/ncurses.c
      ext/ncurses/php_ncurses.h:
      Get rid of more useless RINIT/RSHUTDOWN calls

2005-02-07  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/sysvmsg/sysvmsg.c
      ext/sysvmsg/sysvmsg.c:
      MFH: Fixed bug #31527 (crash in msg_send() when non-string is stored
      without
      being serialized).

    * ext/sysvmsg/sysvmsg.c:
      Fixed bug #31527 (crash in msg_send() when non-string is stored without
      being serialized).

2005-02-07  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ext/xml/xml.c:
      No reason to call empty RINIT, RSHUTDOWN and MSHUTDOWN functions here

2005-02-07  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_compile.c:
      Fixed bug introduced with foreach() optimization patch

    * ZendEngine2/zend_compile.c:
      Fixed FE_RESET/FE_FETCH bug.
      Now FE_RESET instruction takes jump-address from itself, not from the
      following FE_FETCH instruction.

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_language_parser.y
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h:
      foreash($a as $key => $val) optimization
      Removed temorary array creation on each iteration.

2005-02-07  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_language_parser.y:
      - Remove part of the cleanup which causes a problem with unnormal code
        like tests/lang/040.phpt

    * tests/lang/040.phpt:
      - Add new test

2005-02-07  Antony Dovgal  <tony2001@phpclub.net>

    * ext/filepro/filepro.c
      ext/filepro/php_filepro.h:
      fix leaks on shutdown
      fix leaks appearing when trying to open several "databases"

2005-02-07  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      configure.in
      configure.in:
      MFH: - Fixed bug #31858 (--disable-cli does not force --without-pear)

    * configure.in:
      - Fixed bug #31858 (--disable-cli does not force --without-pear)

2005-02-06  Zeev Suraski  <zeev@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_ini_scanner.l:
      Correct fix for #28803

    * ZendEngine2/zend_ini_scanner.l:
      Correct fix for #28804

    * (PHP_4_3)
      Zend/zend_ini_scanner.l:
      Correct fix for #28804 (minimize change from previous regexp)

2005-02-06  Wez Furlong  <wez.php@thebrainroom.net>

    * main/php_streams.h:
      Avoid bug where stream_copy_to_stream() call for precisely 2000000 bytes
      would
      result in entire resource being copied.
      The mmap brake is already present inside mmap_range() and is set to 1MB.

    * ext/standard/file.c:
      support sucking data from streams in file_put_contents()

2005-02-06  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/standard/exec.c:
      Fixed possible un-initialized var on error.

2005-02-06  Wez Furlong  <wez.php@thebrainroom.net>

    * main/php_memory_streams.h
      main/streams/memory.c:
      add an open mode for the memory streams that allows the stream to take
      ownership of the passed-in buffer

    * ext/sqlite/TODO:
      update todo

2005-02-05  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_language_parser.y
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h:
      - Cleanup foreach statement

2005-02-05  Georg Richter  <georg@mysql.com>

    * ext/mysqli/config.m4:
      fix for bug #29329

2005-02-04  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/standard/tests/time/bug13142.phpt
      ext/standard/tests/time/bug13142.phpt
      ext/standard/tests/time/bug13142.phpt:
      fix test

2005-02-04  Hartmut Holzgraefe  <hartmut@php-groupies.de>

    * NEWS
      ZendEngine2/zend_API.c
      ZendEngine2/zend_API.h:
      added some missing zend_[declare|update]_property_...() convenience
      functions for bool, double and binary safe string data

2005-02-04  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #31832 (SOAP encoding problem with complex types in WSDL mode
      with multiple parts)

2005-02-04  Derick Rethans  <php@derickrethans.nl>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/dbase/dbase.c
      ext/dbase/dbase.c:
      - MFH: Fixed bug #31754 (dbase_open() fails for mode = 1). (Mehdi, Derick)

    * ext/dbase/dbase.c:
      - Fixed bug #31754 (dbase_open() fails for mode = 1). (Mehdi, Derick)

2005-02-04  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_5_0)
      NEWS:
      BFN

    * (PHP_4_3)
      NEWS
      ext/standard/datetime.c
      ext/standard/datetime.c:
      MFH: Fixed bug #31842 (*date('r') does not return RFC2822 conforming date
      string).

    * ext/standard/datetime.c:
      - Fixed bug #31842 (*date('r') does not return RFC2822 conforming date
      string).

    * (PHP_4_3)
      NEWS
      sapi/cgi/cgi_main.c:
      MFH: - Fixed bug #28227 (PHP CGI depends upon non-standard SCRIPT_FILENAME)

    * (PHP_5_0)
      NEWS
      sapi/cgi/cgi_main.c:
      MFH: - Fixed bug #28227 (PHP CGI depends upon non-standard SCRIPT_FILENAME)

    * sapi/cgi/cgi_main.c:
      - Fixed bug #28227 (PHP CGI depends upon non-standard SCRIPT_FILENAME)

2005-02-04  Ilia Alshanetsky  <ilia@prohost.org>

    * ext/readline/readline.c:
      Proper fix for bug #31796 .

2005-02-03  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/readline/readline.c
      ext/readline/readline.c:
      MFH: Fixed bug #31796 (readline completion handler does not handle empty
      return values).

    * ext/readline/readline.c:
      Fixed bug #31796 (readline completion handler does not handle empty return
      values).

2005-02-03  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * buildconf
      build/build2.mk:
      - Fix buildconf with BSD make

2005-02-03  Magnus M‰‰tt‰  <novell@kiruna.se>

    * ext/filepro/package.xml:
      Fix typos.

2005-02-03  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * EXTENSIONS:
      cleanup

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_ini_scanner.l:
      MFH: Fixed bug #28804 (ini-file section parsing pattern is buggy).

    * (PHP_4_3)
      NEWS
      Zend/zend_ini_scanner.l:
      - MFH: Fixed bug #28804 (ini-file section parsing pattern is buggy).

    * ZendEngine2/zend_ini_scanner.l:
      - Fixed bug #28804 (ini-file section parsing pattern is buggy).

    * (PHP_4_3)
      Zend/zend_ini_scanner.l:
      Missing $Id$ tag + ws fix

    * ZendEngine2/zend_ini_scanner.l
      ZendEngine2/zend_ini_scanner.l:
      ws fix

2005-02-02  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      main/fopen_wrappers.c
      main/fopen_wrappers.c:
      MFH: Fixed bug #31514 (open_basedir uses path_translated rather then cwd
      for .
      translation).

    * main/fopen_wrappers.c:
      Fixed bug #31514 (open_basedir uses path_translated rather then cwd for .
      translation).

2005-02-02  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS:
      pecl movement

    * ext/w32api/.cvsignore
      ext/w32api/CREDITS
      ext/w32api/EXPERIMENTAL
      ext/w32api/README
      ext/w32api/TODO
      ext/w32api/package.xml
      ext/w32api/php_w32api.h
      ext/w32api/w32api.c
      ext/w32api/w32api.dsp
      ext/w32api/w32api_function_definition_parser.y
      ext/w32api/w32api_function_definition_scanner.l
      ext/w32api/w32api_type_definition_parser.y
      ext/w32api/w32api_type_definition_scanner.l:
      - Moved ext/w32api to PECL.

    * NEWS:
      PECL

    * ext/yp/.cvsignore
      ext/yp/CREDITS
      ext/yp/config.m4
      ext/yp/package.xml
      ext/yp/php_yp.h
      ext/yp/yp.c:
      - Moved ext/yp to PECL.

    * NEWS:
      NEWS

    * ext/dio/.cvsignore
      ext/dio/EXPERIMENTAL
      ext/dio/config.m4
      ext/dio/config.w32
      ext/dio/dio.c
      ext/dio/package.xml
      ext/dio/php_dio.h
      ext/dio/tests/.cvsignore
      ext/dio/tests/001.phpt:
      - Moved ext/dio to PECL.

2005-02-02  Stanislav Malyshev  <stas@zend.com>

    * ext/standard/array.c:
      fix memory leak if function call fails

    * ZendEngine2/zend_execute_API.c:
      Fix #31720    Invalid object callbacks not caught in array_walk() (patch
      from Antony Dovgal)

2005-02-02  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #31747 (SOAP Digest Authentication doesn't work with "HTTP/1.1
      100 Continue" response)

2005-02-02  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/tests/bug31720.phpt:
      test for Bug #31720

    * ZendEngine2/tests/bug31720.phpt
      ZendEngine2/tests/bug31720.phpt:
      
      file bug31720.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      ZendEngine2/zend_execute_API.c:
      Fix #31720  	Invalid object callbacks not caught in array_walk() (patch
      from Antony Dovgal)

    * (PHP_5_0)
      ext/standard/array.c:
      fix leak if function call fails

2005-02-02  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #31755 (Cannot create SOAP header in no namespace)

    * ZendEngine2/tests/bug31683.phpt
      ZendEngine2/tests/bug31683.phpt:
      
      file bug31683.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend.h
      ZendEngine2/zend.h
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/zend_object_handlers.c
      ZendEngine2/tests/bug31683.phpt:
      Fixed bugs #29767 and #31683 (__get and __set methods must not modify
      property name).

2005-02-01  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/exif/exif.c
      ext/exif/exif.c:
      MFH: Fixed bug #31797 (exif_read_data() uses too low nesting limit).

    * ext/exif/exif.c:
      Fixed bug #31797 (exif_read_data() uses too low nesting limit).

2005-02-01  Stanislav Malyshev  <stas@zend.com>

    * ZendEngine2/zend_builtin_functions.c
      ZendEngine2/zend_builtin_functions.c:
      Fix debug_trace with eval (patch from Antony Dovgal)

    * ZendEngine2/tests/bug_debug_backtrace.phpt:
      test for eval debug_backtrace bug

    * ZendEngine2/tests/bug_debug_backtrace.phpt
      ZendEngine2/tests/bug_debug_backtrace.phpt:
      
      file bug_debug_backtrace.phpt was initially added on branch PHP_5_0.

    * (PHP_4_3)
      Zend/zend_execute.c:
      Better fix for #28086

2005-02-01  Anantha Kesari H Y  <hyanantha@novell.com>

    * TSRM/TSRM.h:
      NetWare has a compliant pthread implementation

    * (PHP_5_0)
      TSRM/TSRM.h:
      NetWare is now having compliant pthreads implementation

2005-02-01  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      main/rfc1867.c
      main/rfc1867.c:
      MFH: Final version of filename upload handling.

    * main/rfc1867.c:
      Final version of filename upload handling.

2005-01-31  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_reflection_api.c:
      - Add ReclectionClass:hasProperty(), ReflectionClass::hasConstant()
        to complete api (johannes@php.net)

2005-01-30  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re
      ext/standard/var_unserializer.re:
      MFH: Fix handling of INF/NAN in unserialize().

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      Fix handling of INF/NAN in unserialize().

2005-01-28  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_execute_API.c:
      - Fix severity (found by johannes)

2005-01-28  Georg Richter  <georg@mysql.com>

    * (PHP_5_0)
      NEWS
      ext/mysqli/mysqli_api.c
      ext/mysqli/mysqli_prop.c:
      MFH: Fix for mysql_affected_rows and mysql_stmt_affected_rows

    * ext/mysqli/mysqli_api.c
      ext/mysqli/mysqli_prop.c:
      fixed a bug in mysql_affected_rows and mysql_stmt_affected_rows
      in case affected_rows function returns (my_ulonglong) -1 for errors.
      (Thanks to Antony Dovgal for reporting this bug)

2005-01-28  Antony Dovgal  <tony2001@phpclub.net>

    * ext/standard/ftok.c
      ext/standard/ftok.c
      ext/standard/ftok.c:
      improve CS & error messages

    * ext/standard/ftok.c
      ext/standard/ftok.c:
      MFB: explain why ftok() failed

    * (PHP_5_0)
      ext/standard/ftok.c:
      add warning explaining why ftok() failed

    * (PHP_5_0)
      NEWS:
      BFN (#31732)

    * ext/mbstring/mbstring.c:
      MFB: fix #31732

    * (PHP_5_0)
      ext/mbstring/mbstring.c:
      fix #31732 (mb_get_info causes segfault)

    * (PHP_4_3)
      ext/posix/posix.c
      ext/posix/posix.c:
      MFH: change return type from NULL to FALSE when parameter parsing failed

    * ext/posix/posix.c:
      change return type from NULL to FALSE when parameter parsing failed
      (as was requested by Ilia)

    * ext/posix/posix.c:
      MFB: fix posix_getsid() & posix_getpgid()

    * (PHP_5_0)
      NEWS
      ext/posix/posix.c:
      fix posix_getsid() & posix_getpgid()
      
      /* looks like copy&paste error first introduced in PHP 3.0.10 (!) */

2005-01-27  Frank M. Kromann  <frank@kromann.info>

    * (PHP_4_3)
      ext/fbsql/php_fbsql.c
      ext/fbsql/php_fbsql.c:
      MFH: Hack to fix crash caused by FBCAccess not returning errors when
      creating an index that exists in the database.

    * ext/fbsql/php_fbsql.c:
      Hack to fix crash caused by FBCAccess not returning errors when creating an
      index that exists in the database.

2005-01-27  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      ext/standard/url.c
      ext/standard/tests/strings/url_t.phpt:
      MFH: Fixed bug #31705 (parse_url() does not recognize http://foo.com#bar)

    * (PHP_5_0)
      NEWS
      ext/standard/url.c
      ext/standard/tests/strings/url_t.phpt:
      MFH: Fixed bug #31705 (parse_url() does not recognize http://foo.com#bar).

    * ext/standard/url.c
      ext/standard/tests/strings/url_t.phpt:
      Fixed bug #31705 (parse_url() does not recognize http://foo.com#bar)

2005-01-27  Antony Dovgal  <tony2001@phpclub.net>

    * ext/mysqli/mysqli.c:
      MFB: fix leak in mysqli_fetch_array()

    * (PHP_5_0)
      ext/mysqli/mysqli.c:
      fix leak in mysqli_fetch_array() when using invalid resulttype

2005-01-27  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli_api.c:
      fix for bug #31710 (return value for mysql_rollback is reverted)
      fixed also same behaviour for mysql_commit and mysql_autocommit

2005-01-27  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/mysqli/mysqli_api.c:
      MFB: fix segfault when invalid field offset is passed to
      mysqli_fetch_field_direct()

    * (PHP_5_0)
      ext/mysqli/mysqli_api.c:
      fix segfault when invalid field offset is passed to
      mysqli_fetch_field_direct()

2005-01-26  Derick Rethans  <php@derickrethans.nl>

    * (PHP_4_3)
      sapi/apache/config.m4
      sapi/apache/config.m4:
      - MFH: There is no --with-apache2, only apxs2

    * sapi/apache/config.m4:
      - There is no --with-apache2, only apxs2

2005-01-26  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re
      ext/standard/var_unserializer.re:
      MFH: Fixed bug #31699 (unserialize() float problem on non-English locales).

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      Fixed bug #31699 (unserialize() float problem on non-English locales).

    * (PHP_4_3)
      NEWS
      ext/standard/formatted_print.c:
      MFH: Fixed bug #29733 (printf() handles repeated placeholders wrong).

    * (PHP_5_0)
      NEWS
      ext/standard/formatted_print.c:
      Fixed bug #29733 (printf() handles repeated placeholders wrong).
      (bugs dot php dot net at bluetwanger dot de, Ilia)

    * ext/standard/formatted_print.c:
      Fixed bug #29733 (printf() handles repeated placeholders wrong).
      

2005-01-25  Andrei Zmievski  <andrei@gravitonic.com>

    * ext/standard/browscap.c:
      Don't depend on empty_string.

2005-01-25  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/pack.c:
      MFH: Fixed bug #31465 (False warning in unpack() when working with *).

    * ext/standard/pack.c:
      Fixed bug #31465 (False warning in unpack() when working with *).

2005-01-25  Andrei Zmievski  <andrei@gravitonic.com>

    * (PHP_5_0)
      NEWS
      ext/standard/browscap.c
      ext/standard/browscap.c
      sapi/embed/php_embed.c
      sapi/embed/php_embed.c:
      MFB (Fix several egregious leaks in ext/browscap and sapi/embed).

    * (PHP_4_3)
      NEWS
      ext/standard/browscap.c
      sapi/embed/php_embed.c:
      Fix several egregious leaks in ext/browscap and sapi/embed.

2005-01-25  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/sqlite/sqlite.c:
      - Proto fix

2005-01-25  Antony Dovgal  <tony2001@phpclub.net>

    * ext/imap/php_imap.c:
      check body for NULL before using and prevent segfaults

2005-01-25  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/dio/dio.c
      ext/dio/dio.c:
      MFH: - Fixed bug #31684 (dio_tcsetattr(): misconfigured termios settings)

    * ext/dio/dio.c:
      - Fixed bug #31684 (dio_tcsetattr(): misconfigured termios settings)

    * ZendEngine2/zend.h:
      New versions of glibc support a RTLD_DEEPBIND flag to dlopen.  The
      effect of this flag when loading a "foo.so" with undefined symbols is
      that the search that symbol starts at foo.so and its dependencies
      *before* the loading process' global symbol table.
      
      This is an effective workaround for symbol namespace collisions between
      various modules and the libraries on which they depend (where fixing the
      respective modules or libraries is not possible e.g. due to API
      constraints).
      
      (By: Joe Orton)

    * (PHP_4_3)
      acinclude.m4
      acinclude.m4:
      MFH: - Fix macosx shared extension build

    * acinclude.m4:
      - Fix macosx shared extension build

    * (PHP_4_3)
      NEWS
      NEWS
      scripts/phpize.in
      scripts/phpize.in:
      MFH: - Return of the automake requirement

    * scripts/phpize.in:
      - Return of the automake requirement.

    * (PHP_5_0)
      NEWS:
      order + typos

2005-01-25  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #28041 (SOAP HTTP Digest Access Authentication was implemented)

2005-01-25  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS:
      - BFN

    * (PHP_5_0)
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_interfaces.c
      ZendEngine2/tests/bug26229.phpt:
      - MFH #26229 (getIterator() segfaults when it returns arrays or scalars)

    * ZendEngine2/zend_interfaces.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/tests/bug26229.phpt:
      - Bugfix #26229 (getIterator() segfaults when it returns arrays or scalars)

    * ZendEngine2/Makefile.frag:
      - Fix dependency

    * ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h:
      - Use correct freeing (thx Dmitry)

2005-01-25  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS
      NEWS
      NEWS:
      massage

2005-01-24  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      main/rfc1867.c
      main/rfc1867.c:
      MFH: Use multibyte specific code for handling files and generic basename
      based code in all other instances.

    * main/rfc1867.c:
      Use multibyte specific code for handling files and generic basename based
      code in all other instances.

    * (PHP_5_0)
      ext/sysvmsg/sysvmsg.c:
      Fixed compiler warning.

2005-01-24  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS
      NEWS:
      - BFN

    * (PHP_5_0)
      NEWS:
      - MFH fix for bug #31348 CachingIterator::rewind() leaks

    * ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/tests/bug30725.phpt:
      - Second and last part of #30725 fix

    * ZendEngine2/zend_interfaces.c:
      - Allow getIterator() to fail

    * ZendEngine2/tests/bug30725.phpt:
      
      - Add new test

    * NEWS:
      - mysqli/sqlite changes

    * ext/sqlite/sqlite.c:
      - Synch with MYSQLi extension and use RuntimeException as base for
        SQLiteException if SPL is present.

2005-01-24  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * main/rfc1867.c:
      - Revert irrelevant part.

2005-01-24  Antony Dovgal  <tony2001@phpclub.net>

    * ext/sysvmsg/tests/002.phpt:
        1.1.4;
      add test

    * ext/sysvmsg/sysvmsg.c:
      fix msg_recieve() returning TRUE instead of FALSE when unserialize failed
      (patch by Andrey Hristov)

2005-01-24  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      sapi/apache2handler/php_functions.c
      sapi/apache2handler/php_functions.c:
      MFH: Fixed regression #31645 - only flush before running the subrequest.

    * sapi/apache2handler/php_functions.c:
      Fixed regression #31645 - only flush before running the subrequest.

2005-01-23  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/sysvshm/sysvshm.c:
      Fixed compiler warning.

2005-01-23  Sergey Kartashoff  <gluke@mail.ru>

    * ext/mnogosearch/php_mnogo.c
      ext/mnogosearch/php_mnogo.c:
      - A bug in mnogosearch module in ispell loading code was fixed

2005-01-22  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      Zend/zend.c
      sapi/cli/php_cli.c:
      MFH: - Memory leak fixes from ZE2 + HEAD CLI

    * (PHP_4_3)
      Zend/Zend.m4
      Zend/configure.in
      Zend/zend_strtod.c
      ZendEngine2/Zend.m4
      ZendEngine2/configure.in
      ZendEngine2/zend_strtod.c:
      - Compile fix for systems without uint32_t typedef

    * (PHP_4_3)
      scripts/phpize.in:
      MFH: - Remove also autom4te.cache dir with phpize --clean

    * scripts/phpize.in
      scripts/phpize.in:
      - Remove also autom4te.cache dir with phpize --clean

    * (PHP_5_0)
      ZendEngine2/Zend.m4
      ZendEngine2/configure.in
      ZendEngine2/zend_strtod.c:
      MFH: Compile fix for systems without uint32_t typedef

2005-01-22  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * (PHP_5_0)
      NEWS:
      - BFN

    * ZendEngine2/zend_API.c
      ZendEngine2/zend_API.h
      ZendEngine2/zend_reflection_api.c:
      - Fix #31651 (ReflectionClass::getDefaultProperties segfaults with arrays.)

2005-01-22  Andi Gutmans  <andi@zend.com>

    * ZendEngine2/zend_compile.c
      ZendEngine2/zend_compile.h
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.h:
      - Two new API calls for Derick (retreive CV name and value) by Dmitry

2005-01-22  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      acinclude.m4
      ext/dba/config.m4
      ext/mcrypt/config.m4:
      MFH: - Typofix + removed unnecessary unsets caused by it

    * acinclude.m4
      acinclude.m4
      ext/dba/config.m4
      ext/dba/config.m4
      ext/mcrypt/config.m4
      ext/mcrypt/config.m4:
      - Typofix + removed unnecessary unsets caused by it

    * (PHP_4_3)
      NEWS
      NEWS:
      massage news

2005-01-22  Andrei Zmievski  <andrei@gravitonic.com>

    * ext/exif/exif.c:
      MFB (bugfix for 24851)

2005-01-21  Andrei Zmievski  <andrei@gravitonic.com>

    * (PHP_5_0)
      NEWS
      ext/exif/exif.c:
      MFB (bugfix for 28451)

    * (PHP_4_3)
      NEWS:
      -** empty log message ***

    * (PHP_4_3)
      ext/exif/exif.c:
      Protect against corrupt EXIF headers that feature unlimited IFD tag
      nesting.

2005-01-21  Stefan Esser  <sesser@suspekt.org>

    * ext/session/session.c:
      Correctly initialize ZVAL

2005-01-21  Antony Dovgal  <tony2001@phpclub.net>

    * ext/imap/php_imap.c:
      destruct return_value

2005-01-21  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      Zend/zend_execute.c:
      Fixed bug #28086 (crash inside overload() function).

2005-01-20  Edin Kadribasic  <edink@emini.dk>

    * (PHP_5_0)
      ext/ldap/config.w32:
      MFOB: Fixed bug #29492 - missing ldap_parse_reference()

    * (PHP_4_3)
      ext/ldap/ldap.dsp:
      Fixed bug #29492 - missing ldap_parse_reference()

2005-01-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      fix error message =/

    * (PHP_4_3)
      NEWS
      NEWS
      ext/oci8/oci8.c
      ext/oci8/oci8.c:
      MFH: fix bug #31623 (OCILogin does not support password grace period)

    * ext/oci8/oci8.c:
      fix bug #31623 (OCILogin does not support password grace period)

    * ext/imap/php_imap.c:
      fix error message

    * ext/imap/php_imap.c:
      fix segfault in imap_sort() - it segfaults when options is less than 0.
      it looks like c-client bug, but we still need a workaround.
      also, convert_to_string search criteria.

2005-01-20  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/string.c
      main/rfc1867.c
      main/rfc1867.c:
      MFH: Fixed bug #31398 (When magic_guotes_gpc are enabled filenames with '
      get cutoff).

    * main/rfc1867.c:
      Fixed bug #31398 (When magic_guotes_gpc are enabled filenames with '
      get cutoff).

2005-01-20  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #30901 (can't send cookies with soap envelop).
      void SoapClient::__setCookie(string name [, string value])

2005-01-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: fix segfault in imap_headerinfo() when fromlength or subjectlength are
      less than 0
      + fix protos

    * ext/imap/php_imap.c:
      fix segfault in imap_headerinfo() when fromlength or subjectlength are less
      than 0
      + fix protos

2005-01-20  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      Fixed bug #31422 (No Error-Logging on SoapServer-Side).

2005-01-20  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/dom/php_dom.c:
      MFH: Fixed bug #28817 (Var problem when extending domDocument)

    * ext/dom/php_dom.c:
      Fixed bug #28817 (Var problem when extending domDocument).

2005-01-20  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/sysvsem/sysvsem.c
      ext/sysvsem/sysvsem.c:
      MFH: fix typos in error messages & resource name

    * ext/sysvshm/sysvshm.c:
      fix typos in error messages

    * ext/sysvsem/sysvsem.c:
      fix typos in error messages & resource name

2005-01-20  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ZendEngine2/zend.h
      ZendEngine2/zend_constants.c
      ext/ncurses/ncurses_functions.c
      sapi/cli/php_cli.c:
      - Revert the weird change of ZEND_STRS() macro and use the correct
        ZEND_STRL() macro.

    * (PHP_4_3)
      NEWS
      build/build2.mk
      build/buildcheck.sh
      build/libtool.m4
      scripts/Makefile.frag
      scripts/phpize.in:
      MFH: - Changed phpize not to require automake and libtool. (Jani)
      MFH: - Fixed build system to always use bundled libtool files. (Jani)
      MFH: - Rewrote of phpize routines

    * (PHP_5_0)
      NEWS
      build/build2.mk
      build/buildcheck.sh
      build/libtool.m4
      scripts/Makefile.frag
      scripts/phpize.in:
      MFH: - Changed phpize not to require automake and libtool. (Jani)
      MFH: - Fixed build system to always use bundled libtool files. (Jani)

    * build/build2.mk
      build/buildcheck.sh
      scripts/Makefile.frag
      scripts/phpize.in:
      - Changed phpize not to require automake and libtool.
      - Fixed build system to always use bundled libtool files.

    * scripts/phpize.m4:
      - Add --with-libdir to phpized builds too

    * configure.in:
      - Removed obsolete AC_PROG_RANLIB (AC_PROG_LIBTOOL does it)
      - configure --help output cleanup for --with-libdir

2005-01-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * buildconf
      build/build2.mk:
      Added --debug option to buildconf

    * build/build2.mk
      build/build2.mk
      build/build2.mk
      build/buildcheck.sh
      build/buildcheck.sh
      build/buildcheck.sh:
      Revert the multiple autoconf versions patch

2005-01-19  Ilia Alshanetsky  <ilia@prohost.org>

    * win32/sendmail.c:
      Stricter cc header check.

2005-01-19  Derick Rethans  <php@derickrethans.nl>

    * build/libtool.m4:
      - Add the patched libtool.m4 from snaps so that Jani can play with it.

2005-01-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      win32/sendmail.c
      win32/sendmail.c:
      MFH: - Fixed bug #28976 (use From: from headers if sendmail_from is empty)

    * win32/sendmail.c:
      - Fixed bug #28976 (use From: from headers if sendmail_from is empty)

    * acinclude.m4
      configure.in:
      - Fix the pic patch

    * ZendEngine2/zend_object_handlers.c:
      - Fixed bug #29183 (Undefined symbol zend_check_private with Solaris CC)

    * (PHP_5_0)
      run-tests.php:
      MFH: - Fixed bug #29136 (make test - libtool failure on MacOSX)

    * run-tests.php:
      - Fixed bug #29136 (make test - libtool failure on MacOSX)

2005-01-19  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ZendEngine2/zend_ini_parser.y:
      - Fix memleak

2005-01-19  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/ldap/ldap.c:
      MFH: - WS & CS fixes
      MFH: - php_error -> php_error_docref
      MFH: - Removed pointless checks (array_init, emalloc, etc.)
      MFH: - Force ldapv3 for ldap_start_tls()

    * ext/ldap/ldap.c:
      - ldap_start_tls() requires ldapv3 protocol -> force it

2005-01-18  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: Fixed bug #31142 (crash, memory leak and data loss by
      imap_mail_compose).

    * ext/imap/php_imap.c:
      Fixed bug #31142 (crash, memory leak and data loss by imap_mail_compose).

2005-01-18  Frank M. Kromann  <frank@kromann.info>

    * ext/mssql/php_mssql.h:
      Set the MSSQL_VERSION to FreeTDS when that lib is used

    * ext/mssql/config.w32:
      Rename php_freetds.dll to php_dblib.dll (still using the freetds libs).
      Allow the build of both versions in the same process

2005-01-18  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      ext/odbc/config.m4
      ext/odbc/config.m4:
      MFH: add checks for libs & headers required by IBM DB2

    * ext/odbc/config.m4:
      add checks for libs & headers required by IBM DB2

2005-01-18  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: Fixed bug #31480 (Possible infinite loop in imap_mail_compose()).

    * ext/imap/php_imap.c:
      Fixed bug #31480 (Possible infinite loop in imap_mail_compose()).

    * (PHP_4_3)
      NEWS
      NEWS
      ext/standard/string.c
      ext/standard/string.c:
      MFH: Fixed bug #31479 (Fixed crash in chunk_split(), when chunklen >
      strlen).

    * ext/standard/string.c:
      Fixed bug #31479 (Fixed crash in chunk_split(), when chunklen > strlen).

2005-01-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/session/mod_files.c
      ext/session/mod_files.c:
      MFH: - Use FD_CLOEXEC with fcntl() and make sure it is always defined

    * ext/session/mod_files.c:
      - Make sure FD_CLOEXEC is always defined.

2005-01-18  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/odbc/php_odbc.c
      ext/odbc/php_odbc.c:
      MFH: fix bug #30430 (odbc_next_result() doesn't bind values and that
      results in segfault)
      fix protos

    * ext/odbc/php_odbc.c:
      fix bug #30430 (odbc_next_result() doesn't bind values and that results in
      segfault)
      fix protos

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_compile.c:
      Fixed patch for bug #31478 (SegFault/Memory Leak with empty())

2005-01-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * tests/lang/bug30726.phpt:
      - Sanitize output

    * ext/standard/tests/serialize/bug31402.phpt:
        1.1.4;
      Add test for bug #31402

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * (PHP_5_0)
      NEWS:
      changed title of the bugreport

2005-01-18  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/url_scanner_ex.c
      ext/standard/var_unserializer.c:
      - Files generated with re2c 0.9.2

    * (PHP_4_3)
      ext/standard/basic_functions.c
      ext/standard/url_scanner_ex.re:
      MFH: - Move hash table destruction to proper location

    * (PHP_5_0)
      ext/standard/var_unserializer.c:
      Touch generated file.

    * ext/standard/var_unserializer.c:
      Touch the generated file.

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * ext/standard/basic_functions.c
      ext/standard/tests/general_functions/bug31190.phpt:
      Fixed bug #31190 (exceptions in call_user_func_array())

    * ext/standard/tests/general_functions/bug31190.phpt
      ext/standard/tests/general_functions/bug31190.phpt:
      
      file bug31190.phpt was initially added on branch PHP_5_0.

    * (PHP_5_0)
      NEWS
      ext/standard/basic_functions.c:
      Fixed bug #31190 (iexceptions in call_user_func_array())

2005-01-18  Magnus M‰‰tt‰  <novell@kiruna.se>

    * (PHP_4_3)
      tests/lang/bug30726.phpt
      tests/lang/bug30726.phpt:
      Add test case for bug #30726.

    * tests/lang/bug30726.phpt:
        1.1.4;
      Add test case for bug #30726.

2005-01-18  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_execute.c:
      Fixed bug #28444 (Cannot access undefined property for object with
      overloaded property access).

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_execute.c:
      Fixed bug #28444 (Cannot access undefined property for object with
      overloaded property access). (Dmitry)

2005-01-18  Frank M. Kromann  <frank@kromann.info>

    * ext/mssql/config.w32:
      use the static dblib.lib to avoid the need for extra dll's

    * ext/mssql/config.w32:
      add --with-freetds option to win32 build.
      TODO make it work when both mssql and freetds is included or bail out with
      an error

    * ext/mssql/php_mssql.c
      ext/mssql/php_mssql.h:
      make the mssql extension work with freetds on win32

2005-01-18  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      Zend/zend_operators.h
      ZendEngine2/zend_operators.h:
      MFH: Fixed bug #30726 (-.1 like numbers are not being handled correctly).

    * ZendEngine2/zend_operators.h:
      Fixed bug #30726 (-.1 like numbers are not being handled correctly).

    * (PHP_4_3)
      NEWS
      ext/standard/file.c:
      Fixed bug #31580 (fgetcsv() problematic with "" escape sequences).

2005-01-17  Antony Dovgal  <tony2001@phpclub.net>

    * ext/odbc/php_odbc.c:
      fix weird DB2 issue:
      DB2's SQLDataSources() returns _max available_ length of result string
      instead of
      _real_ length and that results in strings a-la "\0                  "

2005-01-17  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      Zend/zend_language_scanner.l:
      MFZE2: - Fixed bug #31444 (Memory leak in zend_language_scanner.c)

    * (PHP_5_0)
      NEWS
      ZendEngine2/zend_language_scanner.l:
      MFH: - Fixed bug #31444 (Memory leak in zend_language_scanner.c)

    * ZendEngine2/zend_language_scanner.l:
      - Fixed bug #31444 (Memory leak in zend_language_scanner.c)

    * (PHP_4_3)
      ext/gd/gd.c
      ext/gd/gd.c:
      MFH: - Added some sanity checks by changing to the parameter parsing API

    * ext/gd/gd.c:
      - Added some sanity checks by changing to the parameter parsing API

2005-01-17  Christian Stocker  <chregu@bitflux.ch>

    * (PHP_5_0)
      ext/xsl/php_xsl.c
      ext/xsl/php_xsl.h:
      revert these 2 files... shouldn't have been comitted ..

    * ext/xsl/xsltprocessor.c:
      fix protos (by Mehdi Achour )

2005-01-17  Antony Dovgal  <tony2001@phpclub.net>

    * ext/odbc/php_odbc.c:
      fix leak appearing when odbc_errormsg() got invalid resource

2005-01-17  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      sapi/apache2handler/sapi_apache2.c
      sapi/apache2handler/sapi_apache2.c:
      MFH - Fixed bug #31519: Set r->status_line to SAPI-provided status-line.

    * sapi/apache2handler/sapi_apache2.c:
      Fixed bug #31519: Set r->status_line to SAPI-provided status-line.

2005-01-17  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re
      ext/standard/var_unserializer.re:
      Fix compiler warning.

2005-01-16  Stefan Esser  <sesser@suspekt.org>

    * (PHP_5_0)
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      if 2 of 3 tests are okay still do the 3rd test !

2005-01-16  Zak Greant  <zak@mysql.com>

    * ext/mysqli/mysqli_driver.c
      ext/mysqli/mysqli_embedded.c
      ext/mysqli/mysqli_exception.c
      ext/mysqli/mysqli_report.h
      ext/mysqli/mysqli_warning.c
      ext/mysqli/php_mysqli.h:
      Added standard emacs and vim modelines

2005-01-16  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      ext/mbstring/mbstring.c:
      - MFH: Fix a critical bug that request-local settings leak to another
      request.

    * (PHP_5_0)
      ext/mbstring/mb_gpc.c
      ext/mbstring/mb_gpc.h
      ext/mbstring/mbstring.c:
      -MFH: Fix a critical bug that request-local settings leak to another
      request.

    * ext/mbstring/mb_gpc.c
      ext/mbstring/mb_gpc.h
      ext/mbstring/mbstring.c:
      - Fix a critical bug that request-local settings leak to another request.

2005-01-16  Stanislav Malyshev  <stas@zend.com>

    * (PHP_4_3)
      Zend/zend_execute.c:
      another fix for overloaded objects

2005-01-15  Andi Gutmans  <andi@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_API.c:
      - Fix WS

2005-01-15  Stefan Esser  <sesser@suspekt.org>

    * ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      and use it...

    * TSRM/tsrm_virtual_cwd.c:
      finally use what we calculated

    * ext/standard/php_var.h
      ext/standard/var_unserializer.c
      ext/standard/var_unserializer.re:
      Restore unserialize() speed

2005-01-15  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ext/standard/streamsfuncs.c:
      CS fix

    * ext/gd/gd.c:
      ws fix

2005-01-15  Andi Gutmans  <andi@zend.com>

    * (PHP_5_0)
      ZendEngine2/zend_API.c:
      - Change to using DL_UNLOAD macro.

    * ZendEngine2/zend_API.c:
      - Unload on MAC OS X (shouldn't be a reason not to)

2005-01-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/gd/gd.c
      ext/gd/gd.c:
      MFH: - Fixed bug #31060 (imageftbbox() does not use linespacing parameter)

    * ext/gd/gd.c:
      - Fixed bug #31060 (imageftbbox() does not use linespacing parameter)

    * (PHP_4_3)
      NEWS
      NEWS
      ext/gd/gd.c
      ext/gd/gd.c:
      MFH: - Fixed bug #30120 (imagettftext() and imagettfbbox() accept too many
      parameters)

    * ext/gd/gd.c:
      - Fixed bug #30120 (imagettftext() and imagettfbbox() accept too many
      parameters)

    * (PHP_5_0)
      main/php.h
      sapi/apache_hooks/php_apache.c:
      MFH: - Fix another generated header include

    * main/php.h
      sapi/apache_hooks/php_apache.c:
      - Fix another generated header include

2005-01-14  Dmitry Stogov  <dmitry@zend.com>

    * ext/standard/streamsfuncs.c:
      Fixed SIGSEGV in ext/standard/tests/network/tcp4loop.phpt and
      ext/standard/tests/network/unixloop.phpt

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug31098.phpt:
      Restore behavior of $str["str"]. (Now $str["str"] is equivalent to $str[0]
      again)

    * (PHP_5_0)
      ZendEngine2/tests/bug31098.phpt:
      Path -> pattern

    * (PHP_5_0)
      ext/standard/streamsfuncs.c:
      Fixed SIGSEGV with ext/standard/tests/network/tcp4loop.phpt and
      ext/standard/tests/network/unixloop.phpt

    * (PHP_5_0)
      ZendEngine2/zend_execute.c
      ZendEngine2/tests/bug31098.phpt:
      Revert to old behavior of $str["str"]. ($str["str"] is equivalent of
      $str[0])

2005-01-14  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS:
      BFN

2005-01-13  Ard Biesheuvel  <a.k.biesheuvel@ewi.tudelft.nl>

    * (PHP_4_3)
      ext/interbase/interbase.c:
      Fixed unregistered bug: corrupted 32-bit LONGs on 64-bit systems

2005-01-13  Wez Furlong  <wez.php@thebrainroom.net>

    * (PHP_5_0)
      acinclude.m4:
      MFH the extension dep macro (which is a NOP)
      so that pecl extensions with deps can build against head and 5.0.x

2005-01-13  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.c:
      Additional fix for fix of bug #29883

2005-01-13  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/odbc/config.m4
      ext/odbc/php_odbc.c
      ext/odbc/php_odbc_includes.h:
      Add support for ODBCRouter

2005-01-12  Dmitry Stogov  <dmitry@zend.com>

    * ZendEngine2/zend_execute.c
      ZendEngine2/zend_execute.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_opcodes.h
      ZendEngine2/tests/bug31098.phpt
      ZendEngine2/tests/bug31098.phpt:
      Fixed bug #31098 (isset false positive)

2005-01-11  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      NEWS:
      Should probably note this

2005-01-11  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_5_0)
      NEWS:
      - I tend to write opposite things these days :P

    * (PHP_5_0)
      ZendEngine2/zend_execute.c
      ZendEngine2/tests/bug31098.phpt:
      - MFH: fix for bug #31098.

    * ZendEngine2/tests/bug31098.phpt
      ZendEngine2/tests/bug31436.phpt:
      
      - Test renaming

    * ZendEngine2/zend_vm_execute.h
      ZendEngine2/tests/bug31436.phpt:
      - Fix bug #31436 (isset() incorrectly returns true in dereference of a
      wrong type)

    * NEWS
      NEWS:
      - BFN

    * ext/standard/html.c:
      - Fix the fix :)

    * (PHP_4_3)
      ext/standard/html.c:
      - MFH: fix htmlentities() / html_decode_entity() UTF-8 related bugs
        initially reported by Kamesh Jayachandrana

    * (PHP_5_0)
      ext/standard/html.c
      ext/standard/tests/strings/htmlentities17.phpt:
      - MFH: fix htmlentities() / html_decode_entity() UTF-8 related bugs
        initially reported by Kamesh Jayachandran

    * ext/standard/html.c
      ext/standard/tests/strings/htmlentities17.phpt:
      - Fix htmlentities() / html_decode_entity() UTF-8 related bugs
        initially reported by Kamesh Jayachandran

    * ZendEngine2/zend_compile.c:
      - Fix bug #31478 (segfault with empty())

2005-01-11  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      NEWS
      NEWS
      sapi/apache2handler/php_functions.c
      sapi/apache2handler/php_functions.c:
      MFH: Fixed bug #30446 - virtual() includes files out of sequence,
      work around 2.0 subrequest/internal redirect issue.

    * sapi/apache2handler/php_functions.c:
      Fixed bug #30446 - virtual() includes files out of sequence,
      work around 2.0 subrequest/internal redirect issue.

2005-01-11  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * sapi/cgi/cgi_main.c:
      Fix ZTS build

2005-01-11  Rob Richards  <rrichards@ctindustries.net>

    * (PHP_5_0)
      ext/dom/php_dom.c:
      MFH: revert fix for bug #28817 - fix is bad

    * ext/dom/php_dom.c:
      revert fix for bug #28817 - fix is bad

2005-01-11  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/imap/config.m4
      ext/imap/config.m4
      ext/imap/php_imap.c
      ext/imap/php_imap.c:
      MFH: - Added check for IMAP 2004 versions

    * ext/imap/config.m4
      ext/imap/php_imap.c:
      - Added check for IMAP 2005 version

2005-01-10  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * ZendEngine2/zend.h
      ZendEngine2/zend_API.c:
      Fix OSX DL_UNLOAD macro and actually use it to make shared extensions
      work on OSX.

2005-01-10  Antony Dovgal  <tony2001@phpclub.net>

    * ext/iconv/config.m4:
      fix Konstantin's last name Chugeuv -> Chuguev

2005-01-10  Rasmus Lerdorf  <rasmus@lerdorf.com>

    * (PHP_4_3)
      Zend/zend.h
      Zend/zend_API.c:
      Fixed shared extensions on OSX.  We were using zend_mh_bundle_load to
      load a shared extension, but dlclose() to unload it because it was
      hardcoded.  This caused problems for extensions loaded from php.ini
      since the Apple linker does a symbol check on an unload and we hadn't
      properly unloaded the shared extensions when Apache unloaded the parent
      PHP shared library during its 2-pass load/unload/load startup routine.
      By fixing the DL_UNLOAD macro and un-hardcoding the dlclose() call this
      now works.

2005-01-10  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/tests/math/bug30069.phpt:
      MFH: update test to include negative floats as strings too

    * ext/standard/tests/math/bug30069.phpt:
      update test to include negative floats as strings too

    * (PHP_4_3)
      NEWS
      sapi/cgi/cgi_main.c:
      MFH: - Fixed bug #28074 (FastCGI: stderr should be written in a FCGI stderr
      stream).

    * (PHP_5_0)
      NEWS
      sapi/cgi/cgi_main.c:
      - Fixed bug #28074 (FastCGI: stderr should be written in a FCGI stderr
      stream).
        (chris at ex-parrot dot com)

    * sapi/cgi/cgi_main.c:
      - Fixed bug #28074 (FastCGI: stderr should be written in a FCGI stderr
      stream).

    * ext/standard/php_parsedate.h
      ext/standard/php_smart_str.h
      ext/standard/php_smart_str_public.h
      ext/standard/url_scanner_ex.c
      ext/standard/url_scanner_ex.h
      ext/standard/url_scanner_ex.re:
      Missing $Id$ tag

    * ext/standard/credits_ext.h
      ext/standard/credits_sapi.h:
      - Update credits

    * ChangeLog
      ChangeLog.2004.gz:
      - Compressed 2004 Changelog

    * ZendEngine2/header
      ZendEngine2/zend_arg_defs.c
      ZendEngine2/zend_strtod.c
      ZendEngine2/zend_vm_def.h
      ZendEngine2/zend_vm_execute.h
      ZendEngine2/zend_vm_gen.php
      ZendEngine2/zend_vm_opcodes.h:
      - Added missing header sections.

2005-01-10  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/sqlite/sqlite.c:
      - Fix proto

    * ext/sqlite/sqlite.c:
      - Bugfix #31342: SQLite OO interface with Exceptions (hugo dot pl at gmail
      dot com)

    * ext/sqlite/php_sqlite.h
      ext/sqlite/sqlite.c:
      - Implement iterator interface in sqlite

2005-01-10  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * ZendEngine2/acinclude.m4
      ZendEngine2/configure.in:
      - Added AC_ZEND_C_BIGENDIAN macro (as requested by Andi)

    * configure.in
      configure.in
      configure.in:
      - The pic/no-pic patch by Joe Orton.

2005-01-09  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      configure.in:
      Forgot this from the outside-source-dir patch

    * (PHP_4_3)
      Zend/zend.h:
      This was not supposed to be committed..

    * (PHP_5_0)
      configure.in
      TSRM/TSRM.h
      TSRM/TSRM.h
      TSRM/tsrm_config_common.h
      TSRM/tsrm_config_common.h
      Zend/zend.h
      ZendEngine2/zend.h
      ext/bcmath/libbcmath/src/config.h
      ext/bcmath/libbcmath/src/config.h
      ext/gd/gdcache.c
      ext/gd/gdcache.c
      ext/gd/gdttf.c
      ext/gd/gdttf.c
      ext/mcve/mcve.c
      ext/mcve/mcve.c
      ext/odbc/birdstep.c
      ext/odbc/birdstep.c
      ext/pcre/pcrelib/internal.h
      ext/pcre/pcrelib/internal.h
      ext/sqlite/config.m4
      ext/standard/html.c
      ext/standard/html.c
      main/alloca.c
      main/alloca.c
      main/php_compat.h
      main/php_compat.h
      main/php_scandir.c
      main/php_scandir.c
      main/php_scandir.h
      main/php_scandir.h
      main/php_sprintf.c
      main/php_syslog.h
      main/php_syslog.h
      sapi/cgi/libfcgi/include/fcgi_config.h
      sapi/cgi/libfcgi/include/fcgi_config.h:
      MFH: - Fix outside-source-tree builds. Always include generated header
      files
             with #include <some_header.h> to make sure the correct file is
      used.

    * configure.in
      TSRM/TSRM.h
      TSRM/tsrm_config_common.h
      ZendEngine2/zend.h
      ext/bcmath/libbcmath/src/config.h
      ext/gd/gdcache.c
      ext/gd/gdttf.c
      ext/mcve/mcve.c
      ext/odbc/birdstep.c
      ext/pcre/pcrelib/internal.h
      ext/sqlite/config.m4
      ext/standard/html.c
      main/alloca.c
      main/php_compat.h
      main/php_scandir.h
      main/php_sprintf.c
      main/php_syslog.h
      sapi/cgi/libfcgi/include/fcgi_config.h:
      - Fix outside-source-tree builds. Always include generated header files
        with #include <some_header.h> to make sure the correct file is used.

2005-01-09  Antony Dovgal  <tony2001@phpclub.net>

    * (PHP_4_3)
      NEWS:
      BFN & end of cvs spam

    * (PHP_5_0)
      NEWS:
      BFN

    * ext/session/tests/bug31454.phpt
      ext/session/tests/bug31454.phpt
      ext/session/tests/bug31454.phpt:
      add skipif section

    * ext/session/tests/bug31454.phpt:
        1.1.4;
      add test for bug #31454

    * ext/session/session.c:
      efree(name)

    * ext/session/session.c:
      fix bug #31454 (session_set_save_handler crashes PHP when supplied
      non-existent object ref)

2005-01-09  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      Zend/zend_ini.c
      Zend/zend_ini.h:
      MFH: - Fix leak. (forgot from previous commit)

    * (PHP_4_3)
      ext/standard/basic_functions.c
      ext/standard/basic_functions.c
      main/main.c
      main/main.c
      main/php_main.h
      main/php_main.h:
      MFH: - Fix leaks with registered shutdown functions.

    * ext/standard/basic_functions.c
      main/main.c
      main/php_main.h:
      - Fix leaks with registered shutdown functions.

    * ZendEngine2/zend.c:
      MFB: - Rationalize code a bit

    * (PHP_4_3)
      Zend/zend.h:
      MFZE2: Some cleanups

    * TODO
      TODO:
      Remove done stuff

2005-01-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      ext/standard/basic_functions.c
      ext/standard/basic_functions.c:
      MFH: - Fix possible crash (PR#26223). Leaks remain.

    * ext/standard/basic_functions.c:
      - Fix possible crash (PR#26223). Leaks remain.

2005-01-08  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli_embedded.c
      ext/mysqli/tests/connect.inc:
      fixed compile bug under Windows (libmysql.def currently doesn't export
      mysql_server_init/end).
      Thanks to Sebastian Bergmann for reporting

2005-01-08  Dmitry Stogov  <dmitry@zend.com>

    * TSRM/tsrm_virtual_cwd.c:
      Unnecesary check was removed

2005-01-08  Marcus Boerger  <marcus.boerger@post.rwth-aachen.de>

    * ext/standard/tests/serialize/bug31442.phpt:
      - Add new test

    * ext/standard/tests/serialize/bug30234.phpt:
      - Unify

    * ext/mysqli/mysqli_exception.c:
      - Fix shared build

    * ext/mysqli/mysqli.c:
      - Remove double destroy (which is definitively wrong and prevents php from
        normal execution).

    * ext/dom/document.c:
      - Fix dependency

2005-01-08  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * NEWS:
      NN

    * ext/snmp/php_snmp.h
      ext/snmp/snmp.c:
      - Fix some memory leaks

2005-01-07  Antony Dovgal  <tony2001@phpclub.net>

    * ext/standard/head.c:
      remove duplicated include

2005-01-07  Magnus M‰‰tt‰  <novell@kiruna.se>

    * ext/posix/posix.c:
      Argh.. Committed old patch.
      Add safe_mode check and fix error code.

2005-01-07  Antony Dovgal  <tony2001@phpclub.net>

    * acinclude.m4:
      fix PHP_CHECK_64BIT macro (finally got 64bit machine to test it)

2005-01-07  Georg Richter  <georg@mysql.com>

    * ext/mysqli/mysqli.c:
      forgot to remove some comments in last commit:(

2005-01-07  Sebastian Bergmann  <sb@sebastian-bergmann.de>

    * ext/mysqli/mysqli_exception.c:
      ZTS fix.

    * ext/mysqli/config.w32:
      Sync with config.m4.

2005-01-07  Magnus M‰‰tt‰  <novell@kiruna.se>

    * NEWS
      ext/posix/php_posix.h
      ext/posix/posix.c:
      Added new function: posix_access()
      Feature requests: #29615, #14924

2005-01-07  Georg Richter  <georg@mysql.com>

    * NEWS:
      new mysqli stuff

    * ext/mysqli/config.m4
      ext/mysqli/mysqli.c
      ext/mysqli/mysqli_api.c
      ext/mysqli/mysqli_driver.c
      ext/mysqli/mysqli_embedded.c
      ext/mysqli/mysqli_exception.c
      ext/mysqli/mysqli_fe.c
      ext/mysqli/mysqli_nonapi.c
      ext/mysqli/mysqli_prop.c
      ext/mysqli/mysqli_report.c
      ext/mysqli/mysqli_warning.c
      ext/mysqli/php_mysqli.h
      ext/mysqli/tests/001.phpt
      ext/mysqli/tests/014.phpt
      ext/mysqli/tests/017.phpt
      ext/mysqli/tests/033.phpt
      ext/mysqli/tests/034.phpt
      ext/mysqli/tests/041.phpt
      ext/mysqli/tests/045.phpt
      ext/mysqli/tests/047.phpt
      ext/mysqli/tests/049.phpt
      ext/mysqli/tests/061.phpt
      ext/mysqli/tests/connect.inc
      ext/mysqli/tests/skipif.inc
      ext/mysqli/tests/skipifemb.inc:
      Added new classes:
      	mysqli_driver
      	mysqli_warning
      	mysqli_exception
      	mysqli_sql_exception
      
      Improved embedded server support
      changed testsuite to work also with embedded server
      
      Made statement and resultset classes extendable
      
      minor fixes

2005-01-07  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      tests/classes/array_access_001.phpt
      tests/classes/array_access_002.phpt
      tests/classes/array_access_003.phpt
      tests/classes/array_access_004.phpt:
      removed skipif sections that check for the existence of ArrayAccess class
      which is nomore a class but a interface.As the corresponding files in
      PHP-5.1-HEAD had removed the SKIPIF blocks themselves, removing the same
      for PHP5_0 branch also.

2005-01-07  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      sapi/apache2filter/sapi_apache2.c
      sapi/apache2filter/sapi_apache2.c:
      MFH: - Fixed bug #31055 (apache2filter: per request leak proportional to
      the full path of the request URI)

    * sapi/apache2filter/sapi_apache2.c:
      - Fixed bug #31055 (apache2filter: per request leak proportional to the
      full path of the request URI)

    * (PHP_4_3)
      acinclude.m4
      acinclude.m4
      configure.in
      configure.in
      scripts/phpize.m4
      scripts/phpize.m4:
      MFH: - Make sure $host_alias is never empty

    * acinclude.m4
      configure.in
      scripts/phpize.m4:
      - Make sure $host_alias is never empty

2005-01-07  Wez Furlong  <wez.php@thebrainroom.net>

    * EXTENSIONS
      EXTENSIONS
      EXTENSIONS:
      update by steph

2005-01-06  Joe Orton  <jorton@redhat.com>

    * (PHP_4_3)
      NEWS
      NEWS
      ext/curl/curl.c
      ext/curl/interface.c:
      MFH: - Fixed bug #31413 (curl POSTFIELDS crashes on 64-bit platforms).

2005-01-06  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_5_0)
      ext/session/mod_files.c:
      Revert. This is always 1.

2005-01-05  Joe Orton  <jorton@redhat.com>

    * ext/curl/interface.c:
      Fix #31413: curl POSTFIELDS usage on 64-bit platforms.

2005-01-05  Anantha Kesari H Y  <hyanantha@novell.com>

    * (PHP_5_0)
      ext/session/mod_files.c:
      passing FD_CLOEXEC would be a standard way to pass argument to fcntl's last
      argument than 1

    * (PHP_5_0)
      ext/ldap/ldap.c:
      Removed redundant NEW_LIBC checks for NETWARE

    * (PHP_5_0)
      ext/ftp/php_ftp.c:
      Removed redundant NEW_LIBC checks for NetWare

    * (PHP_5_0)
      ext/ftp/ftp.c:
      Removed redundant NEW_LIBC checks

2005-01-04  Frank M. Kromann  <frank@kromann.info>

    * ext/gmp/config.w32:
      Allow gmp to compile under Win32

2005-01-04  Wez Furlong  <wez.php@thebrainroom.net>

    * ext/standard/streamsfuncs.c:
      Fix #31408: memory leak in stream_socket_recvfrom

2005-01-04  Jani Taskinen  <jani.taskinen@kolumbus.fi>

    * (PHP_4_3)
      main/network.c
      main/php_network.h:
      - Fix bug #31403 (php_hostconnect not defined as PHPAPI)

    * (PHP_4_3)
      NEWS
      NEWS:
      BFN

    * (PHP_4_3)
      ext/gd/config.m4
      ext/gd/gd.c:
      MFH: - Fixed bug #31396 (compile fails with gd 2.0.33 without freetype)

    * ext/gd/config.m4
      ext/gd/config.m4
      ext/gd/gd.c
      ext/gd/gd.c:
      - Fixed bug #31396 (compile fails with gd 2.0.33 without freetype)

2005-01-04  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_5_0)
      ext/openssl/xp_ssl.c:
      Fixed compiler warning resulting from an unused variable.

2005-01-03  Stanislav Malyshev  <stas@zend.com>

    * ext/sqlite/libsqlite/src/auth.c
      ext/sqlite/libsqlite/src/auth.c:
      merge patch from http://www.sqlite.org/cvstrac/chngview?cn=1953
      bug led to PHP exiting on queries with unknown columns

    * (PHP_5_0)
      ZendEngine2/zend_language_scanner.l:
      MFH:
      Fix the following nasty bug:
      - if compile bails out from the middle of compiling, current_buffer is not
      restored
      - if current_buffer is not null, yy_switch_to_buffer will do: *yy_c_buf_p
      = yy_hold_char; on
      the next request
      - which would lead to memory corruption on next request

    * ZendEngine2/zend_language_scanner.l:
      Fix the following nasty bug:
      - if compile bails out from the middle of compiling, current_buffer is not
      restored
      - if current_buffer is not null, yy_switch_to_buffer will do: *yy_c_buf_p
      = yy_hold_char; on
      the next request
      - which would lead to memory corruption on next request

    * (PHP_4_3)
      Zend/zend_language_scanner.l:
      Fix the following nasty bug:
      - if compile bails out from the middle of compiling, current_buffer is not
      restored
      - if current_buffer is not null, yy_switch_to_buffer will do: *yy_c_buf_p
      = yy_hold_char; on the next request
      - which would lead to memory corruption on next request

2005-01-02  Ilia Alshanetsky  <ilia@prohost.org>

    * (PHP_4_3)
      NEWS
      NEWS
      Zend/zend_highlight.c
      ZendEngine2/zend_highlight.c:
      MFH: Fixed bug #31371 (highlight_file() trims new line after heredoc).

    * ZendEngine2/zend_highlight.c:
      Fixed bug #31371 (highlight_file() trims new line after heredoc).

2005-01-02  Rob Richards  <rrichards@ctindustries.net>

    * ext/dom/document.c:
      allow parser flags to be passed to xinclude()

    * (PHP_5_0)
      NEWS:
      BFN

2005-01-02  Moriyoshi Koizumi  <moriyoshi@at.wakwak.com>

    * (PHP_4_3)
      ext/standard/tests/array/bug29493.phpt
      ext/standard/tests/array/bug29493.phpt
      ext/standard/tests/array/bug31213.phpt
      ext/standard/tests/array/bug31213.phpt:
      - MFH: add testcases for bug #29493 and #31213.

    * ext/standard/tests/array/bug29493.phpt
      ext/standard/tests/array/bug31213.phpt:
        1.1.4;
      - Add testcases for bug #29493 and #31213.

2005-01-01  Wez Furlong  <wez.php@thebrainroom.net>

    * (PHP_5_0)
      ext/openssl/config0.m4:
      Fix build here too

    * ext/openssl/config0.m4:
      Fix build...
