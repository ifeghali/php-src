// $Id$
// vim:ft=javascript

ARG_ENABLE("phar", "enable phar support", "no");

if (PHP_PHAR != "no") {
	if (PHP_ZLIB != "no") {
		EXTENSION("phar", "phar.c");
	} else {
		EXTENSION("phar", "phar.c", null, "/D ZLIB_EXPORTS");
		AC_DEFINE("HAVE_PHAR_ZLIB", 1, "ZLIB support in phar");
		CHECK_LIB("zlib.lib", "zlib", PHP_ZLIB);
		CHECK_HEADER_ADD_INCLUDE("zlib.h", "CFLAGS", "..\\zlib;" + php_usual_include_suspects);
		if (!PHP_ZLIB_SHARED) {
			ADD_DEF_FILE("ext\\zlib\\php_zlib.def");
		}
	}
}

