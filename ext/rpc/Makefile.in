
DEPTH     = ../..
topsrcdir = @topsrcdir@
srcdir    = @srcdir@
VPATH     = @srcdir@

LTLIBRARY_NAME    = libjava.la
LTLIBRARY_SOURCES = java.c
LTLIBRARY_LIBADD  = $(JAVA_LFLAGS)

EXTRA_CFLAGS   = $(JAVA_CFLAGS)
EXTRA_INCLUDES = $(JAVA_INCLUDE)

include $(topsrcdir)/build/ltlib.mk

phplib_DATA=php_java.jar
php_java.jar : reflect.java
	@test -e net || mkdir net
	@test -e net/php || mkdir net/php
	@cp reflect.java net/php
	@echo library=php4>net/php/reflect.properties
	javac net/php/reflect.java
	@test ! -f reflect.class || mv reflect.class net/php # bug in KJC javac
	zip -q0 php_java.jar net/php/*.class net/php/*.properties
	@rm net/php/reflect.*
	@rmdir net/php
	@rmdir net
